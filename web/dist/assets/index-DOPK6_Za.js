var p4=Object.defineProperty;var B1=n=>{throw TypeError(n)};var g4=(n,e,t)=>e in n?p4(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var Xe=(n,e,t)=>g4(n,typeof e!="symbol"?e+"":e,t),z1=(n,e,t)=>e.has(n)||B1("Cannot "+t);var Dt=(n,e,t)=>(z1(n,e,"read from private field"),t?t.call(n):e.get(n)),Jc=(n,e,t)=>e.has(n)?B1("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,t),ri=(n,e,t,i)=>(z1(n,e,"write to private field"),i?i.call(n,t):e.set(n,t),t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function t(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(s){if(s.ep)return;s.ep=!0;const a=t(s);fetch(s.href,a)}})();function r2(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Gd={exports:{}},ja={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var H1;function y4(){if(H1)return ja;H1=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(i,s,a){var o=null;if(a!==void 0&&(o=""+a),s.key!==void 0&&(o=""+s.key),"key"in s){a={};for(var u in s)u!=="key"&&(a[u]=s[u])}else a=s;return s=a.ref,{$$typeof:n,type:i,key:o,ref:s!==void 0?s:null,props:a}}return ja.Fragment=e,ja.jsx=t,ja.jsxs=t,ja}var V1;function b4(){return V1||(V1=1,Gd.exports=y4()),Gd.exports}var b=b4(),Id={exports:{}},Ae={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var U1;function x4(){if(U1)return Ae;U1=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),o=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),y=Symbol.for("react.activity"),x=Symbol.iterator;function S(D){return D===null||typeof D!="object"?null:(D=x&&D[x]||D["@@iterator"],typeof D=="function"?D:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,C={};function T(D,P,ee){this.props=D,this.context=P,this.refs=C,this.updater=ee||w}T.prototype.isReactComponent={},T.prototype.setState=function(D,P){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,P,"setState")},T.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function j(){}j.prototype=T.prototype;function N(D,P,ee){this.props=D,this.context=P,this.refs=C,this.updater=ee||w}var q=N.prototype=new j;q.constructor=N,A(q,T.prototype),q.isPureReactComponent=!0;var B=Array.isArray;function G(){}var V={H:null,A:null,T:null,S:null},Q=Object.prototype.hasOwnProperty;function Z(D,P,ee){var se=ee.ref;return{$$typeof:n,type:D,key:P,ref:se!==void 0?se:null,props:ee}}function ue(D,P){return Z(D.type,P,D.props)}function fe(D){return typeof D=="object"&&D!==null&&D.$$typeof===n}function ne(D){var P={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(ee){return P[ee]})}var pe=/\/+/g;function J(D,P){return typeof D=="object"&&D!==null&&D.key!=null?ne(""+D.key):P.toString(36)}function ve(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(G,G):(D.status="pending",D.then(function(P){D.status==="pending"&&(D.status="fulfilled",D.value=P)},function(P){D.status==="pending"&&(D.status="rejected",D.reason=P)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function z(D,P,ee,se,ye){var Ce=typeof D;(Ce==="undefined"||Ce==="boolean")&&(D=null);var Ne=!1;if(D===null)Ne=!0;else switch(Ce){case"bigint":case"string":case"number":Ne=!0;break;case"object":switch(D.$$typeof){case n:case e:Ne=!0;break;case p:return Ne=D._init,z(Ne(D._payload),P,ee,se,ye)}}if(Ne)return ye=ye(D),Ne=se===""?"."+J(D,0):se,B(ye)?(ee="",Ne!=null&&(ee=Ne.replace(pe,"$&/")+"/"),z(ye,P,ee,"",function(Hl){return Hl})):ye!=null&&(fe(ye)&&(ye=ue(ye,ee+(ye.key==null||D&&D.key===ye.key?"":(""+ye.key).replace(pe,"$&/")+"/")+Ne)),P.push(ye)),1;Ne=0;var Mt=se===""?".":se+":";if(B(D))for(var ot=0;ot<D.length;ot++)se=D[ot],Ce=Mt+J(se,ot),Ne+=z(se,P,ee,Ce,ye);else if(ot=S(D),typeof ot=="function")for(D=ot.call(D),ot=0;!(se=D.next()).done;)se=se.value,Ce=Mt+J(se,ot++),Ne+=z(se,P,ee,Ce,ye);else if(Ce==="object"){if(typeof D.then=="function")return z(ve(D),P,ee,se,ye);throw P=String(D),Error("Objects are not valid as a React child (found: "+(P==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":P)+"). If you meant to render a collection of children, use an array instead.")}return Ne}function K(D,P,ee){if(D==null)return D;var se=[],ye=0;return z(D,se,"","",function(Ce){return P.call(ee,Ce,ye++)}),se}function $(D){if(D._status===-1){var P=D._result;P=P(),P.then(function(ee){(D._status===0||D._status===-1)&&(D._status=1,D._result=ee)},function(ee){(D._status===0||D._status===-1)&&(D._status=2,D._result=ee)}),D._status===-1&&(D._status=0,D._result=P)}if(D._status===1)return D._result.default;throw D._result}var ie=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var P=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent(P))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)},ge={map:K,forEach:function(D,P,ee){K(D,function(){P.apply(this,arguments)},ee)},count:function(D){var P=0;return K(D,function(){P++}),P},toArray:function(D){return K(D,function(P){return P})||[]},only:function(D){if(!fe(D))throw Error("React.Children.only expected to receive a single React element child.");return D}};return Ae.Activity=y,Ae.Children=ge,Ae.Component=T,Ae.Fragment=t,Ae.Profiler=s,Ae.PureComponent=N,Ae.StrictMode=i,Ae.Suspense=f,Ae.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=V,Ae.__COMPILER_RUNTIME={__proto__:null,c:function(D){return V.H.useMemoCache(D)}},Ae.cache=function(D){return function(){return D.apply(null,arguments)}},Ae.cacheSignal=function(){return null},Ae.cloneElement=function(D,P,ee){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var se=A({},D.props),ye=D.key;if(P!=null)for(Ce in P.key!==void 0&&(ye=""+P.key),P)!Q.call(P,Ce)||Ce==="key"||Ce==="__self"||Ce==="__source"||Ce==="ref"&&P.ref===void 0||(se[Ce]=P[Ce]);var Ce=arguments.length-2;if(Ce===1)se.children=ee;else if(1<Ce){for(var Ne=Array(Ce),Mt=0;Mt<Ce;Mt++)Ne[Mt]=arguments[Mt+2];se.children=Ne}return Z(D.type,ye,se)},Ae.createContext=function(D){return D={$$typeof:o,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:a,_context:D},D},Ae.createElement=function(D,P,ee){var se,ye={},Ce=null;if(P!=null)for(se in P.key!==void 0&&(Ce=""+P.key),P)Q.call(P,se)&&se!=="key"&&se!=="__self"&&se!=="__source"&&(ye[se]=P[se]);var Ne=arguments.length-2;if(Ne===1)ye.children=ee;else if(1<Ne){for(var Mt=Array(Ne),ot=0;ot<Ne;ot++)Mt[ot]=arguments[ot+2];ye.children=Mt}if(D&&D.defaultProps)for(se in Ne=D.defaultProps,Ne)ye[se]===void 0&&(ye[se]=Ne[se]);return Z(D,Ce,ye)},Ae.createRef=function(){return{current:null}},Ae.forwardRef=function(D){return{$$typeof:u,render:D}},Ae.isValidElement=fe,Ae.lazy=function(D){return{$$typeof:p,_payload:{_status:-1,_result:D},_init:$}},Ae.memo=function(D,P){return{$$typeof:d,type:D,compare:P===void 0?null:P}},Ae.startTransition=function(D){var P=V.T,ee={};V.T=ee;try{var se=D(),ye=V.S;ye!==null&&ye(ee,se),typeof se=="object"&&se!==null&&typeof se.then=="function"&&se.then(G,ie)}catch(Ce){ie(Ce)}finally{P!==null&&ee.types!==null&&(P.types=ee.types),V.T=P}},Ae.unstable_useCacheRefresh=function(){return V.H.useCacheRefresh()},Ae.use=function(D){return V.H.use(D)},Ae.useActionState=function(D,P,ee){return V.H.useActionState(D,P,ee)},Ae.useCallback=function(D,P){return V.H.useCallback(D,P)},Ae.useContext=function(D){return V.H.useContext(D)},Ae.useDebugValue=function(){},Ae.useDeferredValue=function(D,P){return V.H.useDeferredValue(D,P)},Ae.useEffect=function(D,P){return V.H.useEffect(D,P)},Ae.useEffectEvent=function(D){return V.H.useEffectEvent(D)},Ae.useId=function(){return V.H.useId()},Ae.useImperativeHandle=function(D,P,ee){return V.H.useImperativeHandle(D,P,ee)},Ae.useInsertionEffect=function(D,P){return V.H.useInsertionEffect(D,P)},Ae.useLayoutEffect=function(D,P){return V.H.useLayoutEffect(D,P)},Ae.useMemo=function(D,P){return V.H.useMemo(D,P)},Ae.useOptimistic=function(D,P){return V.H.useOptimistic(D,P)},Ae.useReducer=function(D,P,ee){return V.H.useReducer(D,P,ee)},Ae.useRef=function(D){return V.H.useRef(D)},Ae.useState=function(D){return V.H.useState(D)},Ae.useSyncExternalStore=function(D,P,ee){return V.H.useSyncExternalStore(D,P,ee)},Ae.useTransition=function(){return V.H.useTransition()},Ae.version="19.2.4",Ae}var q1;function zp(){return q1||(q1=1,Id.exports=x4()),Id.exports}var M=zp();const a2=r2(M);var Fd={exports:{}},_a={},Wd={exports:{}},Xd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var P1;function v4(){return P1||(P1=1,(function(n){function e(z,K){var $=z.length;z.push(K);e:for(;0<$;){var ie=$-1>>>1,ge=z[ie];if(0<s(ge,K))z[ie]=K,z[$]=ge,$=ie;else break e}}function t(z){return z.length===0?null:z[0]}function i(z){if(z.length===0)return null;var K=z[0],$=z.pop();if($!==K){z[0]=$;e:for(var ie=0,ge=z.length,D=ge>>>1;ie<D;){var P=2*(ie+1)-1,ee=z[P],se=P+1,ye=z[se];if(0>s(ee,$))se<ge&&0>s(ye,ee)?(z[ie]=ye,z[se]=$,ie=se):(z[ie]=ee,z[P]=$,ie=P);else if(se<ge&&0>s(ye,$))z[ie]=ye,z[se]=$,ie=se;else break e}}return K}function s(z,K){var $=z.sortIndex-K.sortIndex;return $!==0?$:z.id-K.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var o=Date,u=o.now();n.unstable_now=function(){return o.now()-u}}var f=[],d=[],p=1,y=null,x=3,S=!1,w=!1,A=!1,C=!1,T=typeof setTimeout=="function"?setTimeout:null,j=typeof clearTimeout=="function"?clearTimeout:null,N=typeof setImmediate<"u"?setImmediate:null;function q(z){for(var K=t(d);K!==null;){if(K.callback===null)i(d);else if(K.startTime<=z)i(d),K.sortIndex=K.expirationTime,e(f,K);else break;K=t(d)}}function B(z){if(A=!1,q(z),!w)if(t(f)!==null)w=!0,G||(G=!0,ne());else{var K=t(d);K!==null&&ve(B,K.startTime-z)}}var G=!1,V=-1,Q=5,Z=-1;function ue(){return C?!0:!(n.unstable_now()-Z<Q)}function fe(){if(C=!1,G){var z=n.unstable_now();Z=z;var K=!0;try{e:{w=!1,A&&(A=!1,j(V),V=-1),S=!0;var $=x;try{t:{for(q(z),y=t(f);y!==null&&!(y.expirationTime>z&&ue());){var ie=y.callback;if(typeof ie=="function"){y.callback=null,x=y.priorityLevel;var ge=ie(y.expirationTime<=z);if(z=n.unstable_now(),typeof ge=="function"){y.callback=ge,q(z),K=!0;break t}y===t(f)&&i(f),q(z)}else i(f);y=t(f)}if(y!==null)K=!0;else{var D=t(d);D!==null&&ve(B,D.startTime-z),K=!1}}break e}finally{y=null,x=$,S=!1}K=void 0}}finally{K?ne():G=!1}}}var ne;if(typeof N=="function")ne=function(){N(fe)};else if(typeof MessageChannel<"u"){var pe=new MessageChannel,J=pe.port2;pe.port1.onmessage=fe,ne=function(){J.postMessage(null)}}else ne=function(){T(fe,0)};function ve(z,K){V=T(function(){z(n.unstable_now())},K)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(z){z.callback=null},n.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Q=0<z?Math.floor(1e3/z):5},n.unstable_getCurrentPriorityLevel=function(){return x},n.unstable_next=function(z){switch(x){case 1:case 2:case 3:var K=3;break;default:K=x}var $=x;x=K;try{return z()}finally{x=$}},n.unstable_requestPaint=function(){C=!0},n.unstable_runWithPriority=function(z,K){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var $=x;x=z;try{return K()}finally{x=$}},n.unstable_scheduleCallback=function(z,K,$){var ie=n.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?ie+$:ie):$=ie,z){case 1:var ge=-1;break;case 2:ge=250;break;case 5:ge=1073741823;break;case 4:ge=1e4;break;default:ge=5e3}return ge=$+ge,z={id:p++,callback:K,priorityLevel:z,startTime:$,expirationTime:ge,sortIndex:-1},$>ie?(z.sortIndex=$,e(d,z),t(f)===null&&z===t(d)&&(A?(j(V),V=-1):A=!0,ve(B,$-ie))):(z.sortIndex=ge,e(f,z),w||S||(w=!0,G||(G=!0,ne()))),z},n.unstable_shouldYield=ue,n.unstable_wrapCallback=function(z){var K=x;return function(){var $=x;x=K;try{return z.apply(this,arguments)}finally{x=$}}}})(Xd)),Xd}var K1;function S4(){return K1||(K1=1,Wd.exports=v4()),Wd.exports}var Qd={exports:{}},Pt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Y1;function w4(){if(Y1)return Pt;Y1=1;var n=zp();function e(f){var d="https://react.dev/errors/"+f;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)d+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+f+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var i={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},s=Symbol.for("react.portal");function a(f,d,p){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:y==null?null:""+y,children:f,containerInfo:d,implementation:p}}var o=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(f,d){if(f==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return Pt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Pt.createPortal=function(f,d){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(e(299));return a(f,d,null,p)},Pt.flushSync=function(f){var d=o.T,p=i.p;try{if(o.T=null,i.p=2,f)return f()}finally{o.T=d,i.p=p,i.d.f()}},Pt.preconnect=function(f,d){typeof f=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,i.d.C(f,d))},Pt.prefetchDNS=function(f){typeof f=="string"&&i.d.D(f)},Pt.preinit=function(f,d){if(typeof f=="string"&&d&&typeof d.as=="string"){var p=d.as,y=u(p,d.crossOrigin),x=typeof d.integrity=="string"?d.integrity:void 0,S=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;p==="style"?i.d.S(f,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:y,integrity:x,fetchPriority:S}):p==="script"&&i.d.X(f,{crossOrigin:y,integrity:x,fetchPriority:S,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},Pt.preinitModule=function(f,d){if(typeof f=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var p=u(d.as,d.crossOrigin);i.d.M(f,{crossOrigin:p,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&i.d.M(f)},Pt.preload=function(f,d){if(typeof f=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var p=d.as,y=u(p,d.crossOrigin);i.d.L(f,p,{crossOrigin:y,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},Pt.preloadModule=function(f,d){if(typeof f=="string")if(d){var p=u(d.as,d.crossOrigin);i.d.m(f,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:p,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else i.d.m(f)},Pt.requestFormReset=function(f){i.d.r(f)},Pt.unstable_batchedUpdates=function(f,d){return f(d)},Pt.useFormState=function(f,d,p){return o.H.useFormState(f,d,p)},Pt.useFormStatus=function(){return o.H.useHostTransitionStatus()},Pt.version="19.2.4",Pt}var G1;function k4(){if(G1)return Qd.exports;G1=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Qd.exports=w4(),Qd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var I1;function C4(){if(I1)return _a;I1=1;var n=S4(),e=zp(),t=k4();function i(l){var r="https://react.dev/errors/"+l;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var c=2;c<arguments.length;c++)r+="&args[]="+encodeURIComponent(arguments[c])}return"Minified React error #"+l+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(l){return!(!l||l.nodeType!==1&&l.nodeType!==9&&l.nodeType!==11)}function a(l){var r=l,c=l;if(l.alternate)for(;r.return;)r=r.return;else{l=r;do r=l,(r.flags&4098)!==0&&(c=r.return),l=r.return;while(l)}return r.tag===3?c:null}function o(l){if(l.tag===13){var r=l.memoizedState;if(r===null&&(l=l.alternate,l!==null&&(r=l.memoizedState)),r!==null)return r.dehydrated}return null}function u(l){if(l.tag===31){var r=l.memoizedState;if(r===null&&(l=l.alternate,l!==null&&(r=l.memoizedState)),r!==null)return r.dehydrated}return null}function f(l){if(a(l)!==l)throw Error(i(188))}function d(l){var r=l.alternate;if(!r){if(r=a(l),r===null)throw Error(i(188));return r!==l?null:l}for(var c=l,h=r;;){var m=c.return;if(m===null)break;var g=m.alternate;if(g===null){if(h=m.return,h!==null){c=h;continue}break}if(m.child===g.child){for(g=m.child;g;){if(g===c)return f(m),l;if(g===h)return f(m),r;g=g.sibling}throw Error(i(188))}if(c.return!==h.return)c=m,h=g;else{for(var v=!1,k=m.child;k;){if(k===c){v=!0,c=m,h=g;break}if(k===h){v=!0,h=m,c=g;break}k=k.sibling}if(!v){for(k=g.child;k;){if(k===c){v=!0,c=g,h=m;break}if(k===h){v=!0,h=g,c=m;break}k=k.sibling}if(!v)throw Error(i(189))}}if(c.alternate!==h)throw Error(i(190))}if(c.tag!==3)throw Error(i(188));return c.stateNode.current===c?l:r}function p(l){var r=l.tag;if(r===5||r===26||r===27||r===6)return l;for(l=l.child;l!==null;){if(r=p(l),r!==null)return r;l=l.sibling}return null}var y=Object.assign,x=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),w=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),j=Symbol.for("react.consumer"),N=Symbol.for("react.context"),q=Symbol.for("react.forward_ref"),B=Symbol.for("react.suspense"),G=Symbol.for("react.suspense_list"),V=Symbol.for("react.memo"),Q=Symbol.for("react.lazy"),Z=Symbol.for("react.activity"),ue=Symbol.for("react.memo_cache_sentinel"),fe=Symbol.iterator;function ne(l){return l===null||typeof l!="object"?null:(l=fe&&l[fe]||l["@@iterator"],typeof l=="function"?l:null)}var pe=Symbol.for("react.client.reference");function J(l){if(l==null)return null;if(typeof l=="function")return l.$$typeof===pe?null:l.displayName||l.name||null;if(typeof l=="string")return l;switch(l){case A:return"Fragment";case T:return"Profiler";case C:return"StrictMode";case B:return"Suspense";case G:return"SuspenseList";case Z:return"Activity"}if(typeof l=="object")switch(l.$$typeof){case w:return"Portal";case N:return l.displayName||"Context";case j:return(l._context.displayName||"Context")+".Consumer";case q:var r=l.render;return l=l.displayName,l||(l=r.displayName||r.name||"",l=l!==""?"ForwardRef("+l+")":"ForwardRef"),l;case V:return r=l.displayName||null,r!==null?r:J(l.type)||"Memo";case Q:r=l._payload,l=l._init;try{return J(l(r))}catch{}}return null}var ve=Array.isArray,z=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,K=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,$={pending:!1,data:null,method:null,action:null},ie=[],ge=-1;function D(l){return{current:l}}function P(l){0>ge||(l.current=ie[ge],ie[ge]=null,ge--)}function ee(l,r){ge++,ie[ge]=l.current,l.current=r}var se=D(null),ye=D(null),Ce=D(null),Ne=D(null);function Mt(l,r){switch(ee(Ce,r),ee(ye,l),ee(se,null),r.nodeType){case 9:case 11:l=(l=r.documentElement)&&(l=l.namespaceURI)?s1(l):0;break;default:if(l=r.tagName,r=r.namespaceURI)r=s1(r),l=r1(r,l);else switch(l){case"svg":l=1;break;case"math":l=2;break;default:l=0}}P(se),ee(se,l)}function ot(){P(se),P(ye),P(Ce)}function Hl(l){l.memoizedState!==null&&ee(Ne,l);var r=se.current,c=r1(r,l.type);r!==c&&(ee(ye,l),ee(se,c))}function ks(l){ye.current===l&&(P(se),P(ye)),Ne.current===l&&(P(Ne),Na._currentValue=$)}var Vr,Dh;function ei(l){if(Vr===void 0)try{throw Error()}catch(c){var r=c.stack.trim().match(/\n( *(at )?)/);Vr=r&&r[1]||"",Dh=-1<c.stack.indexOf(`
    at`)?" (<anonymous>)":-1<c.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Vr+l+Dh}var te=!1;function be(l,r){if(!l||te)return"";te=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var h={DetermineComponentFrameRoot:function(){try{if(r){var W=function(){throw Error()};if(Object.defineProperty(W.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(W,[])}catch(U){var H=U}Reflect.construct(l,[],W)}else{try{W.call()}catch(U){H=U}l.call(W.prototype)}}else{try{throw Error()}catch(U){H=U}(W=l())&&typeof W.catch=="function"&&W.catch(function(){})}}catch(U){if(U&&H&&typeof U.stack=="string")return[U.stack,H.stack]}return[null,null]}};h.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(h.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(h.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=h.DetermineComponentFrameRoot(),v=g[0],k=g[1];if(v&&k){var E=v.split(`
`),L=k.split(`
`);for(m=h=0;h<E.length&&!E[h].includes("DetermineComponentFrameRoot");)h++;for(;m<L.length&&!L[m].includes("DetermineComponentFrameRoot");)m++;if(h===E.length||m===L.length)for(h=E.length-1,m=L.length-1;1<=h&&0<=m&&E[h]!==L[m];)m--;for(;1<=h&&0<=m;h--,m--)if(E[h]!==L[m]){if(h!==1||m!==1)do if(h--,m--,0>m||E[h]!==L[m]){var Y=`
`+E[h].replace(" at new "," at ");return l.displayName&&Y.includes("<anonymous>")&&(Y=Y.replace("<anonymous>",l.displayName)),Y}while(1<=h&&0<=m);break}}}finally{te=!1,Error.prepareStackTrace=c}return(c=l?l.displayName||l.name:"")?ei(c):""}function ke(l,r){switch(l.tag){case 26:case 27:case 5:return ei(l.type);case 16:return ei("Lazy");case 13:return l.child!==r&&r!==null?ei("Suspense Fallback"):ei("Suspense");case 19:return ei("SuspenseList");case 0:case 15:return be(l.type,!1);case 11:return be(l.type.render,!1);case 1:return be(l.type,!0);case 31:return ei("Activity");default:return""}}function ct(l){try{var r="",c=null;do r+=ke(l,c),c=l,l=l.return;while(l);return r}catch(h){return`
Error generating stack: `+h.message+`
`+h.stack}}var Ge=Object.prototype.hasOwnProperty,me=n.unstable_scheduleCallback,et=n.unstable_cancelCallback,ti=n.unstable_shouldYield,Vl=n.unstable_requestPaint,wt=n.unstable_now,Tt=n.unstable_getCurrentPriorityLevel,Cs=n.unstable_ImmediatePriority,Ur=n.unstable_UserBlockingPriority,Zi=n.unstable_NormalPriority,As=n.unstable_LowPriority,qr=n.unstable_IdlePriority,Oh=n.log,Ul=n.unstable_setDisableYieldValue,ql=null,dn=null;function $i(l){if(typeof Oh=="function"&&Ul(l),dn&&typeof dn.setStrictMode=="function")try{dn.setStrictMode(ql,l)}catch{}}var mn=Math.clz32?Math.clz32:tC,Jk=Math.log,eC=Math.LN2;function tC(l){return l>>>=0,l===0?32:31-(Jk(l)/eC|0)|0}var zo=256,Ho=262144,Vo=4194304;function Pl(l){var r=l&42;if(r!==0)return r;switch(l&-l){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return l&261888;case 262144:case 524288:case 1048576:case 2097152:return l&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return l&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return l}}function Uo(l,r,c){var h=l.pendingLanes;if(h===0)return 0;var m=0,g=l.suspendedLanes,v=l.pingedLanes;l=l.warmLanes;var k=h&134217727;return k!==0?(h=k&~g,h!==0?m=Pl(h):(v&=k,v!==0?m=Pl(v):c||(c=k&~l,c!==0&&(m=Pl(c))))):(k=h&~g,k!==0?m=Pl(k):v!==0?m=Pl(v):c||(c=h&~l,c!==0&&(m=Pl(c)))),m===0?0:r!==0&&r!==m&&(r&g)===0&&(g=m&-m,c=r&-r,g>=c||g===32&&(c&4194048)!==0)?r:m}function Pr(l,r){return(l.pendingLanes&~(l.suspendedLanes&~l.pingedLanes)&r)===0}function nC(l,r){switch(l){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ug(){var l=Vo;return Vo<<=1,(Vo&62914560)===0&&(Vo=4194304),l}function Rh(l){for(var r=[],c=0;31>c;c++)r.push(l);return r}function Kr(l,r){l.pendingLanes|=r,r!==268435456&&(l.suspendedLanes=0,l.pingedLanes=0,l.warmLanes=0)}function iC(l,r,c,h,m,g){var v=l.pendingLanes;l.pendingLanes=c,l.suspendedLanes=0,l.pingedLanes=0,l.warmLanes=0,l.expiredLanes&=c,l.entangledLanes&=c,l.errorRecoveryDisabledLanes&=c,l.shellSuspendCounter=0;var k=l.entanglements,E=l.expirationTimes,L=l.hiddenUpdates;for(c=v&~c;0<c;){var Y=31-mn(c),W=1<<Y;k[Y]=0,E[Y]=-1;var H=L[Y];if(H!==null)for(L[Y]=null,Y=0;Y<H.length;Y++){var U=H[Y];U!==null&&(U.lane&=-536870913)}c&=~W}h!==0&&qg(l,h,0),g!==0&&m===0&&l.tag!==0&&(l.suspendedLanes|=g&~(v&~r))}function qg(l,r,c){l.pendingLanes|=r,l.suspendedLanes&=~r;var h=31-mn(r);l.entangledLanes|=r,l.entanglements[h]=l.entanglements[h]|1073741824|c&261930}function Pg(l,r){var c=l.entangledLanes|=r;for(l=l.entanglements;c;){var h=31-mn(c),m=1<<h;m&r|l[h]&r&&(l[h]|=r),c&=~m}}function Kg(l,r){var c=r&-r;return c=(c&42)!==0?1:jh(c),(c&(l.suspendedLanes|r))!==0?0:c}function jh(l){switch(l){case 2:l=1;break;case 8:l=4;break;case 32:l=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:l=128;break;case 268435456:l=134217728;break;default:l=0}return l}function _h(l){return l&=-l,2<l?8<l?(l&134217727)!==0?32:268435456:8:2}function Yg(){var l=K.p;return l!==0?l:(l=window.event,l===void 0?32:N1(l.type))}function Gg(l,r){var c=K.p;try{return K.p=l,r()}finally{K.p=c}}var Ji=Math.random().toString(36).slice(2),_t="__reactFiber$"+Ji,$t="__reactProps$"+Ji,Ms="__reactContainer$"+Ji,Lh="__reactEvents$"+Ji,lC="__reactListeners$"+Ji,sC="__reactHandles$"+Ji,Ig="__reactResources$"+Ji,Yr="__reactMarker$"+Ji;function Bh(l){delete l[_t],delete l[$t],delete l[Lh],delete l[lC],delete l[sC]}function Ts(l){var r=l[_t];if(r)return r;for(var c=l.parentNode;c;){if(r=c[Ms]||c[_t]){if(c=r.alternate,r.child!==null||c!==null&&c.child!==null)for(l=d1(l);l!==null;){if(c=l[_t])return c;l=d1(l)}return r}l=c,c=l.parentNode}return null}function Es(l){if(l=l[_t]||l[Ms]){var r=l.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return l}return null}function Gr(l){var r=l.tag;if(r===5||r===26||r===27||r===6)return l.stateNode;throw Error(i(33))}function Ns(l){var r=l[Ig];return r||(r=l[Ig]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function Et(l){l[Yr]=!0}var Fg=new Set,Wg={};function Kl(l,r){Ds(l,r),Ds(l+"Capture",r)}function Ds(l,r){for(Wg[l]=r,l=0;l<r.length;l++)Fg.add(r[l])}var rC=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Xg={},Qg={};function aC(l){return Ge.call(Qg,l)?!0:Ge.call(Xg,l)?!1:rC.test(l)?Qg[l]=!0:(Xg[l]=!0,!1)}function qo(l,r,c){if(aC(r))if(c===null)l.removeAttribute(r);else{switch(typeof c){case"undefined":case"function":case"symbol":l.removeAttribute(r);return;case"boolean":var h=r.toLowerCase().slice(0,5);if(h!=="data-"&&h!=="aria-"){l.removeAttribute(r);return}}l.setAttribute(r,""+c)}}function Po(l,r,c){if(c===null)l.removeAttribute(r);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":l.removeAttribute(r);return}l.setAttribute(r,""+c)}}function Ci(l,r,c,h){if(h===null)l.removeAttribute(c);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":l.removeAttribute(c);return}l.setAttributeNS(r,c,""+h)}}function Mn(l){switch(typeof l){case"bigint":case"boolean":case"number":case"string":case"undefined":return l;case"object":return l;default:return""}}function Zg(l){var r=l.type;return(l=l.nodeName)&&l.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function oC(l,r,c){var h=Object.getOwnPropertyDescriptor(l.constructor.prototype,r);if(!l.hasOwnProperty(r)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var m=h.get,g=h.set;return Object.defineProperty(l,r,{configurable:!0,get:function(){return m.call(this)},set:function(v){c=""+v,g.call(this,v)}}),Object.defineProperty(l,r,{enumerable:h.enumerable}),{getValue:function(){return c},setValue:function(v){c=""+v},stopTracking:function(){l._valueTracker=null,delete l[r]}}}}function zh(l){if(!l._valueTracker){var r=Zg(l)?"checked":"value";l._valueTracker=oC(l,r,""+l[r])}}function $g(l){if(!l)return!1;var r=l._valueTracker;if(!r)return!0;var c=r.getValue(),h="";return l&&(h=Zg(l)?l.checked?"true":"false":l.value),l=h,l!==c?(r.setValue(l),!0):!1}function Ko(l){if(l=l||(typeof document<"u"?document:void 0),typeof l>"u")return null;try{return l.activeElement||l.body}catch{return l.body}}var cC=/[\n"\\]/g;function Tn(l){return l.replace(cC,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function Hh(l,r,c,h,m,g,v,k){l.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?l.type=v:l.removeAttribute("type"),r!=null?v==="number"?(r===0&&l.value===""||l.value!=r)&&(l.value=""+Mn(r)):l.value!==""+Mn(r)&&(l.value=""+Mn(r)):v!=="submit"&&v!=="reset"||l.removeAttribute("value"),r!=null?Vh(l,v,Mn(r)):c!=null?Vh(l,v,Mn(c)):h!=null&&l.removeAttribute("value"),m==null&&g!=null&&(l.defaultChecked=!!g),m!=null&&(l.checked=m&&typeof m!="function"&&typeof m!="symbol"),k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"?l.name=""+Mn(k):l.removeAttribute("name")}function Jg(l,r,c,h,m,g,v,k){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(l.type=g),r!=null||c!=null){if(!(g!=="submit"&&g!=="reset"||r!=null)){zh(l);return}c=c!=null?""+Mn(c):"",r=r!=null?""+Mn(r):c,k||r===l.value||(l.value=r),l.defaultValue=r}h=h??m,h=typeof h!="function"&&typeof h!="symbol"&&!!h,l.checked=k?l.checked:!!h,l.defaultChecked=!!h,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(l.name=v),zh(l)}function Vh(l,r,c){r==="number"&&Ko(l.ownerDocument)===l||l.defaultValue===""+c||(l.defaultValue=""+c)}function Os(l,r,c,h){if(l=l.options,r){r={};for(var m=0;m<c.length;m++)r["$"+c[m]]=!0;for(c=0;c<l.length;c++)m=r.hasOwnProperty("$"+l[c].value),l[c].selected!==m&&(l[c].selected=m),m&&h&&(l[c].defaultSelected=!0)}else{for(c=""+Mn(c),r=null,m=0;m<l.length;m++){if(l[m].value===c){l[m].selected=!0,h&&(l[m].defaultSelected=!0);return}r!==null||l[m].disabled||(r=l[m])}r!==null&&(r.selected=!0)}}function e0(l,r,c){if(r!=null&&(r=""+Mn(r),r!==l.value&&(l.value=r),c==null)){l.defaultValue!==r&&(l.defaultValue=r);return}l.defaultValue=c!=null?""+Mn(c):""}function t0(l,r,c,h){if(r==null){if(h!=null){if(c!=null)throw Error(i(92));if(ve(h)){if(1<h.length)throw Error(i(93));h=h[0]}c=h}c==null&&(c=""),r=c}c=Mn(r),l.defaultValue=c,h=l.textContent,h===c&&h!==""&&h!==null&&(l.value=h),zh(l)}function Rs(l,r){if(r){var c=l.firstChild;if(c&&c===l.lastChild&&c.nodeType===3){c.nodeValue=r;return}}l.textContent=r}var uC=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function n0(l,r,c){var h=r.indexOf("--")===0;c==null||typeof c=="boolean"||c===""?h?l.setProperty(r,""):r==="float"?l.cssFloat="":l[r]="":h?l.setProperty(r,c):typeof c!="number"||c===0||uC.has(r)?r==="float"?l.cssFloat=c:l[r]=(""+c).trim():l[r]=c+"px"}function i0(l,r,c){if(r!=null&&typeof r!="object")throw Error(i(62));if(l=l.style,c!=null){for(var h in c)!c.hasOwnProperty(h)||r!=null&&r.hasOwnProperty(h)||(h.indexOf("--")===0?l.setProperty(h,""):h==="float"?l.cssFloat="":l[h]="");for(var m in r)h=r[m],r.hasOwnProperty(m)&&c[m]!==h&&n0(l,m,h)}else for(var g in r)r.hasOwnProperty(g)&&n0(l,g,r[g])}function Uh(l){if(l.indexOf("-")===-1)return!1;switch(l){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var hC=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),fC=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Yo(l){return fC.test(""+l)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":l}function Ai(){}var qh=null;function Ph(l){return l=l.target||l.srcElement||window,l.correspondingUseElement&&(l=l.correspondingUseElement),l.nodeType===3?l.parentNode:l}var js=null,_s=null;function l0(l){var r=Es(l);if(r&&(l=r.stateNode)){var c=l[$t]||null;e:switch(l=r.stateNode,r.type){case"input":if(Hh(l,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name),r=c.name,c.type==="radio"&&r!=null){for(c=l;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll('input[name="'+Tn(""+r)+'"][type="radio"]'),r=0;r<c.length;r++){var h=c[r];if(h!==l&&h.form===l.form){var m=h[$t]||null;if(!m)throw Error(i(90));Hh(h,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(r=0;r<c.length;r++)h=c[r],h.form===l.form&&$g(h)}break e;case"textarea":e0(l,c.value,c.defaultValue);break e;case"select":r=c.value,r!=null&&Os(l,!!c.multiple,r,!1)}}}var Kh=!1;function s0(l,r,c){if(Kh)return l(r,c);Kh=!0;try{var h=l(r);return h}finally{if(Kh=!1,(js!==null||_s!==null)&&(Oc(),js&&(r=js,l=_s,_s=js=null,l0(r),l)))for(r=0;r<l.length;r++)l0(l[r])}}function Ir(l,r){var c=l.stateNode;if(c===null)return null;var h=c[$t]||null;if(h===null)return null;c=h[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(l=l.type,h=!(l==="button"||l==="input"||l==="select"||l==="textarea")),l=!h;break e;default:l=!1}if(l)return null;if(c&&typeof c!="function")throw Error(i(231,r,typeof c));return c}var Mi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Yh=!1;if(Mi)try{var Fr={};Object.defineProperty(Fr,"passive",{get:function(){Yh=!0}}),window.addEventListener("test",Fr,Fr),window.removeEventListener("test",Fr,Fr)}catch{Yh=!1}var el=null,Gh=null,Go=null;function r0(){if(Go)return Go;var l,r=Gh,c=r.length,h,m="value"in el?el.value:el.textContent,g=m.length;for(l=0;l<c&&r[l]===m[l];l++);var v=c-l;for(h=1;h<=v&&r[c-h]===m[g-h];h++);return Go=m.slice(l,1<h?1-h:void 0)}function Io(l){var r=l.keyCode;return"charCode"in l?(l=l.charCode,l===0&&r===13&&(l=13)):l=r,l===10&&(l=13),32<=l||l===13?l:0}function Fo(){return!0}function a0(){return!1}function Jt(l){function r(c,h,m,g,v){this._reactName=c,this._targetInst=m,this.type=h,this.nativeEvent=g,this.target=v,this.currentTarget=null;for(var k in l)l.hasOwnProperty(k)&&(c=l[k],this[k]=c?c(g):g[k]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?Fo:a0,this.isPropagationStopped=a0,this}return y(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=Fo)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=Fo)},persist:function(){},isPersistent:Fo}),r}var Yl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(l){return l.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Wo=Jt(Yl),Wr=y({},Yl,{view:0,detail:0}),dC=Jt(Wr),Ih,Fh,Xr,Xo=y({},Wr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Xh,button:0,buttons:0,relatedTarget:function(l){return l.relatedTarget===void 0?l.fromElement===l.srcElement?l.toElement:l.fromElement:l.relatedTarget},movementX:function(l){return"movementX"in l?l.movementX:(l!==Xr&&(Xr&&l.type==="mousemove"?(Ih=l.screenX-Xr.screenX,Fh=l.screenY-Xr.screenY):Fh=Ih=0,Xr=l),Ih)},movementY:function(l){return"movementY"in l?l.movementY:Fh}}),o0=Jt(Xo),mC=y({},Xo,{dataTransfer:0}),pC=Jt(mC),gC=y({},Wr,{relatedTarget:0}),Wh=Jt(gC),yC=y({},Yl,{animationName:0,elapsedTime:0,pseudoElement:0}),bC=Jt(yC),xC=y({},Yl,{clipboardData:function(l){return"clipboardData"in l?l.clipboardData:window.clipboardData}}),vC=Jt(xC),SC=y({},Yl,{data:0}),c0=Jt(SC),wC={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},kC={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},CC={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function AC(l){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(l):(l=CC[l])?!!r[l]:!1}function Xh(){return AC}var MC=y({},Wr,{key:function(l){if(l.key){var r=wC[l.key]||l.key;if(r!=="Unidentified")return r}return l.type==="keypress"?(l=Io(l),l===13?"Enter":String.fromCharCode(l)):l.type==="keydown"||l.type==="keyup"?kC[l.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Xh,charCode:function(l){return l.type==="keypress"?Io(l):0},keyCode:function(l){return l.type==="keydown"||l.type==="keyup"?l.keyCode:0},which:function(l){return l.type==="keypress"?Io(l):l.type==="keydown"||l.type==="keyup"?l.keyCode:0}}),TC=Jt(MC),EC=y({},Xo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),u0=Jt(EC),NC=y({},Wr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Xh}),DC=Jt(NC),OC=y({},Yl,{propertyName:0,elapsedTime:0,pseudoElement:0}),RC=Jt(OC),jC=y({},Xo,{deltaX:function(l){return"deltaX"in l?l.deltaX:"wheelDeltaX"in l?-l.wheelDeltaX:0},deltaY:function(l){return"deltaY"in l?l.deltaY:"wheelDeltaY"in l?-l.wheelDeltaY:"wheelDelta"in l?-l.wheelDelta:0},deltaZ:0,deltaMode:0}),_C=Jt(jC),LC=y({},Yl,{newState:0,oldState:0}),BC=Jt(LC),zC=[9,13,27,32],Qh=Mi&&"CompositionEvent"in window,Qr=null;Mi&&"documentMode"in document&&(Qr=document.documentMode);var HC=Mi&&"TextEvent"in window&&!Qr,h0=Mi&&(!Qh||Qr&&8<Qr&&11>=Qr),f0=" ",d0=!1;function m0(l,r){switch(l){case"keyup":return zC.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function p0(l){return l=l.detail,typeof l=="object"&&"data"in l?l.data:null}var Ls=!1;function VC(l,r){switch(l){case"compositionend":return p0(r);case"keypress":return r.which!==32?null:(d0=!0,f0);case"textInput":return l=r.data,l===f0&&d0?null:l;default:return null}}function UC(l,r){if(Ls)return l==="compositionend"||!Qh&&m0(l,r)?(l=r0(),Go=Gh=el=null,Ls=!1,l):null;switch(l){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return h0&&r.locale!=="ko"?null:r.data;default:return null}}var qC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function g0(l){var r=l&&l.nodeName&&l.nodeName.toLowerCase();return r==="input"?!!qC[l.type]:r==="textarea"}function y0(l,r,c,h){js?_s?_s.push(h):_s=[h]:js=h,r=Hc(r,"onChange"),0<r.length&&(c=new Wo("onChange","change",null,c,h),l.push({event:c,listeners:r}))}var Zr=null,$r=null;function PC(l){Jb(l,0)}function Qo(l){var r=Gr(l);if($g(r))return l}function b0(l,r){if(l==="change")return r}var x0=!1;if(Mi){var Zh;if(Mi){var $h="oninput"in document;if(!$h){var v0=document.createElement("div");v0.setAttribute("oninput","return;"),$h=typeof v0.oninput=="function"}Zh=$h}else Zh=!1;x0=Zh&&(!document.documentMode||9<document.documentMode)}function S0(){Zr&&(Zr.detachEvent("onpropertychange",w0),$r=Zr=null)}function w0(l){if(l.propertyName==="value"&&Qo($r)){var r=[];y0(r,$r,l,Ph(l)),s0(PC,r)}}function KC(l,r,c){l==="focusin"?(S0(),Zr=r,$r=c,Zr.attachEvent("onpropertychange",w0)):l==="focusout"&&S0()}function YC(l){if(l==="selectionchange"||l==="keyup"||l==="keydown")return Qo($r)}function GC(l,r){if(l==="click")return Qo(r)}function IC(l,r){if(l==="input"||l==="change")return Qo(r)}function FC(l,r){return l===r&&(l!==0||1/l===1/r)||l!==l&&r!==r}var pn=typeof Object.is=="function"?Object.is:FC;function Jr(l,r){if(pn(l,r))return!0;if(typeof l!="object"||l===null||typeof r!="object"||r===null)return!1;var c=Object.keys(l),h=Object.keys(r);if(c.length!==h.length)return!1;for(h=0;h<c.length;h++){var m=c[h];if(!Ge.call(r,m)||!pn(l[m],r[m]))return!1}return!0}function k0(l){for(;l&&l.firstChild;)l=l.firstChild;return l}function C0(l,r){var c=k0(l);l=0;for(var h;c;){if(c.nodeType===3){if(h=l+c.textContent.length,l<=r&&h>=r)return{node:c,offset:r-l};l=h}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=k0(c)}}function A0(l,r){return l&&r?l===r?!0:l&&l.nodeType===3?!1:r&&r.nodeType===3?A0(l,r.parentNode):"contains"in l?l.contains(r):l.compareDocumentPosition?!!(l.compareDocumentPosition(r)&16):!1:!1}function M0(l){l=l!=null&&l.ownerDocument!=null&&l.ownerDocument.defaultView!=null?l.ownerDocument.defaultView:window;for(var r=Ko(l.document);r instanceof l.HTMLIFrameElement;){try{var c=typeof r.contentWindow.location.href=="string"}catch{c=!1}if(c)l=r.contentWindow;else break;r=Ko(l.document)}return r}function Jh(l){var r=l&&l.nodeName&&l.nodeName.toLowerCase();return r&&(r==="input"&&(l.type==="text"||l.type==="search"||l.type==="tel"||l.type==="url"||l.type==="password")||r==="textarea"||l.contentEditable==="true")}var WC=Mi&&"documentMode"in document&&11>=document.documentMode,Bs=null,ef=null,ea=null,tf=!1;function T0(l,r,c){var h=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;tf||Bs==null||Bs!==Ko(h)||(h=Bs,"selectionStart"in h&&Jh(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),ea&&Jr(ea,h)||(ea=h,h=Hc(ef,"onSelect"),0<h.length&&(r=new Wo("onSelect","select",null,r,c),l.push({event:r,listeners:h}),r.target=Bs)))}function Gl(l,r){var c={};return c[l.toLowerCase()]=r.toLowerCase(),c["Webkit"+l]="webkit"+r,c["Moz"+l]="moz"+r,c}var zs={animationend:Gl("Animation","AnimationEnd"),animationiteration:Gl("Animation","AnimationIteration"),animationstart:Gl("Animation","AnimationStart"),transitionrun:Gl("Transition","TransitionRun"),transitionstart:Gl("Transition","TransitionStart"),transitioncancel:Gl("Transition","TransitionCancel"),transitionend:Gl("Transition","TransitionEnd")},nf={},E0={};Mi&&(E0=document.createElement("div").style,"AnimationEvent"in window||(delete zs.animationend.animation,delete zs.animationiteration.animation,delete zs.animationstart.animation),"TransitionEvent"in window||delete zs.transitionend.transition);function Il(l){if(nf[l])return nf[l];if(!zs[l])return l;var r=zs[l],c;for(c in r)if(r.hasOwnProperty(c)&&c in E0)return nf[l]=r[c];return l}var N0=Il("animationend"),D0=Il("animationiteration"),O0=Il("animationstart"),XC=Il("transitionrun"),QC=Il("transitionstart"),ZC=Il("transitioncancel"),R0=Il("transitionend"),j0=new Map,lf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");lf.push("scrollEnd");function Kn(l,r){j0.set(l,r),Kl(r,[l])}var Zo=typeof reportError=="function"?reportError:function(l){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof l=="object"&&l!==null&&typeof l.message=="string"?String(l.message):String(l),error:l});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",l);return}console.error(l)},En=[],Hs=0,sf=0;function $o(){for(var l=Hs,r=sf=Hs=0;r<l;){var c=En[r];En[r++]=null;var h=En[r];En[r++]=null;var m=En[r];En[r++]=null;var g=En[r];if(En[r++]=null,h!==null&&m!==null){var v=h.pending;v===null?m.next=m:(m.next=v.next,v.next=m),h.pending=m}g!==0&&_0(c,m,g)}}function Jo(l,r,c,h){En[Hs++]=l,En[Hs++]=r,En[Hs++]=c,En[Hs++]=h,sf|=h,l.lanes|=h,l=l.alternate,l!==null&&(l.lanes|=h)}function rf(l,r,c,h){return Jo(l,r,c,h),ec(l)}function Fl(l,r){return Jo(l,null,null,r),ec(l)}function _0(l,r,c){l.lanes|=c;var h=l.alternate;h!==null&&(h.lanes|=c);for(var m=!1,g=l.return;g!==null;)g.childLanes|=c,h=g.alternate,h!==null&&(h.childLanes|=c),g.tag===22&&(l=g.stateNode,l===null||l._visibility&1||(m=!0)),l=g,g=g.return;return l.tag===3?(g=l.stateNode,m&&r!==null&&(m=31-mn(c),l=g.hiddenUpdates,h=l[m],h===null?l[m]=[r]:h.push(r),r.lane=c|536870912),g):null}function ec(l){if(50<wa)throw wa=0,pd=null,Error(i(185));for(var r=l.return;r!==null;)l=r,r=l.return;return l.tag===3?l.stateNode:null}var Vs={};function $C(l,r,c,h){this.tag=l,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function gn(l,r,c,h){return new $C(l,r,c,h)}function af(l){return l=l.prototype,!(!l||!l.isReactComponent)}function Ti(l,r){var c=l.alternate;return c===null?(c=gn(l.tag,r,l.key,l.mode),c.elementType=l.elementType,c.type=l.type,c.stateNode=l.stateNode,c.alternate=l,l.alternate=c):(c.pendingProps=r,c.type=l.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=l.flags&65011712,c.childLanes=l.childLanes,c.lanes=l.lanes,c.child=l.child,c.memoizedProps=l.memoizedProps,c.memoizedState=l.memoizedState,c.updateQueue=l.updateQueue,r=l.dependencies,c.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},c.sibling=l.sibling,c.index=l.index,c.ref=l.ref,c.refCleanup=l.refCleanup,c}function L0(l,r){l.flags&=65011714;var c=l.alternate;return c===null?(l.childLanes=0,l.lanes=r,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=c.childLanes,l.lanes=c.lanes,l.child=c.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=c.memoizedProps,l.memoizedState=c.memoizedState,l.updateQueue=c.updateQueue,l.type=c.type,r=c.dependencies,l.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),l}function tc(l,r,c,h,m,g){var v=0;if(h=l,typeof l=="function")af(l)&&(v=1);else if(typeof l=="string")v=i4(l,c,se.current)?26:l==="html"||l==="head"||l==="body"?27:5;else e:switch(l){case Z:return l=gn(31,c,r,m),l.elementType=Z,l.lanes=g,l;case A:return Wl(c.children,m,g,r);case C:v=8,m|=24;break;case T:return l=gn(12,c,r,m|2),l.elementType=T,l.lanes=g,l;case B:return l=gn(13,c,r,m),l.elementType=B,l.lanes=g,l;case G:return l=gn(19,c,r,m),l.elementType=G,l.lanes=g,l;default:if(typeof l=="object"&&l!==null)switch(l.$$typeof){case N:v=10;break e;case j:v=9;break e;case q:v=11;break e;case V:v=14;break e;case Q:v=16,h=null;break e}v=29,c=Error(i(130,l===null?"null":typeof l,"")),h=null}return r=gn(v,c,r,m),r.elementType=l,r.type=h,r.lanes=g,r}function Wl(l,r,c,h){return l=gn(7,l,h,r),l.lanes=c,l}function of(l,r,c){return l=gn(6,l,null,r),l.lanes=c,l}function B0(l){var r=gn(18,null,null,0);return r.stateNode=l,r}function cf(l,r,c){return r=gn(4,l.children!==null?l.children:[],l.key,r),r.lanes=c,r.stateNode={containerInfo:l.containerInfo,pendingChildren:null,implementation:l.implementation},r}var z0=new WeakMap;function Nn(l,r){if(typeof l=="object"&&l!==null){var c=z0.get(l);return c!==void 0?c:(r={value:l,source:r,stack:ct(r)},z0.set(l,r),r)}return{value:l,source:r,stack:ct(r)}}var Us=[],qs=0,nc=null,ta=0,Dn=[],On=0,tl=null,ni=1,ii="";function Ei(l,r){Us[qs++]=ta,Us[qs++]=nc,nc=l,ta=r}function H0(l,r,c){Dn[On++]=ni,Dn[On++]=ii,Dn[On++]=tl,tl=l;var h=ni;l=ii;var m=32-mn(h)-1;h&=~(1<<m),c+=1;var g=32-mn(r)+m;if(30<g){var v=m-m%5;g=(h&(1<<v)-1).toString(32),h>>=v,m-=v,ni=1<<32-mn(r)+m|c<<m|h,ii=g+l}else ni=1<<g|c<<m|h,ii=l}function uf(l){l.return!==null&&(Ei(l,1),H0(l,1,0))}function hf(l){for(;l===nc;)nc=Us[--qs],Us[qs]=null,ta=Us[--qs],Us[qs]=null;for(;l===tl;)tl=Dn[--On],Dn[On]=null,ii=Dn[--On],Dn[On]=null,ni=Dn[--On],Dn[On]=null}function V0(l,r){Dn[On++]=ni,Dn[On++]=ii,Dn[On++]=tl,ni=r.id,ii=r.overflow,tl=l}var Lt=null,nt=null,Be=!1,nl=null,Rn=!1,ff=Error(i(519));function il(l){var r=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw na(Nn(r,l)),ff}function U0(l){var r=l.stateNode,c=l.type,h=l.memoizedProps;switch(r[_t]=l,r[$t]=h,c){case"dialog":Oe("cancel",r),Oe("close",r);break;case"iframe":case"object":case"embed":Oe("load",r);break;case"video":case"audio":for(c=0;c<Ca.length;c++)Oe(Ca[c],r);break;case"source":Oe("error",r);break;case"img":case"image":case"link":Oe("error",r),Oe("load",r);break;case"details":Oe("toggle",r);break;case"input":Oe("invalid",r),Jg(r,h.value,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name,!0);break;case"select":Oe("invalid",r);break;case"textarea":Oe("invalid",r),t0(r,h.value,h.defaultValue,h.children)}c=h.children,typeof c!="string"&&typeof c!="number"&&typeof c!="bigint"||r.textContent===""+c||h.suppressHydrationWarning===!0||i1(r.textContent,c)?(h.popover!=null&&(Oe("beforetoggle",r),Oe("toggle",r)),h.onScroll!=null&&Oe("scroll",r),h.onScrollEnd!=null&&Oe("scrollend",r),h.onClick!=null&&(r.onclick=Ai),r=!0):r=!1,r||il(l,!0)}function q0(l){for(Lt=l.return;Lt;)switch(Lt.tag){case 5:case 31:case 13:Rn=!1;return;case 27:case 3:Rn=!0;return;default:Lt=Lt.return}}function Ps(l){if(l!==Lt)return!1;if(!Be)return q0(l),Be=!0,!1;var r=l.tag,c;if((c=r!==3&&r!==27)&&((c=r===5)&&(c=l.type,c=!(c!=="form"&&c!=="button")||Dd(l.type,l.memoizedProps)),c=!c),c&&nt&&il(l),q0(l),r===13){if(l=l.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(i(317));nt=f1(l)}else if(r===31){if(l=l.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(i(317));nt=f1(l)}else r===27?(r=nt,yl(l.type)?(l=Ld,Ld=null,nt=l):nt=r):nt=Lt?_n(l.stateNode.nextSibling):null;return!0}function Xl(){nt=Lt=null,Be=!1}function df(){var l=nl;return l!==null&&(ln===null?ln=l:ln.push.apply(ln,l),nl=null),l}function na(l){nl===null?nl=[l]:nl.push(l)}var mf=D(null),Ql=null,Ni=null;function ll(l,r,c){ee(mf,r._currentValue),r._currentValue=c}function Di(l){l._currentValue=mf.current,P(mf)}function pf(l,r,c){for(;l!==null;){var h=l.alternate;if((l.childLanes&r)!==r?(l.childLanes|=r,h!==null&&(h.childLanes|=r)):h!==null&&(h.childLanes&r)!==r&&(h.childLanes|=r),l===c)break;l=l.return}}function gf(l,r,c,h){var m=l.child;for(m!==null&&(m.return=l);m!==null;){var g=m.dependencies;if(g!==null){var v=m.child;g=g.firstContext;e:for(;g!==null;){var k=g;g=m;for(var E=0;E<r.length;E++)if(k.context===r[E]){g.lanes|=c,k=g.alternate,k!==null&&(k.lanes|=c),pf(g.return,c,l),h||(v=null);break e}g=k.next}}else if(m.tag===18){if(v=m.return,v===null)throw Error(i(341));v.lanes|=c,g=v.alternate,g!==null&&(g.lanes|=c),pf(v,c,l),v=null}else v=m.child;if(v!==null)v.return=m;else for(v=m;v!==null;){if(v===l){v=null;break}if(m=v.sibling,m!==null){m.return=v.return,v=m;break}v=v.return}m=v}}function Ks(l,r,c,h){l=null;for(var m=r,g=!1;m!==null;){if(!g){if((m.flags&524288)!==0)g=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var v=m.alternate;if(v===null)throw Error(i(387));if(v=v.memoizedProps,v!==null){var k=m.type;pn(m.pendingProps.value,v.value)||(l!==null?l.push(k):l=[k])}}else if(m===Ne.current){if(v=m.alternate,v===null)throw Error(i(387));v.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(l!==null?l.push(Na):l=[Na])}m=m.return}l!==null&&gf(r,l,c,h),r.flags|=262144}function ic(l){for(l=l.firstContext;l!==null;){if(!pn(l.context._currentValue,l.memoizedValue))return!0;l=l.next}return!1}function Zl(l){Ql=l,Ni=null,l=l.dependencies,l!==null&&(l.firstContext=null)}function Bt(l){return P0(Ql,l)}function lc(l,r){return Ql===null&&Zl(l),P0(l,r)}function P0(l,r){var c=r._currentValue;if(r={context:r,memoizedValue:c,next:null},Ni===null){if(l===null)throw Error(i(308));Ni=r,l.dependencies={lanes:0,firstContext:r},l.flags|=524288}else Ni=Ni.next=r;return c}var JC=typeof AbortController<"u"?AbortController:function(){var l=[],r=this.signal={aborted:!1,addEventListener:function(c,h){l.push(h)}};this.abort=function(){r.aborted=!0,l.forEach(function(c){return c()})}},eA=n.unstable_scheduleCallback,tA=n.unstable_NormalPriority,yt={$$typeof:N,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function yf(){return{controller:new JC,data:new Map,refCount:0}}function ia(l){l.refCount--,l.refCount===0&&eA(tA,function(){l.controller.abort()})}var la=null,bf=0,Ys=0,Gs=null;function nA(l,r){if(la===null){var c=la=[];bf=0,Ys=Sd(),Gs={status:"pending",value:void 0,then:function(h){c.push(h)}}}return bf++,r.then(K0,K0),r}function K0(){if(--bf===0&&la!==null){Gs!==null&&(Gs.status="fulfilled");var l=la;la=null,Ys=0,Gs=null;for(var r=0;r<l.length;r++)(0,l[r])()}}function iA(l,r){var c=[],h={status:"pending",value:null,reason:null,then:function(m){c.push(m)}};return l.then(function(){h.status="fulfilled",h.value=r;for(var m=0;m<c.length;m++)(0,c[m])(r)},function(m){for(h.status="rejected",h.reason=m,m=0;m<c.length;m++)(0,c[m])(void 0)}),h}var Y0=z.S;z.S=function(l,r){Tb=wt(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&nA(l,r),Y0!==null&&Y0(l,r)};var $l=D(null);function xf(){var l=$l.current;return l!==null?l:Ze.pooledCache}function sc(l,r){r===null?ee($l,$l.current):ee($l,r.pool)}function G0(){var l=xf();return l===null?null:{parent:yt._currentValue,pool:l}}var Is=Error(i(460)),vf=Error(i(474)),rc=Error(i(542)),ac={then:function(){}};function I0(l){return l=l.status,l==="fulfilled"||l==="rejected"}function F0(l,r,c){switch(c=l[c],c===void 0?l.push(r):c!==r&&(r.then(Ai,Ai),r=c),r.status){case"fulfilled":return r.value;case"rejected":throw l=r.reason,X0(l),l;default:if(typeof r.status=="string")r.then(Ai,Ai);else{if(l=Ze,l!==null&&100<l.shellSuspendCounter)throw Error(i(482));l=r,l.status="pending",l.then(function(h){if(r.status==="pending"){var m=r;m.status="fulfilled",m.value=h}},function(h){if(r.status==="pending"){var m=r;m.status="rejected",m.reason=h}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw l=r.reason,X0(l),l}throw es=r,Is}}function Jl(l){try{var r=l._init;return r(l._payload)}catch(c){throw c!==null&&typeof c=="object"&&typeof c.then=="function"?(es=c,Is):c}}var es=null;function W0(){if(es===null)throw Error(i(459));var l=es;return es=null,l}function X0(l){if(l===Is||l===rc)throw Error(i(483))}var Fs=null,sa=0;function oc(l){var r=sa;return sa+=1,Fs===null&&(Fs=[]),F0(Fs,l,r)}function ra(l,r){r=r.props.ref,l.ref=r!==void 0?r:null}function cc(l,r){throw r.$$typeof===x?Error(i(525)):(l=Object.prototype.toString.call(r),Error(i(31,l==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":l)))}function Q0(l){function r(R,O){if(l){var _=R.deletions;_===null?(R.deletions=[O],R.flags|=16):_.push(O)}}function c(R,O){if(!l)return null;for(;O!==null;)r(R,O),O=O.sibling;return null}function h(R){for(var O=new Map;R!==null;)R.key!==null?O.set(R.key,R):O.set(R.index,R),R=R.sibling;return O}function m(R,O){return R=Ti(R,O),R.index=0,R.sibling=null,R}function g(R,O,_){return R.index=_,l?(_=R.alternate,_!==null?(_=_.index,_<O?(R.flags|=67108866,O):_):(R.flags|=67108866,O)):(R.flags|=1048576,O)}function v(R){return l&&R.alternate===null&&(R.flags|=67108866),R}function k(R,O,_,F){return O===null||O.tag!==6?(O=of(_,R.mode,F),O.return=R,O):(O=m(O,_),O.return=R,O)}function E(R,O,_,F){var xe=_.type;return xe===A?Y(R,O,_.props.children,F,_.key):O!==null&&(O.elementType===xe||typeof xe=="object"&&xe!==null&&xe.$$typeof===Q&&Jl(xe)===O.type)?(O=m(O,_.props),ra(O,_),O.return=R,O):(O=tc(_.type,_.key,_.props,null,R.mode,F),ra(O,_),O.return=R,O)}function L(R,O,_,F){return O===null||O.tag!==4||O.stateNode.containerInfo!==_.containerInfo||O.stateNode.implementation!==_.implementation?(O=cf(_,R.mode,F),O.return=R,O):(O=m(O,_.children||[]),O.return=R,O)}function Y(R,O,_,F,xe){return O===null||O.tag!==7?(O=Wl(_,R.mode,F,xe),O.return=R,O):(O=m(O,_),O.return=R,O)}function W(R,O,_){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=of(""+O,R.mode,_),O.return=R,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case S:return _=tc(O.type,O.key,O.props,null,R.mode,_),ra(_,O),_.return=R,_;case w:return O=cf(O,R.mode,_),O.return=R,O;case Q:return O=Jl(O),W(R,O,_)}if(ve(O)||ne(O))return O=Wl(O,R.mode,_,null),O.return=R,O;if(typeof O.then=="function")return W(R,oc(O),_);if(O.$$typeof===N)return W(R,lc(R,O),_);cc(R,O)}return null}function H(R,O,_,F){var xe=O!==null?O.key:null;if(typeof _=="string"&&_!==""||typeof _=="number"||typeof _=="bigint")return xe!==null?null:k(R,O,""+_,F);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case S:return _.key===xe?E(R,O,_,F):null;case w:return _.key===xe?L(R,O,_,F):null;case Q:return _=Jl(_),H(R,O,_,F)}if(ve(_)||ne(_))return xe!==null?null:Y(R,O,_,F,null);if(typeof _.then=="function")return H(R,O,oc(_),F);if(_.$$typeof===N)return H(R,O,lc(R,_),F);cc(R,_)}return null}function U(R,O,_,F,xe){if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return R=R.get(_)||null,k(O,R,""+F,xe);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case S:return R=R.get(F.key===null?_:F.key)||null,E(O,R,F,xe);case w:return R=R.get(F.key===null?_:F.key)||null,L(O,R,F,xe);case Q:return F=Jl(F),U(R,O,_,F,xe)}if(ve(F)||ne(F))return R=R.get(_)||null,Y(O,R,F,xe,null);if(typeof F.then=="function")return U(R,O,_,oc(F),xe);if(F.$$typeof===N)return U(R,O,_,lc(O,F),xe);cc(O,F)}return null}function he(R,O,_,F){for(var xe=null,Ve=null,de=O,Ee=O=0,_e=null;de!==null&&Ee<_.length;Ee++){de.index>Ee?(_e=de,de=null):_e=de.sibling;var Ue=H(R,de,_[Ee],F);if(Ue===null){de===null&&(de=_e);break}l&&de&&Ue.alternate===null&&r(R,de),O=g(Ue,O,Ee),Ve===null?xe=Ue:Ve.sibling=Ue,Ve=Ue,de=_e}if(Ee===_.length)return c(R,de),Be&&Ei(R,Ee),xe;if(de===null){for(;Ee<_.length;Ee++)de=W(R,_[Ee],F),de!==null&&(O=g(de,O,Ee),Ve===null?xe=de:Ve.sibling=de,Ve=de);return Be&&Ei(R,Ee),xe}for(de=h(de);Ee<_.length;Ee++)_e=U(de,R,Ee,_[Ee],F),_e!==null&&(l&&_e.alternate!==null&&de.delete(_e.key===null?Ee:_e.key),O=g(_e,O,Ee),Ve===null?xe=_e:Ve.sibling=_e,Ve=_e);return l&&de.forEach(function(wl){return r(R,wl)}),Be&&Ei(R,Ee),xe}function we(R,O,_,F){if(_==null)throw Error(i(151));for(var xe=null,Ve=null,de=O,Ee=O=0,_e=null,Ue=_.next();de!==null&&!Ue.done;Ee++,Ue=_.next()){de.index>Ee?(_e=de,de=null):_e=de.sibling;var wl=H(R,de,Ue.value,F);if(wl===null){de===null&&(de=_e);break}l&&de&&wl.alternate===null&&r(R,de),O=g(wl,O,Ee),Ve===null?xe=wl:Ve.sibling=wl,Ve=wl,de=_e}if(Ue.done)return c(R,de),Be&&Ei(R,Ee),xe;if(de===null){for(;!Ue.done;Ee++,Ue=_.next())Ue=W(R,Ue.value,F),Ue!==null&&(O=g(Ue,O,Ee),Ve===null?xe=Ue:Ve.sibling=Ue,Ve=Ue);return Be&&Ei(R,Ee),xe}for(de=h(de);!Ue.done;Ee++,Ue=_.next())Ue=U(de,R,Ee,Ue.value,F),Ue!==null&&(l&&Ue.alternate!==null&&de.delete(Ue.key===null?Ee:Ue.key),O=g(Ue,O,Ee),Ve===null?xe=Ue:Ve.sibling=Ue,Ve=Ue);return l&&de.forEach(function(m4){return r(R,m4)}),Be&&Ei(R,Ee),xe}function We(R,O,_,F){if(typeof _=="object"&&_!==null&&_.type===A&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case S:e:{for(var xe=_.key;O!==null;){if(O.key===xe){if(xe=_.type,xe===A){if(O.tag===7){c(R,O.sibling),F=m(O,_.props.children),F.return=R,R=F;break e}}else if(O.elementType===xe||typeof xe=="object"&&xe!==null&&xe.$$typeof===Q&&Jl(xe)===O.type){c(R,O.sibling),F=m(O,_.props),ra(F,_),F.return=R,R=F;break e}c(R,O);break}else r(R,O);O=O.sibling}_.type===A?(F=Wl(_.props.children,R.mode,F,_.key),F.return=R,R=F):(F=tc(_.type,_.key,_.props,null,R.mode,F),ra(F,_),F.return=R,R=F)}return v(R);case w:e:{for(xe=_.key;O!==null;){if(O.key===xe)if(O.tag===4&&O.stateNode.containerInfo===_.containerInfo&&O.stateNode.implementation===_.implementation){c(R,O.sibling),F=m(O,_.children||[]),F.return=R,R=F;break e}else{c(R,O);break}else r(R,O);O=O.sibling}F=cf(_,R.mode,F),F.return=R,R=F}return v(R);case Q:return _=Jl(_),We(R,O,_,F)}if(ve(_))return he(R,O,_,F);if(ne(_)){if(xe=ne(_),typeof xe!="function")throw Error(i(150));return _=xe.call(_),we(R,O,_,F)}if(typeof _.then=="function")return We(R,O,oc(_),F);if(_.$$typeof===N)return We(R,O,lc(R,_),F);cc(R,_)}return typeof _=="string"&&_!==""||typeof _=="number"||typeof _=="bigint"?(_=""+_,O!==null&&O.tag===6?(c(R,O.sibling),F=m(O,_),F.return=R,R=F):(c(R,O),F=of(_,R.mode,F),F.return=R,R=F),v(R)):c(R,O)}return function(R,O,_,F){try{sa=0;var xe=We(R,O,_,F);return Fs=null,xe}catch(de){if(de===Is||de===rc)throw de;var Ve=gn(29,de,null,R.mode);return Ve.lanes=F,Ve.return=R,Ve}finally{}}}var ts=Q0(!0),Z0=Q0(!1),sl=!1;function Sf(l){l.updateQueue={baseState:l.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function wf(l,r){l=l.updateQueue,r.updateQueue===l&&(r.updateQueue={baseState:l.baseState,firstBaseUpdate:l.firstBaseUpdate,lastBaseUpdate:l.lastBaseUpdate,shared:l.shared,callbacks:null})}function rl(l){return{lane:l,tag:0,payload:null,callback:null,next:null}}function al(l,r,c){var h=l.updateQueue;if(h===null)return null;if(h=h.shared,(Pe&2)!==0){var m=h.pending;return m===null?r.next=r:(r.next=m.next,m.next=r),h.pending=r,r=ec(l),_0(l,null,c),r}return Jo(l,h,r,c),ec(l)}function aa(l,r,c){if(r=r.updateQueue,r!==null&&(r=r.shared,(c&4194048)!==0)){var h=r.lanes;h&=l.pendingLanes,c|=h,r.lanes=c,Pg(l,c)}}function kf(l,r){var c=l.updateQueue,h=l.alternate;if(h!==null&&(h=h.updateQueue,c===h)){var m=null,g=null;if(c=c.firstBaseUpdate,c!==null){do{var v={lane:c.lane,tag:c.tag,payload:c.payload,callback:null,next:null};g===null?m=g=v:g=g.next=v,c=c.next}while(c!==null);g===null?m=g=r:g=g.next=r}else m=g=r;c={baseState:h.baseState,firstBaseUpdate:m,lastBaseUpdate:g,shared:h.shared,callbacks:h.callbacks},l.updateQueue=c;return}l=c.lastBaseUpdate,l===null?c.firstBaseUpdate=r:l.next=r,c.lastBaseUpdate=r}var Cf=!1;function oa(){if(Cf){var l=Gs;if(l!==null)throw l}}function ca(l,r,c,h){Cf=!1;var m=l.updateQueue;sl=!1;var g=m.firstBaseUpdate,v=m.lastBaseUpdate,k=m.shared.pending;if(k!==null){m.shared.pending=null;var E=k,L=E.next;E.next=null,v===null?g=L:v.next=L,v=E;var Y=l.alternate;Y!==null&&(Y=Y.updateQueue,k=Y.lastBaseUpdate,k!==v&&(k===null?Y.firstBaseUpdate=L:k.next=L,Y.lastBaseUpdate=E))}if(g!==null){var W=m.baseState;v=0,Y=L=E=null,k=g;do{var H=k.lane&-536870913,U=H!==k.lane;if(U?(je&H)===H:(h&H)===H){H!==0&&H===Ys&&(Cf=!0),Y!==null&&(Y=Y.next={lane:0,tag:k.tag,payload:k.payload,callback:null,next:null});e:{var he=l,we=k;H=r;var We=c;switch(we.tag){case 1:if(he=we.payload,typeof he=="function"){W=he.call(We,W,H);break e}W=he;break e;case 3:he.flags=he.flags&-65537|128;case 0:if(he=we.payload,H=typeof he=="function"?he.call(We,W,H):he,H==null)break e;W=y({},W,H);break e;case 2:sl=!0}}H=k.callback,H!==null&&(l.flags|=64,U&&(l.flags|=8192),U=m.callbacks,U===null?m.callbacks=[H]:U.push(H))}else U={lane:H,tag:k.tag,payload:k.payload,callback:k.callback,next:null},Y===null?(L=Y=U,E=W):Y=Y.next=U,v|=H;if(k=k.next,k===null){if(k=m.shared.pending,k===null)break;U=k,k=U.next,U.next=null,m.lastBaseUpdate=U,m.shared.pending=null}}while(!0);Y===null&&(E=W),m.baseState=E,m.firstBaseUpdate=L,m.lastBaseUpdate=Y,g===null&&(m.shared.lanes=0),fl|=v,l.lanes=v,l.memoizedState=W}}function $0(l,r){if(typeof l!="function")throw Error(i(191,l));l.call(r)}function J0(l,r){var c=l.callbacks;if(c!==null)for(l.callbacks=null,l=0;l<c.length;l++)$0(c[l],r)}var Ws=D(null),uc=D(0);function ey(l,r){l=Vi,ee(uc,l),ee(Ws,r),Vi=l|r.baseLanes}function Af(){ee(uc,Vi),ee(Ws,Ws.current)}function Mf(){Vi=uc.current,P(Ws),P(uc)}var yn=D(null),jn=null;function ol(l){var r=l.alternate;ee(dt,dt.current&1),ee(yn,l),jn===null&&(r===null||Ws.current!==null||r.memoizedState!==null)&&(jn=l)}function Tf(l){ee(dt,dt.current),ee(yn,l),jn===null&&(jn=l)}function ty(l){l.tag===22?(ee(dt,dt.current),ee(yn,l),jn===null&&(jn=l)):cl()}function cl(){ee(dt,dt.current),ee(yn,yn.current)}function bn(l){P(yn),jn===l&&(jn=null),P(dt)}var dt=D(0);function hc(l){for(var r=l;r!==null;){if(r.tag===13){var c=r.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||jd(c)||_d(c)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===l)break;for(;r.sibling===null;){if(r.return===null||r.return===l)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var Oi=0,Te=null,Ie=null,bt=null,fc=!1,Xs=!1,ns=!1,dc=0,ua=0,Qs=null,lA=0;function ut(){throw Error(i(321))}function Ef(l,r){if(r===null)return!1;for(var c=0;c<r.length&&c<l.length;c++)if(!pn(l[c],r[c]))return!1;return!0}function Nf(l,r,c,h,m,g){return Oi=g,Te=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,z.H=l===null||l.memoizedState===null?Hy:Yf,ns=!1,g=c(h,m),ns=!1,Xs&&(g=iy(r,c,h,m)),ny(l),g}function ny(l){z.H=da;var r=Ie!==null&&Ie.next!==null;if(Oi=0,bt=Ie=Te=null,fc=!1,ua=0,Qs=null,r)throw Error(i(300));l===null||xt||(l=l.dependencies,l!==null&&ic(l)&&(xt=!0))}function iy(l,r,c,h){Te=l;var m=0;do{if(Xs&&(Qs=null),ua=0,Xs=!1,25<=m)throw Error(i(301));if(m+=1,bt=Ie=null,l.updateQueue!=null){var g=l.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}z.H=Vy,g=r(c,h)}while(Xs);return g}function sA(){var l=z.H,r=l.useState()[0];return r=typeof r.then=="function"?ha(r):r,l=l.useState()[0],(Ie!==null?Ie.memoizedState:null)!==l&&(Te.flags|=1024),r}function Df(){var l=dc!==0;return dc=0,l}function Of(l,r,c){r.updateQueue=l.updateQueue,r.flags&=-2053,l.lanes&=~c}function Rf(l){if(fc){for(l=l.memoizedState;l!==null;){var r=l.queue;r!==null&&(r.pending=null),l=l.next}fc=!1}Oi=0,bt=Ie=Te=null,Xs=!1,ua=dc=0,Qs=null}function Ft(){var l={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return bt===null?Te.memoizedState=bt=l:bt=bt.next=l,bt}function mt(){if(Ie===null){var l=Te.alternate;l=l!==null?l.memoizedState:null}else l=Ie.next;var r=bt===null?Te.memoizedState:bt.next;if(r!==null)bt=r,Ie=l;else{if(l===null)throw Te.alternate===null?Error(i(467)):Error(i(310));Ie=l,l={memoizedState:Ie.memoizedState,baseState:Ie.baseState,baseQueue:Ie.baseQueue,queue:Ie.queue,next:null},bt===null?Te.memoizedState=bt=l:bt=bt.next=l}return bt}function mc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ha(l){var r=ua;return ua+=1,Qs===null&&(Qs=[]),l=F0(Qs,l,r),r=Te,(bt===null?r.memoizedState:bt.next)===null&&(r=r.alternate,z.H=r===null||r.memoizedState===null?Hy:Yf),l}function pc(l){if(l!==null&&typeof l=="object"){if(typeof l.then=="function")return ha(l);if(l.$$typeof===N)return Bt(l)}throw Error(i(438,String(l)))}function jf(l){var r=null,c=Te.updateQueue;if(c!==null&&(r=c.memoCache),r==null){var h=Te.alternate;h!==null&&(h=h.updateQueue,h!==null&&(h=h.memoCache,h!=null&&(r={data:h.data.map(function(m){return m.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),c===null&&(c=mc(),Te.updateQueue=c),c.memoCache=r,c=r.data[r.index],c===void 0)for(c=r.data[r.index]=Array(l),h=0;h<l;h++)c[h]=ue;return r.index++,c}function Ri(l,r){return typeof r=="function"?r(l):r}function gc(l){var r=mt();return _f(r,Ie,l)}function _f(l,r,c){var h=l.queue;if(h===null)throw Error(i(311));h.lastRenderedReducer=c;var m=l.baseQueue,g=h.pending;if(g!==null){if(m!==null){var v=m.next;m.next=g.next,g.next=v}r.baseQueue=m=g,h.pending=null}if(g=l.baseState,m===null)l.memoizedState=g;else{r=m.next;var k=v=null,E=null,L=r,Y=!1;do{var W=L.lane&-536870913;if(W!==L.lane?(je&W)===W:(Oi&W)===W){var H=L.revertLane;if(H===0)E!==null&&(E=E.next={lane:0,revertLane:0,gesture:null,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null}),W===Ys&&(Y=!0);else if((Oi&H)===H){L=L.next,H===Ys&&(Y=!0);continue}else W={lane:0,revertLane:L.revertLane,gesture:null,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null},E===null?(k=E=W,v=g):E=E.next=W,Te.lanes|=H,fl|=H;W=L.action,ns&&c(g,W),g=L.hasEagerState?L.eagerState:c(g,W)}else H={lane:W,revertLane:L.revertLane,gesture:L.gesture,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null},E===null?(k=E=H,v=g):E=E.next=H,Te.lanes|=W,fl|=W;L=L.next}while(L!==null&&L!==r);if(E===null?v=g:E.next=k,!pn(g,l.memoizedState)&&(xt=!0,Y&&(c=Gs,c!==null)))throw c;l.memoizedState=g,l.baseState=v,l.baseQueue=E,h.lastRenderedState=g}return m===null&&(h.lanes=0),[l.memoizedState,h.dispatch]}function Lf(l){var r=mt(),c=r.queue;if(c===null)throw Error(i(311));c.lastRenderedReducer=l;var h=c.dispatch,m=c.pending,g=r.memoizedState;if(m!==null){c.pending=null;var v=m=m.next;do g=l(g,v.action),v=v.next;while(v!==m);pn(g,r.memoizedState)||(xt=!0),r.memoizedState=g,r.baseQueue===null&&(r.baseState=g),c.lastRenderedState=g}return[g,h]}function ly(l,r,c){var h=Te,m=mt(),g=Be;if(g){if(c===void 0)throw Error(i(407));c=c()}else c=r();var v=!pn((Ie||m).memoizedState,c);if(v&&(m.memoizedState=c,xt=!0),m=m.queue,Hf(ay.bind(null,h,m,l),[l]),m.getSnapshot!==r||v||bt!==null&&bt.memoizedState.tag&1){if(h.flags|=2048,Zs(9,{destroy:void 0},ry.bind(null,h,m,c,r),null),Ze===null)throw Error(i(349));g||(Oi&127)!==0||sy(h,r,c)}return c}function sy(l,r,c){l.flags|=16384,l={getSnapshot:r,value:c},r=Te.updateQueue,r===null?(r=mc(),Te.updateQueue=r,r.stores=[l]):(c=r.stores,c===null?r.stores=[l]:c.push(l))}function ry(l,r,c,h){r.value=c,r.getSnapshot=h,oy(r)&&cy(l)}function ay(l,r,c){return c(function(){oy(r)&&cy(l)})}function oy(l){var r=l.getSnapshot;l=l.value;try{var c=r();return!pn(l,c)}catch{return!0}}function cy(l){var r=Fl(l,2);r!==null&&sn(r,l,2)}function Bf(l){var r=Ft();if(typeof l=="function"){var c=l;if(l=c(),ns){$i(!0);try{c()}finally{$i(!1)}}}return r.memoizedState=r.baseState=l,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ri,lastRenderedState:l},r}function uy(l,r,c,h){return l.baseState=c,_f(l,Ie,typeof h=="function"?h:Ri)}function rA(l,r,c,h,m){if(xc(l))throw Error(i(485));if(l=r.action,l!==null){var g={payload:m,action:l,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){g.listeners.push(v)}};z.T!==null?c(!0):g.isTransition=!1,h(g),c=r.pending,c===null?(g.next=r.pending=g,hy(r,g)):(g.next=c.next,r.pending=c.next=g)}}function hy(l,r){var c=r.action,h=r.payload,m=l.state;if(r.isTransition){var g=z.T,v={};z.T=v;try{var k=c(m,h),E=z.S;E!==null&&E(v,k),fy(l,r,k)}catch(L){zf(l,r,L)}finally{g!==null&&v.types!==null&&(g.types=v.types),z.T=g}}else try{g=c(m,h),fy(l,r,g)}catch(L){zf(l,r,L)}}function fy(l,r,c){c!==null&&typeof c=="object"&&typeof c.then=="function"?c.then(function(h){dy(l,r,h)},function(h){return zf(l,r,h)}):dy(l,r,c)}function dy(l,r,c){r.status="fulfilled",r.value=c,my(r),l.state=c,r=l.pending,r!==null&&(c=r.next,c===r?l.pending=null:(c=c.next,r.next=c,hy(l,c)))}function zf(l,r,c){var h=l.pending;if(l.pending=null,h!==null){h=h.next;do r.status="rejected",r.reason=c,my(r),r=r.next;while(r!==h)}l.action=null}function my(l){l=l.listeners;for(var r=0;r<l.length;r++)(0,l[r])()}function py(l,r){return r}function gy(l,r){if(Be){var c=Ze.formState;if(c!==null){e:{var h=Te;if(Be){if(nt){t:{for(var m=nt,g=Rn;m.nodeType!==8;){if(!g){m=null;break t}if(m=_n(m.nextSibling),m===null){m=null;break t}}g=m.data,m=g==="F!"||g==="F"?m:null}if(m){nt=_n(m.nextSibling),h=m.data==="F!";break e}}il(h)}h=!1}h&&(r=c[0])}}return c=Ft(),c.memoizedState=c.baseState=r,h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:py,lastRenderedState:r},c.queue=h,c=Ly.bind(null,Te,h),h.dispatch=c,h=Bf(!1),g=Kf.bind(null,Te,!1,h.queue),h=Ft(),m={state:r,dispatch:null,action:l,pending:null},h.queue=m,c=rA.bind(null,Te,m,g,c),m.dispatch=c,h.memoizedState=l,[r,c,!1]}function yy(l){var r=mt();return by(r,Ie,l)}function by(l,r,c){if(r=_f(l,r,py)[0],l=gc(Ri)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var h=ha(r)}catch(v){throw v===Is?rc:v}else h=r;r=mt();var m=r.queue,g=m.dispatch;return c!==r.memoizedState&&(Te.flags|=2048,Zs(9,{destroy:void 0},aA.bind(null,m,c),null)),[h,g,l]}function aA(l,r){l.action=r}function xy(l){var r=mt(),c=Ie;if(c!==null)return by(r,c,l);mt(),r=r.memoizedState,c=mt();var h=c.queue.dispatch;return c.memoizedState=l,[r,h,!1]}function Zs(l,r,c,h){return l={tag:l,create:c,deps:h,inst:r,next:null},r=Te.updateQueue,r===null&&(r=mc(),Te.updateQueue=r),c=r.lastEffect,c===null?r.lastEffect=l.next=l:(h=c.next,c.next=l,l.next=h,r.lastEffect=l),l}function vy(){return mt().memoizedState}function yc(l,r,c,h){var m=Ft();Te.flags|=l,m.memoizedState=Zs(1|r,{destroy:void 0},c,h===void 0?null:h)}function bc(l,r,c,h){var m=mt();h=h===void 0?null:h;var g=m.memoizedState.inst;Ie!==null&&h!==null&&Ef(h,Ie.memoizedState.deps)?m.memoizedState=Zs(r,g,c,h):(Te.flags|=l,m.memoizedState=Zs(1|r,g,c,h))}function Sy(l,r){yc(8390656,8,l,r)}function Hf(l,r){bc(2048,8,l,r)}function oA(l){Te.flags|=4;var r=Te.updateQueue;if(r===null)r=mc(),Te.updateQueue=r,r.events=[l];else{var c=r.events;c===null?r.events=[l]:c.push(l)}}function wy(l){var r=mt().memoizedState;return oA({ref:r,nextImpl:l}),function(){if((Pe&2)!==0)throw Error(i(440));return r.impl.apply(void 0,arguments)}}function ky(l,r){return bc(4,2,l,r)}function Cy(l,r){return bc(4,4,l,r)}function Ay(l,r){if(typeof r=="function"){l=l();var c=r(l);return function(){typeof c=="function"?c():r(null)}}if(r!=null)return l=l(),r.current=l,function(){r.current=null}}function My(l,r,c){c=c!=null?c.concat([l]):null,bc(4,4,Ay.bind(null,r,l),c)}function Vf(){}function Ty(l,r){var c=mt();r=r===void 0?null:r;var h=c.memoizedState;return r!==null&&Ef(r,h[1])?h[0]:(c.memoizedState=[l,r],l)}function Ey(l,r){var c=mt();r=r===void 0?null:r;var h=c.memoizedState;if(r!==null&&Ef(r,h[1]))return h[0];if(h=l(),ns){$i(!0);try{l()}finally{$i(!1)}}return c.memoizedState=[h,r],h}function Uf(l,r,c){return c===void 0||(Oi&1073741824)!==0&&(je&261930)===0?l.memoizedState=r:(l.memoizedState=c,l=Nb(),Te.lanes|=l,fl|=l,c)}function Ny(l,r,c,h){return pn(c,r)?c:Ws.current!==null?(l=Uf(l,c,h),pn(l,r)||(xt=!0),l):(Oi&42)===0||(Oi&1073741824)!==0&&(je&261930)===0?(xt=!0,l.memoizedState=c):(l=Nb(),Te.lanes|=l,fl|=l,r)}function Dy(l,r,c,h,m){var g=K.p;K.p=g!==0&&8>g?g:8;var v=z.T,k={};z.T=k,Kf(l,!1,r,c);try{var E=m(),L=z.S;if(L!==null&&L(k,E),E!==null&&typeof E=="object"&&typeof E.then=="function"){var Y=iA(E,h);fa(l,r,Y,Sn(l))}else fa(l,r,h,Sn(l))}catch(W){fa(l,r,{then:function(){},status:"rejected",reason:W},Sn())}finally{K.p=g,v!==null&&k.types!==null&&(v.types=k.types),z.T=v}}function cA(){}function qf(l,r,c,h){if(l.tag!==5)throw Error(i(476));var m=Oy(l).queue;Dy(l,m,r,$,c===null?cA:function(){return Ry(l),c(h)})}function Oy(l){var r=l.memoizedState;if(r!==null)return r;r={memoizedState:$,baseState:$,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ri,lastRenderedState:$},next:null};var c={};return r.next={memoizedState:c,baseState:c,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ri,lastRenderedState:c},next:null},l.memoizedState=r,l=l.alternate,l!==null&&(l.memoizedState=r),r}function Ry(l){var r=Oy(l);r.next===null&&(r=l.alternate.memoizedState),fa(l,r.next.queue,{},Sn())}function Pf(){return Bt(Na)}function jy(){return mt().memoizedState}function _y(){return mt().memoizedState}function uA(l){for(var r=l.return;r!==null;){switch(r.tag){case 24:case 3:var c=Sn();l=rl(c);var h=al(r,l,c);h!==null&&(sn(h,r,c),aa(h,r,c)),r={cache:yf()},l.payload=r;return}r=r.return}}function hA(l,r,c){var h=Sn();c={lane:h,revertLane:0,gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},xc(l)?By(r,c):(c=rf(l,r,c,h),c!==null&&(sn(c,l,h),zy(c,r,h)))}function Ly(l,r,c){var h=Sn();fa(l,r,c,h)}function fa(l,r,c,h){var m={lane:h,revertLane:0,gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null};if(xc(l))By(r,m);else{var g=l.alternate;if(l.lanes===0&&(g===null||g.lanes===0)&&(g=r.lastRenderedReducer,g!==null))try{var v=r.lastRenderedState,k=g(v,c);if(m.hasEagerState=!0,m.eagerState=k,pn(k,v))return Jo(l,r,m,0),Ze===null&&$o(),!1}catch{}finally{}if(c=rf(l,r,m,h),c!==null)return sn(c,l,h),zy(c,r,h),!0}return!1}function Kf(l,r,c,h){if(h={lane:2,revertLane:Sd(),gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null},xc(l)){if(r)throw Error(i(479))}else r=rf(l,c,h,2),r!==null&&sn(r,l,2)}function xc(l){var r=l.alternate;return l===Te||r!==null&&r===Te}function By(l,r){Xs=fc=!0;var c=l.pending;c===null?r.next=r:(r.next=c.next,c.next=r),l.pending=r}function zy(l,r,c){if((c&4194048)!==0){var h=r.lanes;h&=l.pendingLanes,c|=h,r.lanes=c,Pg(l,c)}}var da={readContext:Bt,use:pc,useCallback:ut,useContext:ut,useEffect:ut,useImperativeHandle:ut,useLayoutEffect:ut,useInsertionEffect:ut,useMemo:ut,useReducer:ut,useRef:ut,useState:ut,useDebugValue:ut,useDeferredValue:ut,useTransition:ut,useSyncExternalStore:ut,useId:ut,useHostTransitionStatus:ut,useFormState:ut,useActionState:ut,useOptimistic:ut,useMemoCache:ut,useCacheRefresh:ut};da.useEffectEvent=ut;var Hy={readContext:Bt,use:pc,useCallback:function(l,r){return Ft().memoizedState=[l,r===void 0?null:r],l},useContext:Bt,useEffect:Sy,useImperativeHandle:function(l,r,c){c=c!=null?c.concat([l]):null,yc(4194308,4,Ay.bind(null,r,l),c)},useLayoutEffect:function(l,r){return yc(4194308,4,l,r)},useInsertionEffect:function(l,r){yc(4,2,l,r)},useMemo:function(l,r){var c=Ft();r=r===void 0?null:r;var h=l();if(ns){$i(!0);try{l()}finally{$i(!1)}}return c.memoizedState=[h,r],h},useReducer:function(l,r,c){var h=Ft();if(c!==void 0){var m=c(r);if(ns){$i(!0);try{c(r)}finally{$i(!1)}}}else m=r;return h.memoizedState=h.baseState=m,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:l,lastRenderedState:m},h.queue=l,l=l.dispatch=hA.bind(null,Te,l),[h.memoizedState,l]},useRef:function(l){var r=Ft();return l={current:l},r.memoizedState=l},useState:function(l){l=Bf(l);var r=l.queue,c=Ly.bind(null,Te,r);return r.dispatch=c,[l.memoizedState,c]},useDebugValue:Vf,useDeferredValue:function(l,r){var c=Ft();return Uf(c,l,r)},useTransition:function(){var l=Bf(!1);return l=Dy.bind(null,Te,l.queue,!0,!1),Ft().memoizedState=l,[!1,l]},useSyncExternalStore:function(l,r,c){var h=Te,m=Ft();if(Be){if(c===void 0)throw Error(i(407));c=c()}else{if(c=r(),Ze===null)throw Error(i(349));(je&127)!==0||sy(h,r,c)}m.memoizedState=c;var g={value:c,getSnapshot:r};return m.queue=g,Sy(ay.bind(null,h,g,l),[l]),h.flags|=2048,Zs(9,{destroy:void 0},ry.bind(null,h,g,c,r),null),c},useId:function(){var l=Ft(),r=Ze.identifierPrefix;if(Be){var c=ii,h=ni;c=(h&~(1<<32-mn(h)-1)).toString(32)+c,r="_"+r+"R_"+c,c=dc++,0<c&&(r+="H"+c.toString(32)),r+="_"}else c=lA++,r="_"+r+"r_"+c.toString(32)+"_";return l.memoizedState=r},useHostTransitionStatus:Pf,useFormState:gy,useActionState:gy,useOptimistic:function(l){var r=Ft();r.memoizedState=r.baseState=l;var c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=c,r=Kf.bind(null,Te,!0,c),c.dispatch=r,[l,r]},useMemoCache:jf,useCacheRefresh:function(){return Ft().memoizedState=uA.bind(null,Te)},useEffectEvent:function(l){var r=Ft(),c={impl:l};return r.memoizedState=c,function(){if((Pe&2)!==0)throw Error(i(440));return c.impl.apply(void 0,arguments)}}},Yf={readContext:Bt,use:pc,useCallback:Ty,useContext:Bt,useEffect:Hf,useImperativeHandle:My,useInsertionEffect:ky,useLayoutEffect:Cy,useMemo:Ey,useReducer:gc,useRef:vy,useState:function(){return gc(Ri)},useDebugValue:Vf,useDeferredValue:function(l,r){var c=mt();return Ny(c,Ie.memoizedState,l,r)},useTransition:function(){var l=gc(Ri)[0],r=mt().memoizedState;return[typeof l=="boolean"?l:ha(l),r]},useSyncExternalStore:ly,useId:jy,useHostTransitionStatus:Pf,useFormState:yy,useActionState:yy,useOptimistic:function(l,r){var c=mt();return uy(c,Ie,l,r)},useMemoCache:jf,useCacheRefresh:_y};Yf.useEffectEvent=wy;var Vy={readContext:Bt,use:pc,useCallback:Ty,useContext:Bt,useEffect:Hf,useImperativeHandle:My,useInsertionEffect:ky,useLayoutEffect:Cy,useMemo:Ey,useReducer:Lf,useRef:vy,useState:function(){return Lf(Ri)},useDebugValue:Vf,useDeferredValue:function(l,r){var c=mt();return Ie===null?Uf(c,l,r):Ny(c,Ie.memoizedState,l,r)},useTransition:function(){var l=Lf(Ri)[0],r=mt().memoizedState;return[typeof l=="boolean"?l:ha(l),r]},useSyncExternalStore:ly,useId:jy,useHostTransitionStatus:Pf,useFormState:xy,useActionState:xy,useOptimistic:function(l,r){var c=mt();return Ie!==null?uy(c,Ie,l,r):(c.baseState=l,[l,c.queue.dispatch])},useMemoCache:jf,useCacheRefresh:_y};Vy.useEffectEvent=wy;function Gf(l,r,c,h){r=l.memoizedState,c=c(h,r),c=c==null?r:y({},r,c),l.memoizedState=c,l.lanes===0&&(l.updateQueue.baseState=c)}var If={enqueueSetState:function(l,r,c){l=l._reactInternals;var h=Sn(),m=rl(h);m.payload=r,c!=null&&(m.callback=c),r=al(l,m,h),r!==null&&(sn(r,l,h),aa(r,l,h))},enqueueReplaceState:function(l,r,c){l=l._reactInternals;var h=Sn(),m=rl(h);m.tag=1,m.payload=r,c!=null&&(m.callback=c),r=al(l,m,h),r!==null&&(sn(r,l,h),aa(r,l,h))},enqueueForceUpdate:function(l,r){l=l._reactInternals;var c=Sn(),h=rl(c);h.tag=2,r!=null&&(h.callback=r),r=al(l,h,c),r!==null&&(sn(r,l,c),aa(r,l,c))}};function Uy(l,r,c,h,m,g,v){return l=l.stateNode,typeof l.shouldComponentUpdate=="function"?l.shouldComponentUpdate(h,g,v):r.prototype&&r.prototype.isPureReactComponent?!Jr(c,h)||!Jr(m,g):!0}function qy(l,r,c,h){l=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(c,h),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(c,h),r.state!==l&&If.enqueueReplaceState(r,r.state,null)}function is(l,r){var c=r;if("ref"in r){c={};for(var h in r)h!=="ref"&&(c[h]=r[h])}if(l=l.defaultProps){c===r&&(c=y({},c));for(var m in l)c[m]===void 0&&(c[m]=l[m])}return c}function Py(l){Zo(l)}function Ky(l){console.error(l)}function Yy(l){Zo(l)}function vc(l,r){try{var c=l.onUncaughtError;c(r.value,{componentStack:r.stack})}catch(h){setTimeout(function(){throw h})}}function Gy(l,r,c){try{var h=l.onCaughtError;h(c.value,{componentStack:c.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function Ff(l,r,c){return c=rl(c),c.tag=3,c.payload={element:null},c.callback=function(){vc(l,r)},c}function Iy(l){return l=rl(l),l.tag=3,l}function Fy(l,r,c,h){var m=c.type.getDerivedStateFromError;if(typeof m=="function"){var g=h.value;l.payload=function(){return m(g)},l.callback=function(){Gy(r,c,h)}}var v=c.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(l.callback=function(){Gy(r,c,h),typeof m!="function"&&(dl===null?dl=new Set([this]):dl.add(this));var k=h.stack;this.componentDidCatch(h.value,{componentStack:k!==null?k:""})})}function fA(l,r,c,h,m){if(c.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){if(r=c.alternate,r!==null&&Ks(r,c,m,!0),c=yn.current,c!==null){switch(c.tag){case 31:case 13:return jn===null?Rc():c.alternate===null&&ht===0&&(ht=3),c.flags&=-257,c.flags|=65536,c.lanes=m,h===ac?c.flags|=16384:(r=c.updateQueue,r===null?c.updateQueue=new Set([h]):r.add(h),bd(l,h,m)),!1;case 22:return c.flags|=65536,h===ac?c.flags|=16384:(r=c.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([h])},c.updateQueue=r):(c=r.retryQueue,c===null?r.retryQueue=new Set([h]):c.add(h)),bd(l,h,m)),!1}throw Error(i(435,c.tag))}return bd(l,h,m),Rc(),!1}if(Be)return r=yn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=m,h!==ff&&(l=Error(i(422),{cause:h}),na(Nn(l,c)))):(h!==ff&&(r=Error(i(423),{cause:h}),na(Nn(r,c))),l=l.current.alternate,l.flags|=65536,m&=-m,l.lanes|=m,h=Nn(h,c),m=Ff(l.stateNode,h,m),kf(l,m),ht!==4&&(ht=2)),!1;var g=Error(i(520),{cause:h});if(g=Nn(g,c),Sa===null?Sa=[g]:Sa.push(g),ht!==4&&(ht=2),r===null)return!0;h=Nn(h,c),c=r;do{switch(c.tag){case 3:return c.flags|=65536,l=m&-m,c.lanes|=l,l=Ff(c.stateNode,h,l),kf(c,l),!1;case 1:if(r=c.type,g=c.stateNode,(c.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(dl===null||!dl.has(g))))return c.flags|=65536,m&=-m,c.lanes|=m,m=Iy(m),Fy(m,l,c,h),kf(c,m),!1}c=c.return}while(c!==null);return!1}var Wf=Error(i(461)),xt=!1;function zt(l,r,c,h){r.child=l===null?Z0(r,null,c,h):ts(r,l.child,c,h)}function Wy(l,r,c,h,m){c=c.render;var g=r.ref;if("ref"in h){var v={};for(var k in h)k!=="ref"&&(v[k]=h[k])}else v=h;return Zl(r),h=Nf(l,r,c,v,g,m),k=Df(),l!==null&&!xt?(Of(l,r,m),ji(l,r,m)):(Be&&k&&uf(r),r.flags|=1,zt(l,r,h,m),r.child)}function Xy(l,r,c,h,m){if(l===null){var g=c.type;return typeof g=="function"&&!af(g)&&g.defaultProps===void 0&&c.compare===null?(r.tag=15,r.type=g,Qy(l,r,g,h,m)):(l=tc(c.type,null,h,r,r.mode,m),l.ref=r.ref,l.return=r,r.child=l)}if(g=l.child,!nd(l,m)){var v=g.memoizedProps;if(c=c.compare,c=c!==null?c:Jr,c(v,h)&&l.ref===r.ref)return ji(l,r,m)}return r.flags|=1,l=Ti(g,h),l.ref=r.ref,l.return=r,r.child=l}function Qy(l,r,c,h,m){if(l!==null){var g=l.memoizedProps;if(Jr(g,h)&&l.ref===r.ref)if(xt=!1,r.pendingProps=h=g,nd(l,m))(l.flags&131072)!==0&&(xt=!0);else return r.lanes=l.lanes,ji(l,r,m)}return Xf(l,r,c,h,m)}function Zy(l,r,c,h){var m=h.children,g=l!==null?l.memoizedState:null;if(l===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),h.mode==="hidden"){if((r.flags&128)!==0){if(g=g!==null?g.baseLanes|c:c,l!==null){for(h=r.child=l.child,m=0;h!==null;)m=m|h.lanes|h.childLanes,h=h.sibling;h=m&~g}else h=0,r.child=null;return $y(l,r,g,c,h)}if((c&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},l!==null&&sc(r,g!==null?g.cachePool:null),g!==null?ey(r,g):Af(),ty(r);else return h=r.lanes=536870912,$y(l,r,g!==null?g.baseLanes|c:c,c,h)}else g!==null?(sc(r,g.cachePool),ey(r,g),cl(),r.memoizedState=null):(l!==null&&sc(r,null),Af(),cl());return zt(l,r,m,c),r.child}function ma(l,r){return l!==null&&l.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function $y(l,r,c,h,m){var g=xf();return g=g===null?null:{parent:yt._currentValue,pool:g},r.memoizedState={baseLanes:c,cachePool:g},l!==null&&sc(r,null),Af(),ty(r),l!==null&&Ks(l,r,h,!0),r.childLanes=m,null}function Sc(l,r){return r=kc({mode:r.mode,children:r.children},l.mode),r.ref=l.ref,l.child=r,r.return=l,r}function Jy(l,r,c){return ts(r,l.child,null,c),l=Sc(r,r.pendingProps),l.flags|=2,bn(r),r.memoizedState=null,l}function dA(l,r,c){var h=r.pendingProps,m=(r.flags&128)!==0;if(r.flags&=-129,l===null){if(Be){if(h.mode==="hidden")return l=Sc(r,h),r.lanes=536870912,ma(null,l);if(Tf(r),(l=nt)?(l=h1(l,Rn),l=l!==null&&l.data==="&"?l:null,l!==null&&(r.memoizedState={dehydrated:l,treeContext:tl!==null?{id:ni,overflow:ii}:null,retryLane:536870912,hydrationErrors:null},c=B0(l),c.return=r,r.child=c,Lt=r,nt=null)):l=null,l===null)throw il(r);return r.lanes=536870912,null}return Sc(r,h)}var g=l.memoizedState;if(g!==null){var v=g.dehydrated;if(Tf(r),m)if(r.flags&256)r.flags&=-257,r=Jy(l,r,c);else if(r.memoizedState!==null)r.child=l.child,r.flags|=128,r=null;else throw Error(i(558));else if(xt||Ks(l,r,c,!1),m=(c&l.childLanes)!==0,xt||m){if(h=Ze,h!==null&&(v=Kg(h,c),v!==0&&v!==g.retryLane))throw g.retryLane=v,Fl(l,v),sn(h,l,v),Wf;Rc(),r=Jy(l,r,c)}else l=g.treeContext,nt=_n(v.nextSibling),Lt=r,Be=!0,nl=null,Rn=!1,l!==null&&V0(r,l),r=Sc(r,h),r.flags|=4096;return r}return l=Ti(l.child,{mode:h.mode,children:h.children}),l.ref=r.ref,r.child=l,l.return=r,l}function wc(l,r){var c=r.ref;if(c===null)l!==null&&l.ref!==null&&(r.flags|=4194816);else{if(typeof c!="function"&&typeof c!="object")throw Error(i(284));(l===null||l.ref!==c)&&(r.flags|=4194816)}}function Xf(l,r,c,h,m){return Zl(r),c=Nf(l,r,c,h,void 0,m),h=Df(),l!==null&&!xt?(Of(l,r,m),ji(l,r,m)):(Be&&h&&uf(r),r.flags|=1,zt(l,r,c,m),r.child)}function eb(l,r,c,h,m,g){return Zl(r),r.updateQueue=null,c=iy(r,h,c,m),ny(l),h=Df(),l!==null&&!xt?(Of(l,r,g),ji(l,r,g)):(Be&&h&&uf(r),r.flags|=1,zt(l,r,c,g),r.child)}function tb(l,r,c,h,m){if(Zl(r),r.stateNode===null){var g=Vs,v=c.contextType;typeof v=="object"&&v!==null&&(g=Bt(v)),g=new c(h,g),r.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=If,r.stateNode=g,g._reactInternals=r,g=r.stateNode,g.props=h,g.state=r.memoizedState,g.refs={},Sf(r),v=c.contextType,g.context=typeof v=="object"&&v!==null?Bt(v):Vs,g.state=r.memoizedState,v=c.getDerivedStateFromProps,typeof v=="function"&&(Gf(r,c,v,h),g.state=r.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(v=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),v!==g.state&&If.enqueueReplaceState(g,g.state,null),ca(r,h,g,m),oa(),g.state=r.memoizedState),typeof g.componentDidMount=="function"&&(r.flags|=4194308),h=!0}else if(l===null){g=r.stateNode;var k=r.memoizedProps,E=is(c,k);g.props=E;var L=g.context,Y=c.contextType;v=Vs,typeof Y=="object"&&Y!==null&&(v=Bt(Y));var W=c.getDerivedStateFromProps;Y=typeof W=="function"||typeof g.getSnapshotBeforeUpdate=="function",k=r.pendingProps!==k,Y||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(k||L!==v)&&qy(r,g,h,v),sl=!1;var H=r.memoizedState;g.state=H,ca(r,h,g,m),oa(),L=r.memoizedState,k||H!==L||sl?(typeof W=="function"&&(Gf(r,c,W,h),L=r.memoizedState),(E=sl||Uy(r,c,E,h,H,L,v))?(Y||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(r.flags|=4194308)):(typeof g.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=h,r.memoizedState=L),g.props=h,g.state=L,g.context=v,h=E):(typeof g.componentDidMount=="function"&&(r.flags|=4194308),h=!1)}else{g=r.stateNode,wf(l,r),v=r.memoizedProps,Y=is(c,v),g.props=Y,W=r.pendingProps,H=g.context,L=c.contextType,E=Vs,typeof L=="object"&&L!==null&&(E=Bt(L)),k=c.getDerivedStateFromProps,(L=typeof k=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(v!==W||H!==E)&&qy(r,g,h,E),sl=!1,H=r.memoizedState,g.state=H,ca(r,h,g,m),oa();var U=r.memoizedState;v!==W||H!==U||sl||l!==null&&l.dependencies!==null&&ic(l.dependencies)?(typeof k=="function"&&(Gf(r,c,k,h),U=r.memoizedState),(Y=sl||Uy(r,c,Y,h,H,U,E)||l!==null&&l.dependencies!==null&&ic(l.dependencies))?(L||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(h,U,E),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(h,U,E)),typeof g.componentDidUpdate=="function"&&(r.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof g.componentDidUpdate!="function"||v===l.memoizedProps&&H===l.memoizedState||(r.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||v===l.memoizedProps&&H===l.memoizedState||(r.flags|=1024),r.memoizedProps=h,r.memoizedState=U),g.props=h,g.state=U,g.context=E,h=Y):(typeof g.componentDidUpdate!="function"||v===l.memoizedProps&&H===l.memoizedState||(r.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||v===l.memoizedProps&&H===l.memoizedState||(r.flags|=1024),h=!1)}return g=h,wc(l,r),h=(r.flags&128)!==0,g||h?(g=r.stateNode,c=h&&typeof c.getDerivedStateFromError!="function"?null:g.render(),r.flags|=1,l!==null&&h?(r.child=ts(r,l.child,null,m),r.child=ts(r,null,c,m)):zt(l,r,c,m),r.memoizedState=g.state,l=r.child):l=ji(l,r,m),l}function nb(l,r,c,h){return Xl(),r.flags|=256,zt(l,r,c,h),r.child}var Qf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Zf(l){return{baseLanes:l,cachePool:G0()}}function $f(l,r,c){return l=l!==null?l.childLanes&~c:0,r&&(l|=vn),l}function ib(l,r,c){var h=r.pendingProps,m=!1,g=(r.flags&128)!==0,v;if((v=g)||(v=l!==null&&l.memoizedState===null?!1:(dt.current&2)!==0),v&&(m=!0,r.flags&=-129),v=(r.flags&32)!==0,r.flags&=-33,l===null){if(Be){if(m?ol(r):cl(),(l=nt)?(l=h1(l,Rn),l=l!==null&&l.data!=="&"?l:null,l!==null&&(r.memoizedState={dehydrated:l,treeContext:tl!==null?{id:ni,overflow:ii}:null,retryLane:536870912,hydrationErrors:null},c=B0(l),c.return=r,r.child=c,Lt=r,nt=null)):l=null,l===null)throw il(r);return _d(l)?r.lanes=32:r.lanes=536870912,null}var k=h.children;return h=h.fallback,m?(cl(),m=r.mode,k=kc({mode:"hidden",children:k},m),h=Wl(h,m,c,null),k.return=r,h.return=r,k.sibling=h,r.child=k,h=r.child,h.memoizedState=Zf(c),h.childLanes=$f(l,v,c),r.memoizedState=Qf,ma(null,h)):(ol(r),Jf(r,k))}var E=l.memoizedState;if(E!==null&&(k=E.dehydrated,k!==null)){if(g)r.flags&256?(ol(r),r.flags&=-257,r=ed(l,r,c)):r.memoizedState!==null?(cl(),r.child=l.child,r.flags|=128,r=null):(cl(),k=h.fallback,m=r.mode,h=kc({mode:"visible",children:h.children},m),k=Wl(k,m,c,null),k.flags|=2,h.return=r,k.return=r,h.sibling=k,r.child=h,ts(r,l.child,null,c),h=r.child,h.memoizedState=Zf(c),h.childLanes=$f(l,v,c),r.memoizedState=Qf,r=ma(null,h));else if(ol(r),_d(k)){if(v=k.nextSibling&&k.nextSibling.dataset,v)var L=v.dgst;v=L,h=Error(i(419)),h.stack="",h.digest=v,na({value:h,source:null,stack:null}),r=ed(l,r,c)}else if(xt||Ks(l,r,c,!1),v=(c&l.childLanes)!==0,xt||v){if(v=Ze,v!==null&&(h=Kg(v,c),h!==0&&h!==E.retryLane))throw E.retryLane=h,Fl(l,h),sn(v,l,h),Wf;jd(k)||Rc(),r=ed(l,r,c)}else jd(k)?(r.flags|=192,r.child=l.child,r=null):(l=E.treeContext,nt=_n(k.nextSibling),Lt=r,Be=!0,nl=null,Rn=!1,l!==null&&V0(r,l),r=Jf(r,h.children),r.flags|=4096);return r}return m?(cl(),k=h.fallback,m=r.mode,E=l.child,L=E.sibling,h=Ti(E,{mode:"hidden",children:h.children}),h.subtreeFlags=E.subtreeFlags&65011712,L!==null?k=Ti(L,k):(k=Wl(k,m,c,null),k.flags|=2),k.return=r,h.return=r,h.sibling=k,r.child=h,ma(null,h),h=r.child,k=l.child.memoizedState,k===null?k=Zf(c):(m=k.cachePool,m!==null?(E=yt._currentValue,m=m.parent!==E?{parent:E,pool:E}:m):m=G0(),k={baseLanes:k.baseLanes|c,cachePool:m}),h.memoizedState=k,h.childLanes=$f(l,v,c),r.memoizedState=Qf,ma(l.child,h)):(ol(r),c=l.child,l=c.sibling,c=Ti(c,{mode:"visible",children:h.children}),c.return=r,c.sibling=null,l!==null&&(v=r.deletions,v===null?(r.deletions=[l],r.flags|=16):v.push(l)),r.child=c,r.memoizedState=null,c)}function Jf(l,r){return r=kc({mode:"visible",children:r},l.mode),r.return=l,l.child=r}function kc(l,r){return l=gn(22,l,null,r),l.lanes=0,l}function ed(l,r,c){return ts(r,l.child,null,c),l=Jf(r,r.pendingProps.children),l.flags|=2,r.memoizedState=null,l}function lb(l,r,c){l.lanes|=r;var h=l.alternate;h!==null&&(h.lanes|=r),pf(l.return,r,c)}function td(l,r,c,h,m,g){var v=l.memoizedState;v===null?l.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:h,tail:c,tailMode:m,treeForkCount:g}:(v.isBackwards=r,v.rendering=null,v.renderingStartTime=0,v.last=h,v.tail=c,v.tailMode=m,v.treeForkCount=g)}function sb(l,r,c){var h=r.pendingProps,m=h.revealOrder,g=h.tail;h=h.children;var v=dt.current,k=(v&2)!==0;if(k?(v=v&1|2,r.flags|=128):v&=1,ee(dt,v),zt(l,r,h,c),h=Be?ta:0,!k&&l!==null&&(l.flags&128)!==0)e:for(l=r.child;l!==null;){if(l.tag===13)l.memoizedState!==null&&lb(l,c,r);else if(l.tag===19)lb(l,c,r);else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===r)break e;for(;l.sibling===null;){if(l.return===null||l.return===r)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}switch(m){case"forwards":for(c=r.child,m=null;c!==null;)l=c.alternate,l!==null&&hc(l)===null&&(m=c),c=c.sibling;c=m,c===null?(m=r.child,r.child=null):(m=c.sibling,c.sibling=null),td(r,!1,m,c,g,h);break;case"backwards":case"unstable_legacy-backwards":for(c=null,m=r.child,r.child=null;m!==null;){if(l=m.alternate,l!==null&&hc(l)===null){r.child=m;break}l=m.sibling,m.sibling=c,c=m,m=l}td(r,!0,c,null,g,h);break;case"together":td(r,!1,null,null,void 0,h);break;default:r.memoizedState=null}return r.child}function ji(l,r,c){if(l!==null&&(r.dependencies=l.dependencies),fl|=r.lanes,(c&r.childLanes)===0)if(l!==null){if(Ks(l,r,c,!1),(c&r.childLanes)===0)return null}else return null;if(l!==null&&r.child!==l.child)throw Error(i(153));if(r.child!==null){for(l=r.child,c=Ti(l,l.pendingProps),r.child=c,c.return=r;l.sibling!==null;)l=l.sibling,c=c.sibling=Ti(l,l.pendingProps),c.return=r;c.sibling=null}return r.child}function nd(l,r){return(l.lanes&r)!==0?!0:(l=l.dependencies,!!(l!==null&&ic(l)))}function mA(l,r,c){switch(r.tag){case 3:Mt(r,r.stateNode.containerInfo),ll(r,yt,l.memoizedState.cache),Xl();break;case 27:case 5:Hl(r);break;case 4:Mt(r,r.stateNode.containerInfo);break;case 10:ll(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,Tf(r),null;break;case 13:var h=r.memoizedState;if(h!==null)return h.dehydrated!==null?(ol(r),r.flags|=128,null):(c&r.child.childLanes)!==0?ib(l,r,c):(ol(r),l=ji(l,r,c),l!==null?l.sibling:null);ol(r);break;case 19:var m=(l.flags&128)!==0;if(h=(c&r.childLanes)!==0,h||(Ks(l,r,c,!1),h=(c&r.childLanes)!==0),m){if(h)return sb(l,r,c);r.flags|=128}if(m=r.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),ee(dt,dt.current),h)break;return null;case 22:return r.lanes=0,Zy(l,r,c,r.pendingProps);case 24:ll(r,yt,l.memoizedState.cache)}return ji(l,r,c)}function rb(l,r,c){if(l!==null)if(l.memoizedProps!==r.pendingProps)xt=!0;else{if(!nd(l,c)&&(r.flags&128)===0)return xt=!1,mA(l,r,c);xt=(l.flags&131072)!==0}else xt=!1,Be&&(r.flags&1048576)!==0&&H0(r,ta,r.index);switch(r.lanes=0,r.tag){case 16:e:{var h=r.pendingProps;if(l=Jl(r.elementType),r.type=l,typeof l=="function")af(l)?(h=is(l,h),r.tag=1,r=tb(null,r,l,h,c)):(r.tag=0,r=Xf(null,r,l,h,c));else{if(l!=null){var m=l.$$typeof;if(m===q){r.tag=11,r=Wy(null,r,l,h,c);break e}else if(m===V){r.tag=14,r=Xy(null,r,l,h,c);break e}}throw r=J(l)||l,Error(i(306,r,""))}}return r;case 0:return Xf(l,r,r.type,r.pendingProps,c);case 1:return h=r.type,m=is(h,r.pendingProps),tb(l,r,h,m,c);case 3:e:{if(Mt(r,r.stateNode.containerInfo),l===null)throw Error(i(387));h=r.pendingProps;var g=r.memoizedState;m=g.element,wf(l,r),ca(r,h,null,c);var v=r.memoizedState;if(h=v.cache,ll(r,yt,h),h!==g.cache&&gf(r,[yt],c,!0),oa(),h=v.element,g.isDehydrated)if(g={element:h,isDehydrated:!1,cache:v.cache},r.updateQueue.baseState=g,r.memoizedState=g,r.flags&256){r=nb(l,r,h,c);break e}else if(h!==m){m=Nn(Error(i(424)),r),na(m),r=nb(l,r,h,c);break e}else{switch(l=r.stateNode.containerInfo,l.nodeType){case 9:l=l.body;break;default:l=l.nodeName==="HTML"?l.ownerDocument.body:l}for(nt=_n(l.firstChild),Lt=r,Be=!0,nl=null,Rn=!0,c=Z0(r,null,h,c),r.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling}else{if(Xl(),h===m){r=ji(l,r,c);break e}zt(l,r,h,c)}r=r.child}return r;case 26:return wc(l,r),l===null?(c=y1(r.type,null,r.pendingProps,null))?r.memoizedState=c:Be||(c=r.type,l=r.pendingProps,h=Vc(Ce.current).createElement(c),h[_t]=r,h[$t]=l,Ht(h,c,l),Et(h),r.stateNode=h):r.memoizedState=y1(r.type,l.memoizedProps,r.pendingProps,l.memoizedState),null;case 27:return Hl(r),l===null&&Be&&(h=r.stateNode=m1(r.type,r.pendingProps,Ce.current),Lt=r,Rn=!0,m=nt,yl(r.type)?(Ld=m,nt=_n(h.firstChild)):nt=m),zt(l,r,r.pendingProps.children,c),wc(l,r),l===null&&(r.flags|=4194304),r.child;case 5:return l===null&&Be&&((m=h=nt)&&(h=YA(h,r.type,r.pendingProps,Rn),h!==null?(r.stateNode=h,Lt=r,nt=_n(h.firstChild),Rn=!1,m=!0):m=!1),m||il(r)),Hl(r),m=r.type,g=r.pendingProps,v=l!==null?l.memoizedProps:null,h=g.children,Dd(m,g)?h=null:v!==null&&Dd(m,v)&&(r.flags|=32),r.memoizedState!==null&&(m=Nf(l,r,sA,null,null,c),Na._currentValue=m),wc(l,r),zt(l,r,h,c),r.child;case 6:return l===null&&Be&&((l=c=nt)&&(c=GA(c,r.pendingProps,Rn),c!==null?(r.stateNode=c,Lt=r,nt=null,l=!0):l=!1),l||il(r)),null;case 13:return ib(l,r,c);case 4:return Mt(r,r.stateNode.containerInfo),h=r.pendingProps,l===null?r.child=ts(r,null,h,c):zt(l,r,h,c),r.child;case 11:return Wy(l,r,r.type,r.pendingProps,c);case 7:return zt(l,r,r.pendingProps,c),r.child;case 8:return zt(l,r,r.pendingProps.children,c),r.child;case 12:return zt(l,r,r.pendingProps.children,c),r.child;case 10:return h=r.pendingProps,ll(r,r.type,h.value),zt(l,r,h.children,c),r.child;case 9:return m=r.type._context,h=r.pendingProps.children,Zl(r),m=Bt(m),h=h(m),r.flags|=1,zt(l,r,h,c),r.child;case 14:return Xy(l,r,r.type,r.pendingProps,c);case 15:return Qy(l,r,r.type,r.pendingProps,c);case 19:return sb(l,r,c);case 31:return dA(l,r,c);case 22:return Zy(l,r,c,r.pendingProps);case 24:return Zl(r),h=Bt(yt),l===null?(m=xf(),m===null&&(m=Ze,g=yf(),m.pooledCache=g,g.refCount++,g!==null&&(m.pooledCacheLanes|=c),m=g),r.memoizedState={parent:h,cache:m},Sf(r),ll(r,yt,m)):((l.lanes&c)!==0&&(wf(l,r),ca(r,null,null,c),oa()),m=l.memoizedState,g=r.memoizedState,m.parent!==h?(m={parent:h,cache:h},r.memoizedState=m,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=m),ll(r,yt,h)):(h=g.cache,ll(r,yt,h),h!==m.cache&&gf(r,[yt],c,!0))),zt(l,r,r.pendingProps.children,c),r.child;case 29:throw r.pendingProps}throw Error(i(156,r.tag))}function _i(l){l.flags|=4}function id(l,r,c,h,m){if((r=(l.mode&32)!==0)&&(r=!1),r){if(l.flags|=16777216,(m&335544128)===m)if(l.stateNode.complete)l.flags|=8192;else if(jb())l.flags|=8192;else throw es=ac,vf}else l.flags&=-16777217}function ab(l,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)l.flags&=-16777217;else if(l.flags|=16777216,!w1(r))if(jb())l.flags|=8192;else throw es=ac,vf}function Cc(l,r){r!==null&&(l.flags|=4),l.flags&16384&&(r=l.tag!==22?Ug():536870912,l.lanes|=r,tr|=r)}function pa(l,r){if(!Be)switch(l.tailMode){case"hidden":r=l.tail;for(var c=null;r!==null;)r.alternate!==null&&(c=r),r=r.sibling;c===null?l.tail=null:c.sibling=null;break;case"collapsed":c=l.tail;for(var h=null;c!==null;)c.alternate!==null&&(h=c),c=c.sibling;h===null?r||l.tail===null?l.tail=null:l.tail.sibling=null:h.sibling=null}}function it(l){var r=l.alternate!==null&&l.alternate.child===l.child,c=0,h=0;if(r)for(var m=l.child;m!==null;)c|=m.lanes|m.childLanes,h|=m.subtreeFlags&65011712,h|=m.flags&65011712,m.return=l,m=m.sibling;else for(m=l.child;m!==null;)c|=m.lanes|m.childLanes,h|=m.subtreeFlags,h|=m.flags,m.return=l,m=m.sibling;return l.subtreeFlags|=h,l.childLanes=c,r}function pA(l,r,c){var h=r.pendingProps;switch(hf(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return it(r),null;case 1:return it(r),null;case 3:return c=r.stateNode,h=null,l!==null&&(h=l.memoizedState.cache),r.memoizedState.cache!==h&&(r.flags|=2048),Di(yt),ot(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(l===null||l.child===null)&&(Ps(r)?_i(r):l===null||l.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,df())),it(r),null;case 26:var m=r.type,g=r.memoizedState;return l===null?(_i(r),g!==null?(it(r),ab(r,g)):(it(r),id(r,m,null,h,c))):g?g!==l.memoizedState?(_i(r),it(r),ab(r,g)):(it(r),r.flags&=-16777217):(l=l.memoizedProps,l!==h&&_i(r),it(r),id(r,m,l,h,c)),null;case 27:if(ks(r),c=Ce.current,m=r.type,l!==null&&r.stateNode!=null)l.memoizedProps!==h&&_i(r);else{if(!h){if(r.stateNode===null)throw Error(i(166));return it(r),null}l=se.current,Ps(r)?U0(r):(l=m1(m,h,c),r.stateNode=l,_i(r))}return it(r),null;case 5:if(ks(r),m=r.type,l!==null&&r.stateNode!=null)l.memoizedProps!==h&&_i(r);else{if(!h){if(r.stateNode===null)throw Error(i(166));return it(r),null}if(g=se.current,Ps(r))U0(r);else{var v=Vc(Ce.current);switch(g){case 1:g=v.createElementNS("http://www.w3.org/2000/svg",m);break;case 2:g=v.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;default:switch(m){case"svg":g=v.createElementNS("http://www.w3.org/2000/svg",m);break;case"math":g=v.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;case"script":g=v.createElement("div"),g.innerHTML="<script><\/script>",g=g.removeChild(g.firstChild);break;case"select":g=typeof h.is=="string"?v.createElement("select",{is:h.is}):v.createElement("select"),h.multiple?g.multiple=!0:h.size&&(g.size=h.size);break;default:g=typeof h.is=="string"?v.createElement(m,{is:h.is}):v.createElement(m)}}g[_t]=r,g[$t]=h;e:for(v=r.child;v!==null;){if(v.tag===5||v.tag===6)g.appendChild(v.stateNode);else if(v.tag!==4&&v.tag!==27&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===r)break e;for(;v.sibling===null;){if(v.return===null||v.return===r)break e;v=v.return}v.sibling.return=v.return,v=v.sibling}r.stateNode=g;e:switch(Ht(g,m,h),m){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}h&&_i(r)}}return it(r),id(r,r.type,l===null?null:l.memoizedProps,r.pendingProps,c),null;case 6:if(l&&r.stateNode!=null)l.memoizedProps!==h&&_i(r);else{if(typeof h!="string"&&r.stateNode===null)throw Error(i(166));if(l=Ce.current,Ps(r)){if(l=r.stateNode,c=r.memoizedProps,h=null,m=Lt,m!==null)switch(m.tag){case 27:case 5:h=m.memoizedProps}l[_t]=r,l=!!(l.nodeValue===c||h!==null&&h.suppressHydrationWarning===!0||i1(l.nodeValue,c)),l||il(r,!0)}else l=Vc(l).createTextNode(h),l[_t]=r,r.stateNode=l}return it(r),null;case 31:if(c=r.memoizedState,l===null||l.memoizedState!==null){if(h=Ps(r),c!==null){if(l===null){if(!h)throw Error(i(318));if(l=r.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(i(557));l[_t]=r}else Xl(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;it(r),l=!1}else c=df(),l!==null&&l.memoizedState!==null&&(l.memoizedState.hydrationErrors=c),l=!0;if(!l)return r.flags&256?(bn(r),r):(bn(r),null);if((r.flags&128)!==0)throw Error(i(558))}return it(r),null;case 13:if(h=r.memoizedState,l===null||l.memoizedState!==null&&l.memoizedState.dehydrated!==null){if(m=Ps(r),h!==null&&h.dehydrated!==null){if(l===null){if(!m)throw Error(i(318));if(m=r.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(i(317));m[_t]=r}else Xl(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;it(r),m=!1}else m=df(),l!==null&&l.memoizedState!==null&&(l.memoizedState.hydrationErrors=m),m=!0;if(!m)return r.flags&256?(bn(r),r):(bn(r),null)}return bn(r),(r.flags&128)!==0?(r.lanes=c,r):(c=h!==null,l=l!==null&&l.memoizedState!==null,c&&(h=r.child,m=null,h.alternate!==null&&h.alternate.memoizedState!==null&&h.alternate.memoizedState.cachePool!==null&&(m=h.alternate.memoizedState.cachePool.pool),g=null,h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(g=h.memoizedState.cachePool.pool),g!==m&&(h.flags|=2048)),c!==l&&c&&(r.child.flags|=8192),Cc(r,r.updateQueue),it(r),null);case 4:return ot(),l===null&&Ad(r.stateNode.containerInfo),it(r),null;case 10:return Di(r.type),it(r),null;case 19:if(P(dt),h=r.memoizedState,h===null)return it(r),null;if(m=(r.flags&128)!==0,g=h.rendering,g===null)if(m)pa(h,!1);else{if(ht!==0||l!==null&&(l.flags&128)!==0)for(l=r.child;l!==null;){if(g=hc(l),g!==null){for(r.flags|=128,pa(h,!1),l=g.updateQueue,r.updateQueue=l,Cc(r,l),r.subtreeFlags=0,l=c,c=r.child;c!==null;)L0(c,l),c=c.sibling;return ee(dt,dt.current&1|2),Be&&Ei(r,h.treeForkCount),r.child}l=l.sibling}h.tail!==null&&wt()>Nc&&(r.flags|=128,m=!0,pa(h,!1),r.lanes=4194304)}else{if(!m)if(l=hc(g),l!==null){if(r.flags|=128,m=!0,l=l.updateQueue,r.updateQueue=l,Cc(r,l),pa(h,!0),h.tail===null&&h.tailMode==="hidden"&&!g.alternate&&!Be)return it(r),null}else 2*wt()-h.renderingStartTime>Nc&&c!==536870912&&(r.flags|=128,m=!0,pa(h,!1),r.lanes=4194304);h.isBackwards?(g.sibling=r.child,r.child=g):(l=h.last,l!==null?l.sibling=g:r.child=g,h.last=g)}return h.tail!==null?(l=h.tail,h.rendering=l,h.tail=l.sibling,h.renderingStartTime=wt(),l.sibling=null,c=dt.current,ee(dt,m?c&1|2:c&1),Be&&Ei(r,h.treeForkCount),l):(it(r),null);case 22:case 23:return bn(r),Mf(),h=r.memoizedState!==null,l!==null?l.memoizedState!==null!==h&&(r.flags|=8192):h&&(r.flags|=8192),h?(c&536870912)!==0&&(r.flags&128)===0&&(it(r),r.subtreeFlags&6&&(r.flags|=8192)):it(r),c=r.updateQueue,c!==null&&Cc(r,c.retryQueue),c=null,l!==null&&l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(c=l.memoizedState.cachePool.pool),h=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(h=r.memoizedState.cachePool.pool),h!==c&&(r.flags|=2048),l!==null&&P($l),null;case 24:return c=null,l!==null&&(c=l.memoizedState.cache),r.memoizedState.cache!==c&&(r.flags|=2048),Di(yt),it(r),null;case 25:return null;case 30:return null}throw Error(i(156,r.tag))}function gA(l,r){switch(hf(r),r.tag){case 1:return l=r.flags,l&65536?(r.flags=l&-65537|128,r):null;case 3:return Di(yt),ot(),l=r.flags,(l&65536)!==0&&(l&128)===0?(r.flags=l&-65537|128,r):null;case 26:case 27:case 5:return ks(r),null;case 31:if(r.memoizedState!==null){if(bn(r),r.alternate===null)throw Error(i(340));Xl()}return l=r.flags,l&65536?(r.flags=l&-65537|128,r):null;case 13:if(bn(r),l=r.memoizedState,l!==null&&l.dehydrated!==null){if(r.alternate===null)throw Error(i(340));Xl()}return l=r.flags,l&65536?(r.flags=l&-65537|128,r):null;case 19:return P(dt),null;case 4:return ot(),null;case 10:return Di(r.type),null;case 22:case 23:return bn(r),Mf(),l!==null&&P($l),l=r.flags,l&65536?(r.flags=l&-65537|128,r):null;case 24:return Di(yt),null;case 25:return null;default:return null}}function ob(l,r){switch(hf(r),r.tag){case 3:Di(yt),ot();break;case 26:case 27:case 5:ks(r);break;case 4:ot();break;case 31:r.memoizedState!==null&&bn(r);break;case 13:bn(r);break;case 19:P(dt);break;case 10:Di(r.type);break;case 22:case 23:bn(r),Mf(),l!==null&&P($l);break;case 24:Di(yt)}}function ga(l,r){try{var c=r.updateQueue,h=c!==null?c.lastEffect:null;if(h!==null){var m=h.next;c=m;do{if((c.tag&l)===l){h=void 0;var g=c.create,v=c.inst;h=g(),v.destroy=h}c=c.next}while(c!==m)}}catch(k){Ye(r,r.return,k)}}function ul(l,r,c){try{var h=r.updateQueue,m=h!==null?h.lastEffect:null;if(m!==null){var g=m.next;h=g;do{if((h.tag&l)===l){var v=h.inst,k=v.destroy;if(k!==void 0){v.destroy=void 0,m=r;var E=c,L=k;try{L()}catch(Y){Ye(m,E,Y)}}}h=h.next}while(h!==g)}}catch(Y){Ye(r,r.return,Y)}}function cb(l){var r=l.updateQueue;if(r!==null){var c=l.stateNode;try{J0(r,c)}catch(h){Ye(l,l.return,h)}}}function ub(l,r,c){c.props=is(l.type,l.memoizedProps),c.state=l.memoizedState;try{c.componentWillUnmount()}catch(h){Ye(l,r,h)}}function ya(l,r){try{var c=l.ref;if(c!==null){switch(l.tag){case 26:case 27:case 5:var h=l.stateNode;break;case 30:h=l.stateNode;break;default:h=l.stateNode}typeof c=="function"?l.refCleanup=c(h):c.current=h}}catch(m){Ye(l,r,m)}}function li(l,r){var c=l.ref,h=l.refCleanup;if(c!==null)if(typeof h=="function")try{h()}catch(m){Ye(l,r,m)}finally{l.refCleanup=null,l=l.alternate,l!=null&&(l.refCleanup=null)}else if(typeof c=="function")try{c(null)}catch(m){Ye(l,r,m)}else c.current=null}function hb(l){var r=l.type,c=l.memoizedProps,h=l.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":c.autoFocus&&h.focus();break e;case"img":c.src?h.src=c.src:c.srcSet&&(h.srcset=c.srcSet)}}catch(m){Ye(l,l.return,m)}}function ld(l,r,c){try{var h=l.stateNode;HA(h,l.type,c,r),h[$t]=r}catch(m){Ye(l,l.return,m)}}function fb(l){return l.tag===5||l.tag===3||l.tag===26||l.tag===27&&yl(l.type)||l.tag===4}function sd(l){e:for(;;){for(;l.sibling===null;){if(l.return===null||fb(l.return))return null;l=l.return}for(l.sibling.return=l.return,l=l.sibling;l.tag!==5&&l.tag!==6&&l.tag!==18;){if(l.tag===27&&yl(l.type)||l.flags&2||l.child===null||l.tag===4)continue e;l.child.return=l,l=l.child}if(!(l.flags&2))return l.stateNode}}function rd(l,r,c){var h=l.tag;if(h===5||h===6)l=l.stateNode,r?(c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c).insertBefore(l,r):(r=c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c,r.appendChild(l),c=c._reactRootContainer,c!=null||r.onclick!==null||(r.onclick=Ai));else if(h!==4&&(h===27&&yl(l.type)&&(c=l.stateNode,r=null),l=l.child,l!==null))for(rd(l,r,c),l=l.sibling;l!==null;)rd(l,r,c),l=l.sibling}function Ac(l,r,c){var h=l.tag;if(h===5||h===6)l=l.stateNode,r?c.insertBefore(l,r):c.appendChild(l);else if(h!==4&&(h===27&&yl(l.type)&&(c=l.stateNode),l=l.child,l!==null))for(Ac(l,r,c),l=l.sibling;l!==null;)Ac(l,r,c),l=l.sibling}function db(l){var r=l.stateNode,c=l.memoizedProps;try{for(var h=l.type,m=r.attributes;m.length;)r.removeAttributeNode(m[0]);Ht(r,h,c),r[_t]=l,r[$t]=c}catch(g){Ye(l,l.return,g)}}var Li=!1,vt=!1,ad=!1,mb=typeof WeakSet=="function"?WeakSet:Set,Nt=null;function yA(l,r){if(l=l.containerInfo,Ed=Ic,l=M0(l),Jh(l)){if("selectionStart"in l)var c={start:l.selectionStart,end:l.selectionEnd};else e:{c=(c=l.ownerDocument)&&c.defaultView||window;var h=c.getSelection&&c.getSelection();if(h&&h.rangeCount!==0){c=h.anchorNode;var m=h.anchorOffset,g=h.focusNode;h=h.focusOffset;try{c.nodeType,g.nodeType}catch{c=null;break e}var v=0,k=-1,E=-1,L=0,Y=0,W=l,H=null;t:for(;;){for(var U;W!==c||m!==0&&W.nodeType!==3||(k=v+m),W!==g||h!==0&&W.nodeType!==3||(E=v+h),W.nodeType===3&&(v+=W.nodeValue.length),(U=W.firstChild)!==null;)H=W,W=U;for(;;){if(W===l)break t;if(H===c&&++L===m&&(k=v),H===g&&++Y===h&&(E=v),(U=W.nextSibling)!==null)break;W=H,H=W.parentNode}W=U}c=k===-1||E===-1?null:{start:k,end:E}}else c=null}c=c||{start:0,end:0}}else c=null;for(Nd={focusedElem:l,selectionRange:c},Ic=!1,Nt=r;Nt!==null;)if(r=Nt,l=r.child,(r.subtreeFlags&1028)!==0&&l!==null)l.return=r,Nt=l;else for(;Nt!==null;){switch(r=Nt,g=r.alternate,l=r.flags,r.tag){case 0:if((l&4)!==0&&(l=r.updateQueue,l=l!==null?l.events:null,l!==null))for(c=0;c<l.length;c++)m=l[c],m.ref.impl=m.nextImpl;break;case 11:case 15:break;case 1:if((l&1024)!==0&&g!==null){l=void 0,c=r,m=g.memoizedProps,g=g.memoizedState,h=c.stateNode;try{var he=is(c.type,m);l=h.getSnapshotBeforeUpdate(he,g),h.__reactInternalSnapshotBeforeUpdate=l}catch(we){Ye(c,c.return,we)}}break;case 3:if((l&1024)!==0){if(l=r.stateNode.containerInfo,c=l.nodeType,c===9)Rd(l);else if(c===1)switch(l.nodeName){case"HEAD":case"HTML":case"BODY":Rd(l);break;default:l.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((l&1024)!==0)throw Error(i(163))}if(l=r.sibling,l!==null){l.return=r.return,Nt=l;break}Nt=r.return}}function pb(l,r,c){var h=c.flags;switch(c.tag){case 0:case 11:case 15:zi(l,c),h&4&&ga(5,c);break;case 1:if(zi(l,c),h&4)if(l=c.stateNode,r===null)try{l.componentDidMount()}catch(v){Ye(c,c.return,v)}else{var m=is(c.type,r.memoizedProps);r=r.memoizedState;try{l.componentDidUpdate(m,r,l.__reactInternalSnapshotBeforeUpdate)}catch(v){Ye(c,c.return,v)}}h&64&&cb(c),h&512&&ya(c,c.return);break;case 3:if(zi(l,c),h&64&&(l=c.updateQueue,l!==null)){if(r=null,c.child!==null)switch(c.child.tag){case 27:case 5:r=c.child.stateNode;break;case 1:r=c.child.stateNode}try{J0(l,r)}catch(v){Ye(c,c.return,v)}}break;case 27:r===null&&h&4&&db(c);case 26:case 5:zi(l,c),r===null&&h&4&&hb(c),h&512&&ya(c,c.return);break;case 12:zi(l,c);break;case 31:zi(l,c),h&4&&bb(l,c);break;case 13:zi(l,c),h&4&&xb(l,c),h&64&&(l=c.memoizedState,l!==null&&(l=l.dehydrated,l!==null&&(c=MA.bind(null,c),IA(l,c))));break;case 22:if(h=c.memoizedState!==null||Li,!h){r=r!==null&&r.memoizedState!==null||vt,m=Li;var g=vt;Li=h,(vt=r)&&!g?Hi(l,c,(c.subtreeFlags&8772)!==0):zi(l,c),Li=m,vt=g}break;case 30:break;default:zi(l,c)}}function gb(l){var r=l.alternate;r!==null&&(l.alternate=null,gb(r)),l.child=null,l.deletions=null,l.sibling=null,l.tag===5&&(r=l.stateNode,r!==null&&Bh(r)),l.stateNode=null,l.return=null,l.dependencies=null,l.memoizedProps=null,l.memoizedState=null,l.pendingProps=null,l.stateNode=null,l.updateQueue=null}var lt=null,en=!1;function Bi(l,r,c){for(c=c.child;c!==null;)yb(l,r,c),c=c.sibling}function yb(l,r,c){if(dn&&typeof dn.onCommitFiberUnmount=="function")try{dn.onCommitFiberUnmount(ql,c)}catch{}switch(c.tag){case 26:vt||li(c,r),Bi(l,r,c),c.memoizedState?c.memoizedState.count--:c.stateNode&&(c=c.stateNode,c.parentNode.removeChild(c));break;case 27:vt||li(c,r);var h=lt,m=en;yl(c.type)&&(lt=c.stateNode,en=!1),Bi(l,r,c),Ma(c.stateNode),lt=h,en=m;break;case 5:vt||li(c,r);case 6:if(h=lt,m=en,lt=null,Bi(l,r,c),lt=h,en=m,lt!==null)if(en)try{(lt.nodeType===9?lt.body:lt.nodeName==="HTML"?lt.ownerDocument.body:lt).removeChild(c.stateNode)}catch(g){Ye(c,r,g)}else try{lt.removeChild(c.stateNode)}catch(g){Ye(c,r,g)}break;case 18:lt!==null&&(en?(l=lt,c1(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,c.stateNode),cr(l)):c1(lt,c.stateNode));break;case 4:h=lt,m=en,lt=c.stateNode.containerInfo,en=!0,Bi(l,r,c),lt=h,en=m;break;case 0:case 11:case 14:case 15:ul(2,c,r),vt||ul(4,c,r),Bi(l,r,c);break;case 1:vt||(li(c,r),h=c.stateNode,typeof h.componentWillUnmount=="function"&&ub(c,r,h)),Bi(l,r,c);break;case 21:Bi(l,r,c);break;case 22:vt=(h=vt)||c.memoizedState!==null,Bi(l,r,c),vt=h;break;default:Bi(l,r,c)}}function bb(l,r){if(r.memoizedState===null&&(l=r.alternate,l!==null&&(l=l.memoizedState,l!==null))){l=l.dehydrated;try{cr(l)}catch(c){Ye(r,r.return,c)}}}function xb(l,r){if(r.memoizedState===null&&(l=r.alternate,l!==null&&(l=l.memoizedState,l!==null&&(l=l.dehydrated,l!==null))))try{cr(l)}catch(c){Ye(r,r.return,c)}}function bA(l){switch(l.tag){case 31:case 13:case 19:var r=l.stateNode;return r===null&&(r=l.stateNode=new mb),r;case 22:return l=l.stateNode,r=l._retryCache,r===null&&(r=l._retryCache=new mb),r;default:throw Error(i(435,l.tag))}}function Mc(l,r){var c=bA(l);r.forEach(function(h){if(!c.has(h)){c.add(h);var m=TA.bind(null,l,h);h.then(m,m)}})}function tn(l,r){var c=r.deletions;if(c!==null)for(var h=0;h<c.length;h++){var m=c[h],g=l,v=r,k=v;e:for(;k!==null;){switch(k.tag){case 27:if(yl(k.type)){lt=k.stateNode,en=!1;break e}break;case 5:lt=k.stateNode,en=!1;break e;case 3:case 4:lt=k.stateNode.containerInfo,en=!0;break e}k=k.return}if(lt===null)throw Error(i(160));yb(g,v,m),lt=null,en=!1,g=m.alternate,g!==null&&(g.return=null),m.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)vb(r,l),r=r.sibling}var Yn=null;function vb(l,r){var c=l.alternate,h=l.flags;switch(l.tag){case 0:case 11:case 14:case 15:tn(r,l),nn(l),h&4&&(ul(3,l,l.return),ga(3,l),ul(5,l,l.return));break;case 1:tn(r,l),nn(l),h&512&&(vt||c===null||li(c,c.return)),h&64&&Li&&(l=l.updateQueue,l!==null&&(h=l.callbacks,h!==null&&(c=l.shared.hiddenCallbacks,l.shared.hiddenCallbacks=c===null?h:c.concat(h))));break;case 26:var m=Yn;if(tn(r,l),nn(l),h&512&&(vt||c===null||li(c,c.return)),h&4){var g=c!==null?c.memoizedState:null;if(h=l.memoizedState,c===null)if(h===null)if(l.stateNode===null){e:{h=l.type,c=l.memoizedProps,m=m.ownerDocument||m;t:switch(h){case"title":g=m.getElementsByTagName("title")[0],(!g||g[Yr]||g[_t]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=m.createElement(h),m.head.insertBefore(g,m.querySelector("head > title"))),Ht(g,h,c),g[_t]=l,Et(g),h=g;break e;case"link":var v=v1("link","href",m).get(h+(c.href||""));if(v){for(var k=0;k<v.length;k++)if(g=v[k],g.getAttribute("href")===(c.href==null||c.href===""?null:c.href)&&g.getAttribute("rel")===(c.rel==null?null:c.rel)&&g.getAttribute("title")===(c.title==null?null:c.title)&&g.getAttribute("crossorigin")===(c.crossOrigin==null?null:c.crossOrigin)){v.splice(k,1);break t}}g=m.createElement(h),Ht(g,h,c),m.head.appendChild(g);break;case"meta":if(v=v1("meta","content",m).get(h+(c.content||""))){for(k=0;k<v.length;k++)if(g=v[k],g.getAttribute("content")===(c.content==null?null:""+c.content)&&g.getAttribute("name")===(c.name==null?null:c.name)&&g.getAttribute("property")===(c.property==null?null:c.property)&&g.getAttribute("http-equiv")===(c.httpEquiv==null?null:c.httpEquiv)&&g.getAttribute("charset")===(c.charSet==null?null:c.charSet)){v.splice(k,1);break t}}g=m.createElement(h),Ht(g,h,c),m.head.appendChild(g);break;default:throw Error(i(468,h))}g[_t]=l,Et(g),h=g}l.stateNode=h}else S1(m,l.type,l.stateNode);else l.stateNode=x1(m,h,l.memoizedProps);else g!==h?(g===null?c.stateNode!==null&&(c=c.stateNode,c.parentNode.removeChild(c)):g.count--,h===null?S1(m,l.type,l.stateNode):x1(m,h,l.memoizedProps)):h===null&&l.stateNode!==null&&ld(l,l.memoizedProps,c.memoizedProps)}break;case 27:tn(r,l),nn(l),h&512&&(vt||c===null||li(c,c.return)),c!==null&&h&4&&ld(l,l.memoizedProps,c.memoizedProps);break;case 5:if(tn(r,l),nn(l),h&512&&(vt||c===null||li(c,c.return)),l.flags&32){m=l.stateNode;try{Rs(m,"")}catch(he){Ye(l,l.return,he)}}h&4&&l.stateNode!=null&&(m=l.memoizedProps,ld(l,m,c!==null?c.memoizedProps:m)),h&1024&&(ad=!0);break;case 6:if(tn(r,l),nn(l),h&4){if(l.stateNode===null)throw Error(i(162));h=l.memoizedProps,c=l.stateNode;try{c.nodeValue=h}catch(he){Ye(l,l.return,he)}}break;case 3:if(Pc=null,m=Yn,Yn=Uc(r.containerInfo),tn(r,l),Yn=m,nn(l),h&4&&c!==null&&c.memoizedState.isDehydrated)try{cr(r.containerInfo)}catch(he){Ye(l,l.return,he)}ad&&(ad=!1,Sb(l));break;case 4:h=Yn,Yn=Uc(l.stateNode.containerInfo),tn(r,l),nn(l),Yn=h;break;case 12:tn(r,l),nn(l);break;case 31:tn(r,l),nn(l),h&4&&(h=l.updateQueue,h!==null&&(l.updateQueue=null,Mc(l,h)));break;case 13:tn(r,l),nn(l),l.child.flags&8192&&l.memoizedState!==null!=(c!==null&&c.memoizedState!==null)&&(Ec=wt()),h&4&&(h=l.updateQueue,h!==null&&(l.updateQueue=null,Mc(l,h)));break;case 22:m=l.memoizedState!==null;var E=c!==null&&c.memoizedState!==null,L=Li,Y=vt;if(Li=L||m,vt=Y||E,tn(r,l),vt=Y,Li=L,nn(l),h&8192)e:for(r=l.stateNode,r._visibility=m?r._visibility&-2:r._visibility|1,m&&(c===null||E||Li||vt||ls(l)),c=null,r=l;;){if(r.tag===5||r.tag===26){if(c===null){E=c=r;try{if(g=E.stateNode,m)v=g.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{k=E.stateNode;var W=E.memoizedProps.style,H=W!=null&&W.hasOwnProperty("display")?W.display:null;k.style.display=H==null||typeof H=="boolean"?"":(""+H).trim()}}catch(he){Ye(E,E.return,he)}}}else if(r.tag===6){if(c===null){E=r;try{E.stateNode.nodeValue=m?"":E.memoizedProps}catch(he){Ye(E,E.return,he)}}}else if(r.tag===18){if(c===null){E=r;try{var U=E.stateNode;m?u1(U,!0):u1(E.stateNode,!1)}catch(he){Ye(E,E.return,he)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===l)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===l)break e;for(;r.sibling===null;){if(r.return===null||r.return===l)break e;c===r&&(c=null),r=r.return}c===r&&(c=null),r.sibling.return=r.return,r=r.sibling}h&4&&(h=l.updateQueue,h!==null&&(c=h.retryQueue,c!==null&&(h.retryQueue=null,Mc(l,c))));break;case 19:tn(r,l),nn(l),h&4&&(h=l.updateQueue,h!==null&&(l.updateQueue=null,Mc(l,h)));break;case 30:break;case 21:break;default:tn(r,l),nn(l)}}function nn(l){var r=l.flags;if(r&2){try{for(var c,h=l.return;h!==null;){if(fb(h)){c=h;break}h=h.return}if(c==null)throw Error(i(160));switch(c.tag){case 27:var m=c.stateNode,g=sd(l);Ac(l,g,m);break;case 5:var v=c.stateNode;c.flags&32&&(Rs(v,""),c.flags&=-33);var k=sd(l);Ac(l,k,v);break;case 3:case 4:var E=c.stateNode.containerInfo,L=sd(l);rd(l,L,E);break;default:throw Error(i(161))}}catch(Y){Ye(l,l.return,Y)}l.flags&=-3}r&4096&&(l.flags&=-4097)}function Sb(l){if(l.subtreeFlags&1024)for(l=l.child;l!==null;){var r=l;Sb(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),l=l.sibling}}function zi(l,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)pb(l,r.alternate,r),r=r.sibling}function ls(l){for(l=l.child;l!==null;){var r=l;switch(r.tag){case 0:case 11:case 14:case 15:ul(4,r,r.return),ls(r);break;case 1:li(r,r.return);var c=r.stateNode;typeof c.componentWillUnmount=="function"&&ub(r,r.return,c),ls(r);break;case 27:Ma(r.stateNode);case 26:case 5:li(r,r.return),ls(r);break;case 22:r.memoizedState===null&&ls(r);break;case 30:ls(r);break;default:ls(r)}l=l.sibling}}function Hi(l,r,c){for(c=c&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var h=r.alternate,m=l,g=r,v=g.flags;switch(g.tag){case 0:case 11:case 15:Hi(m,g,c),ga(4,g);break;case 1:if(Hi(m,g,c),h=g,m=h.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(L){Ye(h,h.return,L)}if(h=g,m=h.updateQueue,m!==null){var k=h.stateNode;try{var E=m.shared.hiddenCallbacks;if(E!==null)for(m.shared.hiddenCallbacks=null,m=0;m<E.length;m++)$0(E[m],k)}catch(L){Ye(h,h.return,L)}}c&&v&64&&cb(g),ya(g,g.return);break;case 27:db(g);case 26:case 5:Hi(m,g,c),c&&h===null&&v&4&&hb(g),ya(g,g.return);break;case 12:Hi(m,g,c);break;case 31:Hi(m,g,c),c&&v&4&&bb(m,g);break;case 13:Hi(m,g,c),c&&v&4&&xb(m,g);break;case 22:g.memoizedState===null&&Hi(m,g,c),ya(g,g.return);break;case 30:break;default:Hi(m,g,c)}r=r.sibling}}function od(l,r){var c=null;l!==null&&l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(c=l.memoizedState.cachePool.pool),l=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),l!==c&&(l!=null&&l.refCount++,c!=null&&ia(c))}function cd(l,r){l=null,r.alternate!==null&&(l=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==l&&(r.refCount++,l!=null&&ia(l))}function Gn(l,r,c,h){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)wb(l,r,c,h),r=r.sibling}function wb(l,r,c,h){var m=r.flags;switch(r.tag){case 0:case 11:case 15:Gn(l,r,c,h),m&2048&&ga(9,r);break;case 1:Gn(l,r,c,h);break;case 3:Gn(l,r,c,h),m&2048&&(l=null,r.alternate!==null&&(l=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==l&&(r.refCount++,l!=null&&ia(l)));break;case 12:if(m&2048){Gn(l,r,c,h),l=r.stateNode;try{var g=r.memoizedProps,v=g.id,k=g.onPostCommit;typeof k=="function"&&k(v,r.alternate===null?"mount":"update",l.passiveEffectDuration,-0)}catch(E){Ye(r,r.return,E)}}else Gn(l,r,c,h);break;case 31:Gn(l,r,c,h);break;case 13:Gn(l,r,c,h);break;case 23:break;case 22:g=r.stateNode,v=r.alternate,r.memoizedState!==null?g._visibility&2?Gn(l,r,c,h):ba(l,r):g._visibility&2?Gn(l,r,c,h):(g._visibility|=2,$s(l,r,c,h,(r.subtreeFlags&10256)!==0||!1)),m&2048&&od(v,r);break;case 24:Gn(l,r,c,h),m&2048&&cd(r.alternate,r);break;default:Gn(l,r,c,h)}}function $s(l,r,c,h,m){for(m=m&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var g=l,v=r,k=c,E=h,L=v.flags;switch(v.tag){case 0:case 11:case 15:$s(g,v,k,E,m),ga(8,v);break;case 23:break;case 22:var Y=v.stateNode;v.memoizedState!==null?Y._visibility&2?$s(g,v,k,E,m):ba(g,v):(Y._visibility|=2,$s(g,v,k,E,m)),m&&L&2048&&od(v.alternate,v);break;case 24:$s(g,v,k,E,m),m&&L&2048&&cd(v.alternate,v);break;default:$s(g,v,k,E,m)}r=r.sibling}}function ba(l,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var c=l,h=r,m=h.flags;switch(h.tag){case 22:ba(c,h),m&2048&&od(h.alternate,h);break;case 24:ba(c,h),m&2048&&cd(h.alternate,h);break;default:ba(c,h)}r=r.sibling}}var xa=8192;function Js(l,r,c){if(l.subtreeFlags&xa)for(l=l.child;l!==null;)kb(l,r,c),l=l.sibling}function kb(l,r,c){switch(l.tag){case 26:Js(l,r,c),l.flags&xa&&l.memoizedState!==null&&l4(c,Yn,l.memoizedState,l.memoizedProps);break;case 5:Js(l,r,c);break;case 3:case 4:var h=Yn;Yn=Uc(l.stateNode.containerInfo),Js(l,r,c),Yn=h;break;case 22:l.memoizedState===null&&(h=l.alternate,h!==null&&h.memoizedState!==null?(h=xa,xa=16777216,Js(l,r,c),xa=h):Js(l,r,c));break;default:Js(l,r,c)}}function Cb(l){var r=l.alternate;if(r!==null&&(l=r.child,l!==null)){r.child=null;do r=l.sibling,l.sibling=null,l=r;while(l!==null)}}function va(l){var r=l.deletions;if((l.flags&16)!==0){if(r!==null)for(var c=0;c<r.length;c++){var h=r[c];Nt=h,Mb(h,l)}Cb(l)}if(l.subtreeFlags&10256)for(l=l.child;l!==null;)Ab(l),l=l.sibling}function Ab(l){switch(l.tag){case 0:case 11:case 15:va(l),l.flags&2048&&ul(9,l,l.return);break;case 3:va(l);break;case 12:va(l);break;case 22:var r=l.stateNode;l.memoizedState!==null&&r._visibility&2&&(l.return===null||l.return.tag!==13)?(r._visibility&=-3,Tc(l)):va(l);break;default:va(l)}}function Tc(l){var r=l.deletions;if((l.flags&16)!==0){if(r!==null)for(var c=0;c<r.length;c++){var h=r[c];Nt=h,Mb(h,l)}Cb(l)}for(l=l.child;l!==null;){switch(r=l,r.tag){case 0:case 11:case 15:ul(8,r,r.return),Tc(r);break;case 22:c=r.stateNode,c._visibility&2&&(c._visibility&=-3,Tc(r));break;default:Tc(r)}l=l.sibling}}function Mb(l,r){for(;Nt!==null;){var c=Nt;switch(c.tag){case 0:case 11:case 15:ul(8,c,r);break;case 23:case 22:if(c.memoizedState!==null&&c.memoizedState.cachePool!==null){var h=c.memoizedState.cachePool.pool;h!=null&&h.refCount++}break;case 24:ia(c.memoizedState.cache)}if(h=c.child,h!==null)h.return=c,Nt=h;else e:for(c=l;Nt!==null;){h=Nt;var m=h.sibling,g=h.return;if(gb(h),h===c){Nt=null;break e}if(m!==null){m.return=g,Nt=m;break e}Nt=g}}}var xA={getCacheForType:function(l){var r=Bt(yt),c=r.data.get(l);return c===void 0&&(c=l(),r.data.set(l,c)),c},cacheSignal:function(){return Bt(yt).controller.signal}},vA=typeof WeakMap=="function"?WeakMap:Map,Pe=0,Ze=null,De=null,je=0,Ke=0,xn=null,hl=!1,er=!1,ud=!1,Vi=0,ht=0,fl=0,ss=0,hd=0,vn=0,tr=0,Sa=null,ln=null,fd=!1,Ec=0,Tb=0,Nc=1/0,Dc=null,dl=null,kt=0,ml=null,nr=null,Ui=0,dd=0,md=null,Eb=null,wa=0,pd=null;function Sn(){return(Pe&2)!==0&&je!==0?je&-je:z.T!==null?Sd():Yg()}function Nb(){if(vn===0)if((je&536870912)===0||Be){var l=Ho;Ho<<=1,(Ho&3932160)===0&&(Ho=262144),vn=l}else vn=536870912;return l=yn.current,l!==null&&(l.flags|=32),vn}function sn(l,r,c){(l===Ze&&(Ke===2||Ke===9)||l.cancelPendingCommit!==null)&&(ir(l,0),pl(l,je,vn,!1)),Kr(l,c),((Pe&2)===0||l!==Ze)&&(l===Ze&&((Pe&2)===0&&(ss|=c),ht===4&&pl(l,je,vn,!1)),si(l))}function Db(l,r,c){if((Pe&6)!==0)throw Error(i(327));var h=!c&&(r&127)===0&&(r&l.expiredLanes)===0||Pr(l,r),m=h?kA(l,r):yd(l,r,!0),g=h;do{if(m===0){er&&!h&&pl(l,r,0,!1);break}else{if(c=l.current.alternate,g&&!SA(c)){m=yd(l,r,!1),g=!1;continue}if(m===2){if(g=r,l.errorRecoveryDisabledLanes&g)var v=0;else v=l.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){r=v;e:{var k=l;m=Sa;var E=k.current.memoizedState.isDehydrated;if(E&&(ir(k,v).flags|=256),v=yd(k,v,!1),v!==2){if(ud&&!E){k.errorRecoveryDisabledLanes|=g,ss|=g,m=4;break e}g=ln,ln=m,g!==null&&(ln===null?ln=g:ln.push.apply(ln,g))}m=v}if(g=!1,m!==2)continue}}if(m===1){ir(l,0),pl(l,r,0,!0);break}e:{switch(h=l,g=m,g){case 0:case 1:throw Error(i(345));case 4:if((r&4194048)!==r)break;case 6:pl(h,r,vn,!hl);break e;case 2:ln=null;break;case 3:case 5:break;default:throw Error(i(329))}if((r&62914560)===r&&(m=Ec+300-wt(),10<m)){if(pl(h,r,vn,!hl),Uo(h,0,!0)!==0)break e;Ui=r,h.timeoutHandle=a1(Ob.bind(null,h,c,ln,Dc,fd,r,vn,ss,tr,hl,g,"Throttled",-0,0),m);break e}Ob(h,c,ln,Dc,fd,r,vn,ss,tr,hl,g,null,-0,0)}}break}while(!0);si(l)}function Ob(l,r,c,h,m,g,v,k,E,L,Y,W,H,U){if(l.timeoutHandle=-1,W=r.subtreeFlags,W&8192||(W&16785408)===16785408){W={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ai},kb(r,g,W);var he=(g&62914560)===g?Ec-wt():(g&4194048)===g?Tb-wt():0;if(he=s4(W,he),he!==null){Ui=g,l.cancelPendingCommit=he(Vb.bind(null,l,r,g,c,h,m,v,k,E,Y,W,null,H,U)),pl(l,g,v,!L);return}}Vb(l,r,g,c,h,m,v,k,E)}function SA(l){for(var r=l;;){var c=r.tag;if((c===0||c===11||c===15)&&r.flags&16384&&(c=r.updateQueue,c!==null&&(c=c.stores,c!==null)))for(var h=0;h<c.length;h++){var m=c[h],g=m.getSnapshot;m=m.value;try{if(!pn(g(),m))return!1}catch{return!1}}if(c=r.child,r.subtreeFlags&16384&&c!==null)c.return=r,r=c;else{if(r===l)break;for(;r.sibling===null;){if(r.return===null||r.return===l)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function pl(l,r,c,h){r&=~hd,r&=~ss,l.suspendedLanes|=r,l.pingedLanes&=~r,h&&(l.warmLanes|=r),h=l.expirationTimes;for(var m=r;0<m;){var g=31-mn(m),v=1<<g;h[g]=-1,m&=~v}c!==0&&qg(l,c,r)}function Oc(){return(Pe&6)===0?(ka(0),!1):!0}function gd(){if(De!==null){if(Ke===0)var l=De.return;else l=De,Ni=Ql=null,Rf(l),Fs=null,sa=0,l=De;for(;l!==null;)ob(l.alternate,l),l=l.return;De=null}}function ir(l,r){var c=l.timeoutHandle;c!==-1&&(l.timeoutHandle=-1,qA(c)),c=l.cancelPendingCommit,c!==null&&(l.cancelPendingCommit=null,c()),Ui=0,gd(),Ze=l,De=c=Ti(l.current,null),je=r,Ke=0,xn=null,hl=!1,er=Pr(l,r),ud=!1,tr=vn=hd=ss=fl=ht=0,ln=Sa=null,fd=!1,(r&8)!==0&&(r|=r&32);var h=l.entangledLanes;if(h!==0)for(l=l.entanglements,h&=r;0<h;){var m=31-mn(h),g=1<<m;r|=l[m],h&=~g}return Vi=r,$o(),c}function Rb(l,r){Te=null,z.H=da,r===Is||r===rc?(r=W0(),Ke=3):r===vf?(r=W0(),Ke=4):Ke=r===Wf?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,xn=r,De===null&&(ht=1,vc(l,Nn(r,l.current)))}function jb(){var l=yn.current;return l===null?!0:(je&4194048)===je?jn===null:(je&62914560)===je||(je&536870912)!==0?l===jn:!1}function _b(){var l=z.H;return z.H=da,l===null?da:l}function Lb(){var l=z.A;return z.A=xA,l}function Rc(){ht=4,hl||(je&4194048)!==je&&yn.current!==null||(er=!0),(fl&134217727)===0&&(ss&134217727)===0||Ze===null||pl(Ze,je,vn,!1)}function yd(l,r,c){var h=Pe;Pe|=2;var m=_b(),g=Lb();(Ze!==l||je!==r)&&(Dc=null,ir(l,r)),r=!1;var v=ht;e:do try{if(Ke!==0&&De!==null){var k=De,E=xn;switch(Ke){case 8:gd(),v=6;break e;case 3:case 2:case 9:case 6:yn.current===null&&(r=!0);var L=Ke;if(Ke=0,xn=null,lr(l,k,E,L),c&&er){v=0;break e}break;default:L=Ke,Ke=0,xn=null,lr(l,k,E,L)}}wA(),v=ht;break}catch(Y){Rb(l,Y)}while(!0);return r&&l.shellSuspendCounter++,Ni=Ql=null,Pe=h,z.H=m,z.A=g,De===null&&(Ze=null,je=0,$o()),v}function wA(){for(;De!==null;)Bb(De)}function kA(l,r){var c=Pe;Pe|=2;var h=_b(),m=Lb();Ze!==l||je!==r?(Dc=null,Nc=wt()+500,ir(l,r)):er=Pr(l,r);e:do try{if(Ke!==0&&De!==null){r=De;var g=xn;t:switch(Ke){case 1:Ke=0,xn=null,lr(l,r,g,1);break;case 2:case 9:if(I0(g)){Ke=0,xn=null,zb(r);break}r=function(){Ke!==2&&Ke!==9||Ze!==l||(Ke=7),si(l)},g.then(r,r);break e;case 3:Ke=7;break e;case 4:Ke=5;break e;case 7:I0(g)?(Ke=0,xn=null,zb(r)):(Ke=0,xn=null,lr(l,r,g,7));break;case 5:var v=null;switch(De.tag){case 26:v=De.memoizedState;case 5:case 27:var k=De;if(v?w1(v):k.stateNode.complete){Ke=0,xn=null;var E=k.sibling;if(E!==null)De=E;else{var L=k.return;L!==null?(De=L,jc(L)):De=null}break t}}Ke=0,xn=null,lr(l,r,g,5);break;case 6:Ke=0,xn=null,lr(l,r,g,6);break;case 8:gd(),ht=6;break e;default:throw Error(i(462))}}CA();break}catch(Y){Rb(l,Y)}while(!0);return Ni=Ql=null,z.H=h,z.A=m,Pe=c,De!==null?0:(Ze=null,je=0,$o(),ht)}function CA(){for(;De!==null&&!ti();)Bb(De)}function Bb(l){var r=rb(l.alternate,l,Vi);l.memoizedProps=l.pendingProps,r===null?jc(l):De=r}function zb(l){var r=l,c=r.alternate;switch(r.tag){case 15:case 0:r=eb(c,r,r.pendingProps,r.type,void 0,je);break;case 11:r=eb(c,r,r.pendingProps,r.type.render,r.ref,je);break;case 5:Rf(r);default:ob(c,r),r=De=L0(r,Vi),r=rb(c,r,Vi)}l.memoizedProps=l.pendingProps,r===null?jc(l):De=r}function lr(l,r,c,h){Ni=Ql=null,Rf(r),Fs=null,sa=0;var m=r.return;try{if(fA(l,m,r,c,je)){ht=1,vc(l,Nn(c,l.current)),De=null;return}}catch(g){if(m!==null)throw De=m,g;ht=1,vc(l,Nn(c,l.current)),De=null;return}r.flags&32768?(Be||h===1?l=!0:er||(je&536870912)!==0?l=!1:(hl=l=!0,(h===2||h===9||h===3||h===6)&&(h=yn.current,h!==null&&h.tag===13&&(h.flags|=16384))),Hb(r,l)):jc(r)}function jc(l){var r=l;do{if((r.flags&32768)!==0){Hb(r,hl);return}l=r.return;var c=pA(r.alternate,r,Vi);if(c!==null){De=c;return}if(r=r.sibling,r!==null){De=r;return}De=r=l}while(r!==null);ht===0&&(ht=5)}function Hb(l,r){do{var c=gA(l.alternate,l);if(c!==null){c.flags&=32767,De=c;return}if(c=l.return,c!==null&&(c.flags|=32768,c.subtreeFlags=0,c.deletions=null),!r&&(l=l.sibling,l!==null)){De=l;return}De=l=c}while(l!==null);ht=6,De=null}function Vb(l,r,c,h,m,g,v,k,E){l.cancelPendingCommit=null;do _c();while(kt!==0);if((Pe&6)!==0)throw Error(i(327));if(r!==null){if(r===l.current)throw Error(i(177));if(g=r.lanes|r.childLanes,g|=sf,iC(l,c,g,v,k,E),l===Ze&&(De=Ze=null,je=0),nr=r,ml=l,Ui=c,dd=g,md=m,Eb=h,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(l.callbackNode=null,l.callbackPriority=0,EA(Zi,function(){return Yb(),null})):(l.callbackNode=null,l.callbackPriority=0),h=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||h){h=z.T,z.T=null,m=K.p,K.p=2,v=Pe,Pe|=4;try{yA(l,r,c)}finally{Pe=v,K.p=m,z.T=h}}kt=1,Ub(),qb(),Pb()}}function Ub(){if(kt===1){kt=0;var l=ml,r=nr,c=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||c){c=z.T,z.T=null;var h=K.p;K.p=2;var m=Pe;Pe|=4;try{vb(r,l);var g=Nd,v=M0(l.containerInfo),k=g.focusedElem,E=g.selectionRange;if(v!==k&&k&&k.ownerDocument&&A0(k.ownerDocument.documentElement,k)){if(E!==null&&Jh(k)){var L=E.start,Y=E.end;if(Y===void 0&&(Y=L),"selectionStart"in k)k.selectionStart=L,k.selectionEnd=Math.min(Y,k.value.length);else{var W=k.ownerDocument||document,H=W&&W.defaultView||window;if(H.getSelection){var U=H.getSelection(),he=k.textContent.length,we=Math.min(E.start,he),We=E.end===void 0?we:Math.min(E.end,he);!U.extend&&we>We&&(v=We,We=we,we=v);var R=C0(k,we),O=C0(k,We);if(R&&O&&(U.rangeCount!==1||U.anchorNode!==R.node||U.anchorOffset!==R.offset||U.focusNode!==O.node||U.focusOffset!==O.offset)){var _=W.createRange();_.setStart(R.node,R.offset),U.removeAllRanges(),we>We?(U.addRange(_),U.extend(O.node,O.offset)):(_.setEnd(O.node,O.offset),U.addRange(_))}}}}for(W=[],U=k;U=U.parentNode;)U.nodeType===1&&W.push({element:U,left:U.scrollLeft,top:U.scrollTop});for(typeof k.focus=="function"&&k.focus(),k=0;k<W.length;k++){var F=W[k];F.element.scrollLeft=F.left,F.element.scrollTop=F.top}}Ic=!!Ed,Nd=Ed=null}finally{Pe=m,K.p=h,z.T=c}}l.current=r,kt=2}}function qb(){if(kt===2){kt=0;var l=ml,r=nr,c=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||c){c=z.T,z.T=null;var h=K.p;K.p=2;var m=Pe;Pe|=4;try{pb(l,r.alternate,r)}finally{Pe=m,K.p=h,z.T=c}}kt=3}}function Pb(){if(kt===4||kt===3){kt=0,Vl();var l=ml,r=nr,c=Ui,h=Eb;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?kt=5:(kt=0,nr=ml=null,Kb(l,l.pendingLanes));var m=l.pendingLanes;if(m===0&&(dl=null),_h(c),r=r.stateNode,dn&&typeof dn.onCommitFiberRoot=="function")try{dn.onCommitFiberRoot(ql,r,void 0,(r.current.flags&128)===128)}catch{}if(h!==null){r=z.T,m=K.p,K.p=2,z.T=null;try{for(var g=l.onRecoverableError,v=0;v<h.length;v++){var k=h[v];g(k.value,{componentStack:k.stack})}}finally{z.T=r,K.p=m}}(Ui&3)!==0&&_c(),si(l),m=l.pendingLanes,(c&261930)!==0&&(m&42)!==0?l===pd?wa++:(wa=0,pd=l):wa=0,ka(0)}}function Kb(l,r){(l.pooledCacheLanes&=r)===0&&(r=l.pooledCache,r!=null&&(l.pooledCache=null,ia(r)))}function _c(){return Ub(),qb(),Pb(),Yb()}function Yb(){if(kt!==5)return!1;var l=ml,r=dd;dd=0;var c=_h(Ui),h=z.T,m=K.p;try{K.p=32>c?32:c,z.T=null,c=md,md=null;var g=ml,v=Ui;if(kt=0,nr=ml=null,Ui=0,(Pe&6)!==0)throw Error(i(331));var k=Pe;if(Pe|=4,Ab(g.current),wb(g,g.current,v,c),Pe=k,ka(0,!1),dn&&typeof dn.onPostCommitFiberRoot=="function")try{dn.onPostCommitFiberRoot(ql,g)}catch{}return!0}finally{K.p=m,z.T=h,Kb(l,r)}}function Gb(l,r,c){r=Nn(c,r),r=Ff(l.stateNode,r,2),l=al(l,r,2),l!==null&&(Kr(l,2),si(l))}function Ye(l,r,c){if(l.tag===3)Gb(l,l,c);else for(;r!==null;){if(r.tag===3){Gb(r,l,c);break}else if(r.tag===1){var h=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(dl===null||!dl.has(h))){l=Nn(c,l),c=Iy(2),h=al(r,c,2),h!==null&&(Fy(c,h,r,l),Kr(h,2),si(h));break}}r=r.return}}function bd(l,r,c){var h=l.pingCache;if(h===null){h=l.pingCache=new vA;var m=new Set;h.set(r,m)}else m=h.get(r),m===void 0&&(m=new Set,h.set(r,m));m.has(c)||(ud=!0,m.add(c),l=AA.bind(null,l,r,c),r.then(l,l))}function AA(l,r,c){var h=l.pingCache;h!==null&&h.delete(r),l.pingedLanes|=l.suspendedLanes&c,l.warmLanes&=~c,Ze===l&&(je&c)===c&&(ht===4||ht===3&&(je&62914560)===je&&300>wt()-Ec?(Pe&2)===0&&ir(l,0):hd|=c,tr===je&&(tr=0)),si(l)}function Ib(l,r){r===0&&(r=Ug()),l=Fl(l,r),l!==null&&(Kr(l,r),si(l))}function MA(l){var r=l.memoizedState,c=0;r!==null&&(c=r.retryLane),Ib(l,c)}function TA(l,r){var c=0;switch(l.tag){case 31:case 13:var h=l.stateNode,m=l.memoizedState;m!==null&&(c=m.retryLane);break;case 19:h=l.stateNode;break;case 22:h=l.stateNode._retryCache;break;default:throw Error(i(314))}h!==null&&h.delete(r),Ib(l,c)}function EA(l,r){return me(l,r)}var Lc=null,sr=null,xd=!1,Bc=!1,vd=!1,gl=0;function si(l){l!==sr&&l.next===null&&(sr===null?Lc=sr=l:sr=sr.next=l),Bc=!0,xd||(xd=!0,DA())}function ka(l,r){if(!vd&&Bc){vd=!0;do for(var c=!1,h=Lc;h!==null;){if(l!==0){var m=h.pendingLanes;if(m===0)var g=0;else{var v=h.suspendedLanes,k=h.pingedLanes;g=(1<<31-mn(42|l)+1)-1,g&=m&~(v&~k),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(c=!0,Qb(h,g))}else g=je,g=Uo(h,h===Ze?g:0,h.cancelPendingCommit!==null||h.timeoutHandle!==-1),(g&3)===0||Pr(h,g)||(c=!0,Qb(h,g));h=h.next}while(c);vd=!1}}function NA(){Fb()}function Fb(){Bc=xd=!1;var l=0;gl!==0&&UA()&&(l=gl);for(var r=wt(),c=null,h=Lc;h!==null;){var m=h.next,g=Wb(h,r);g===0?(h.next=null,c===null?Lc=m:c.next=m,m===null&&(sr=c)):(c=h,(l!==0||(g&3)!==0)&&(Bc=!0)),h=m}kt!==0&&kt!==5||ka(l),gl!==0&&(gl=0)}function Wb(l,r){for(var c=l.suspendedLanes,h=l.pingedLanes,m=l.expirationTimes,g=l.pendingLanes&-62914561;0<g;){var v=31-mn(g),k=1<<v,E=m[v];E===-1?((k&c)===0||(k&h)!==0)&&(m[v]=nC(k,r)):E<=r&&(l.expiredLanes|=k),g&=~k}if(r=Ze,c=je,c=Uo(l,l===r?c:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),h=l.callbackNode,c===0||l===r&&(Ke===2||Ke===9)||l.cancelPendingCommit!==null)return h!==null&&h!==null&&et(h),l.callbackNode=null,l.callbackPriority=0;if((c&3)===0||Pr(l,c)){if(r=c&-c,r===l.callbackPriority)return r;switch(h!==null&&et(h),_h(c)){case 2:case 8:c=Ur;break;case 32:c=Zi;break;case 268435456:c=qr;break;default:c=Zi}return h=Xb.bind(null,l),c=me(c,h),l.callbackPriority=r,l.callbackNode=c,r}return h!==null&&h!==null&&et(h),l.callbackPriority=2,l.callbackNode=null,2}function Xb(l,r){if(kt!==0&&kt!==5)return l.callbackNode=null,l.callbackPriority=0,null;var c=l.callbackNode;if(_c()&&l.callbackNode!==c)return null;var h=je;return h=Uo(l,l===Ze?h:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),h===0?null:(Db(l,h,r),Wb(l,wt()),l.callbackNode!=null&&l.callbackNode===c?Xb.bind(null,l):null)}function Qb(l,r){if(_c())return null;Db(l,r,!0)}function DA(){PA(function(){(Pe&6)!==0?me(Cs,NA):Fb()})}function Sd(){if(gl===0){var l=Ys;l===0&&(l=zo,zo<<=1,(zo&261888)===0&&(zo=256)),gl=l}return gl}function Zb(l){return l==null||typeof l=="symbol"||typeof l=="boolean"?null:typeof l=="function"?l:Yo(""+l)}function $b(l,r){var c=r.ownerDocument.createElement("input");return c.name=r.name,c.value=r.value,l.id&&c.setAttribute("form",l.id),r.parentNode.insertBefore(c,r),l=new FormData(l),c.parentNode.removeChild(c),l}function OA(l,r,c,h,m){if(r==="submit"&&c&&c.stateNode===m){var g=Zb((m[$t]||null).action),v=h.submitter;v&&(r=(r=v[$t]||null)?Zb(r.formAction):v.getAttribute("formAction"),r!==null&&(g=r,v=null));var k=new Wo("action","action",null,h,m);l.push({event:k,listeners:[{instance:null,listener:function(){if(h.defaultPrevented){if(gl!==0){var E=v?$b(m,v):new FormData(m);qf(c,{pending:!0,data:E,method:m.method,action:g},null,E)}}else typeof g=="function"&&(k.preventDefault(),E=v?$b(m,v):new FormData(m),qf(c,{pending:!0,data:E,method:m.method,action:g},g,E))},currentTarget:m}]})}}for(var wd=0;wd<lf.length;wd++){var kd=lf[wd],RA=kd.toLowerCase(),jA=kd[0].toUpperCase()+kd.slice(1);Kn(RA,"on"+jA)}Kn(N0,"onAnimationEnd"),Kn(D0,"onAnimationIteration"),Kn(O0,"onAnimationStart"),Kn("dblclick","onDoubleClick"),Kn("focusin","onFocus"),Kn("focusout","onBlur"),Kn(XC,"onTransitionRun"),Kn(QC,"onTransitionStart"),Kn(ZC,"onTransitionCancel"),Kn(R0,"onTransitionEnd"),Ds("onMouseEnter",["mouseout","mouseover"]),Ds("onMouseLeave",["mouseout","mouseover"]),Ds("onPointerEnter",["pointerout","pointerover"]),Ds("onPointerLeave",["pointerout","pointerover"]),Kl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Kl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Kl("onBeforeInput",["compositionend","keypress","textInput","paste"]),Kl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Kl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Kl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ca="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),_A=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ca));function Jb(l,r){r=(r&4)!==0;for(var c=0;c<l.length;c++){var h=l[c],m=h.event;h=h.listeners;e:{var g=void 0;if(r)for(var v=h.length-1;0<=v;v--){var k=h[v],E=k.instance,L=k.currentTarget;if(k=k.listener,E!==g&&m.isPropagationStopped())break e;g=k,m.currentTarget=L;try{g(m)}catch(Y){Zo(Y)}m.currentTarget=null,g=E}else for(v=0;v<h.length;v++){if(k=h[v],E=k.instance,L=k.currentTarget,k=k.listener,E!==g&&m.isPropagationStopped())break e;g=k,m.currentTarget=L;try{g(m)}catch(Y){Zo(Y)}m.currentTarget=null,g=E}}}}function Oe(l,r){var c=r[Lh];c===void 0&&(c=r[Lh]=new Set);var h=l+"__bubble";c.has(h)||(e1(r,l,2,!1),c.add(h))}function Cd(l,r,c){var h=0;r&&(h|=4),e1(c,l,h,r)}var zc="_reactListening"+Math.random().toString(36).slice(2);function Ad(l){if(!l[zc]){l[zc]=!0,Fg.forEach(function(c){c!=="selectionchange"&&(_A.has(c)||Cd(c,!1,l),Cd(c,!0,l))});var r=l.nodeType===9?l:l.ownerDocument;r===null||r[zc]||(r[zc]=!0,Cd("selectionchange",!1,r))}}function e1(l,r,c,h){switch(N1(r)){case 2:var m=o4;break;case 8:m=c4;break;default:m=Ud}c=m.bind(null,r,c,l),m=void 0,!Yh||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(m=!0),h?m!==void 0?l.addEventListener(r,c,{capture:!0,passive:m}):l.addEventListener(r,c,!0):m!==void 0?l.addEventListener(r,c,{passive:m}):l.addEventListener(r,c,!1)}function Md(l,r,c,h,m){var g=h;if((r&1)===0&&(r&2)===0&&h!==null)e:for(;;){if(h===null)return;var v=h.tag;if(v===3||v===4){var k=h.stateNode.containerInfo;if(k===m)break;if(v===4)for(v=h.return;v!==null;){var E=v.tag;if((E===3||E===4)&&v.stateNode.containerInfo===m)return;v=v.return}for(;k!==null;){if(v=Ts(k),v===null)return;if(E=v.tag,E===5||E===6||E===26||E===27){h=g=v;continue e}k=k.parentNode}}h=h.return}s0(function(){var L=g,Y=Ph(c),W=[];e:{var H=j0.get(l);if(H!==void 0){var U=Wo,he=l;switch(l){case"keypress":if(Io(c)===0)break e;case"keydown":case"keyup":U=TC;break;case"focusin":he="focus",U=Wh;break;case"focusout":he="blur",U=Wh;break;case"beforeblur":case"afterblur":U=Wh;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":U=o0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":U=pC;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":U=DC;break;case N0:case D0:case O0:U=bC;break;case R0:U=RC;break;case"scroll":case"scrollend":U=dC;break;case"wheel":U=_C;break;case"copy":case"cut":case"paste":U=vC;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":U=u0;break;case"toggle":case"beforetoggle":U=BC}var we=(r&4)!==0,We=!we&&(l==="scroll"||l==="scrollend"),R=we?H!==null?H+"Capture":null:H;we=[];for(var O=L,_;O!==null;){var F=O;if(_=F.stateNode,F=F.tag,F!==5&&F!==26&&F!==27||_===null||R===null||(F=Ir(O,R),F!=null&&we.push(Aa(O,F,_))),We)break;O=O.return}0<we.length&&(H=new U(H,he,null,c,Y),W.push({event:H,listeners:we}))}}if((r&7)===0){e:{if(H=l==="mouseover"||l==="pointerover",U=l==="mouseout"||l==="pointerout",H&&c!==qh&&(he=c.relatedTarget||c.fromElement)&&(Ts(he)||he[Ms]))break e;if((U||H)&&(H=Y.window===Y?Y:(H=Y.ownerDocument)?H.defaultView||H.parentWindow:window,U?(he=c.relatedTarget||c.toElement,U=L,he=he?Ts(he):null,he!==null&&(We=a(he),we=he.tag,he!==We||we!==5&&we!==27&&we!==6)&&(he=null)):(U=null,he=L),U!==he)){if(we=o0,F="onMouseLeave",R="onMouseEnter",O="mouse",(l==="pointerout"||l==="pointerover")&&(we=u0,F="onPointerLeave",R="onPointerEnter",O="pointer"),We=U==null?H:Gr(U),_=he==null?H:Gr(he),H=new we(F,O+"leave",U,c,Y),H.target=We,H.relatedTarget=_,F=null,Ts(Y)===L&&(we=new we(R,O+"enter",he,c,Y),we.target=_,we.relatedTarget=We,F=we),We=F,U&&he)t:{for(we=LA,R=U,O=he,_=0,F=R;F;F=we(F))_++;F=0;for(var xe=O;xe;xe=we(xe))F++;for(;0<_-F;)R=we(R),_--;for(;0<F-_;)O=we(O),F--;for(;_--;){if(R===O||O!==null&&R===O.alternate){we=R;break t}R=we(R),O=we(O)}we=null}else we=null;U!==null&&t1(W,H,U,we,!1),he!==null&&We!==null&&t1(W,We,he,we,!0)}}e:{if(H=L?Gr(L):window,U=H.nodeName&&H.nodeName.toLowerCase(),U==="select"||U==="input"&&H.type==="file")var Ve=b0;else if(g0(H))if(x0)Ve=IC;else{Ve=YC;var de=KC}else U=H.nodeName,!U||U.toLowerCase()!=="input"||H.type!=="checkbox"&&H.type!=="radio"?L&&Uh(L.elementType)&&(Ve=b0):Ve=GC;if(Ve&&(Ve=Ve(l,L))){y0(W,Ve,c,Y);break e}de&&de(l,H,L),l==="focusout"&&L&&H.type==="number"&&L.memoizedProps.value!=null&&Vh(H,"number",H.value)}switch(de=L?Gr(L):window,l){case"focusin":(g0(de)||de.contentEditable==="true")&&(Bs=de,ef=L,ea=null);break;case"focusout":ea=ef=Bs=null;break;case"mousedown":tf=!0;break;case"contextmenu":case"mouseup":case"dragend":tf=!1,T0(W,c,Y);break;case"selectionchange":if(WC)break;case"keydown":case"keyup":T0(W,c,Y)}var Ee;if(Qh)e:{switch(l){case"compositionstart":var _e="onCompositionStart";break e;case"compositionend":_e="onCompositionEnd";break e;case"compositionupdate":_e="onCompositionUpdate";break e}_e=void 0}else Ls?m0(l,c)&&(_e="onCompositionEnd"):l==="keydown"&&c.keyCode===229&&(_e="onCompositionStart");_e&&(h0&&c.locale!=="ko"&&(Ls||_e!=="onCompositionStart"?_e==="onCompositionEnd"&&Ls&&(Ee=r0()):(el=Y,Gh="value"in el?el.value:el.textContent,Ls=!0)),de=Hc(L,_e),0<de.length&&(_e=new c0(_e,l,null,c,Y),W.push({event:_e,listeners:de}),Ee?_e.data=Ee:(Ee=p0(c),Ee!==null&&(_e.data=Ee)))),(Ee=HC?VC(l,c):UC(l,c))&&(_e=Hc(L,"onBeforeInput"),0<_e.length&&(de=new c0("onBeforeInput","beforeinput",null,c,Y),W.push({event:de,listeners:_e}),de.data=Ee)),OA(W,l,L,c,Y)}Jb(W,r)})}function Aa(l,r,c){return{instance:l,listener:r,currentTarget:c}}function Hc(l,r){for(var c=r+"Capture",h=[];l!==null;){var m=l,g=m.stateNode;if(m=m.tag,m!==5&&m!==26&&m!==27||g===null||(m=Ir(l,c),m!=null&&h.unshift(Aa(l,m,g)),m=Ir(l,r),m!=null&&h.push(Aa(l,m,g))),l.tag===3)return h;l=l.return}return[]}function LA(l){if(l===null)return null;do l=l.return;while(l&&l.tag!==5&&l.tag!==27);return l||null}function t1(l,r,c,h,m){for(var g=r._reactName,v=[];c!==null&&c!==h;){var k=c,E=k.alternate,L=k.stateNode;if(k=k.tag,E!==null&&E===h)break;k!==5&&k!==26&&k!==27||L===null||(E=L,m?(L=Ir(c,g),L!=null&&v.unshift(Aa(c,L,E))):m||(L=Ir(c,g),L!=null&&v.push(Aa(c,L,E)))),c=c.return}v.length!==0&&l.push({event:r,listeners:v})}var BA=/\r\n?/g,zA=/\u0000|\uFFFD/g;function n1(l){return(typeof l=="string"?l:""+l).replace(BA,`
`).replace(zA,"")}function i1(l,r){return r=n1(r),n1(l)===r}function Fe(l,r,c,h,m,g){switch(c){case"children":typeof h=="string"?r==="body"||r==="textarea"&&h===""||Rs(l,h):(typeof h=="number"||typeof h=="bigint")&&r!=="body"&&Rs(l,""+h);break;case"className":Po(l,"class",h);break;case"tabIndex":Po(l,"tabindex",h);break;case"dir":case"role":case"viewBox":case"width":case"height":Po(l,c,h);break;case"style":i0(l,h,g);break;case"data":if(r!=="object"){Po(l,"data",h);break}case"src":case"href":if(h===""&&(r!=="a"||c!=="href")){l.removeAttribute(c);break}if(h==null||typeof h=="function"||typeof h=="symbol"||typeof h=="boolean"){l.removeAttribute(c);break}h=Yo(""+h),l.setAttribute(c,h);break;case"action":case"formAction":if(typeof h=="function"){l.setAttribute(c,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(c==="formAction"?(r!=="input"&&Fe(l,r,"name",m.name,m,null),Fe(l,r,"formEncType",m.formEncType,m,null),Fe(l,r,"formMethod",m.formMethod,m,null),Fe(l,r,"formTarget",m.formTarget,m,null)):(Fe(l,r,"encType",m.encType,m,null),Fe(l,r,"method",m.method,m,null),Fe(l,r,"target",m.target,m,null)));if(h==null||typeof h=="symbol"||typeof h=="boolean"){l.removeAttribute(c);break}h=Yo(""+h),l.setAttribute(c,h);break;case"onClick":h!=null&&(l.onclick=Ai);break;case"onScroll":h!=null&&Oe("scroll",l);break;case"onScrollEnd":h!=null&&Oe("scrollend",l);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(i(61));if(c=h.__html,c!=null){if(m.children!=null)throw Error(i(60));l.innerHTML=c}}break;case"multiple":l.multiple=h&&typeof h!="function"&&typeof h!="symbol";break;case"muted":l.muted=h&&typeof h!="function"&&typeof h!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(h==null||typeof h=="function"||typeof h=="boolean"||typeof h=="symbol"){l.removeAttribute("xlink:href");break}c=Yo(""+h),l.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",c);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":h!=null&&typeof h!="function"&&typeof h!="symbol"?l.setAttribute(c,""+h):l.removeAttribute(c);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":h&&typeof h!="function"&&typeof h!="symbol"?l.setAttribute(c,""):l.removeAttribute(c);break;case"capture":case"download":h===!0?l.setAttribute(c,""):h!==!1&&h!=null&&typeof h!="function"&&typeof h!="symbol"?l.setAttribute(c,h):l.removeAttribute(c);break;case"cols":case"rows":case"size":case"span":h!=null&&typeof h!="function"&&typeof h!="symbol"&&!isNaN(h)&&1<=h?l.setAttribute(c,h):l.removeAttribute(c);break;case"rowSpan":case"start":h==null||typeof h=="function"||typeof h=="symbol"||isNaN(h)?l.removeAttribute(c):l.setAttribute(c,h);break;case"popover":Oe("beforetoggle",l),Oe("toggle",l),qo(l,"popover",h);break;case"xlinkActuate":Ci(l,"http://www.w3.org/1999/xlink","xlink:actuate",h);break;case"xlinkArcrole":Ci(l,"http://www.w3.org/1999/xlink","xlink:arcrole",h);break;case"xlinkRole":Ci(l,"http://www.w3.org/1999/xlink","xlink:role",h);break;case"xlinkShow":Ci(l,"http://www.w3.org/1999/xlink","xlink:show",h);break;case"xlinkTitle":Ci(l,"http://www.w3.org/1999/xlink","xlink:title",h);break;case"xlinkType":Ci(l,"http://www.w3.org/1999/xlink","xlink:type",h);break;case"xmlBase":Ci(l,"http://www.w3.org/XML/1998/namespace","xml:base",h);break;case"xmlLang":Ci(l,"http://www.w3.org/XML/1998/namespace","xml:lang",h);break;case"xmlSpace":Ci(l,"http://www.w3.org/XML/1998/namespace","xml:space",h);break;case"is":qo(l,"is",h);break;case"innerText":case"textContent":break;default:(!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(c=hC.get(c)||c,qo(l,c,h))}}function Td(l,r,c,h,m,g){switch(c){case"style":i0(l,h,g);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(i(61));if(c=h.__html,c!=null){if(m.children!=null)throw Error(i(60));l.innerHTML=c}}break;case"children":typeof h=="string"?Rs(l,h):(typeof h=="number"||typeof h=="bigint")&&Rs(l,""+h);break;case"onScroll":h!=null&&Oe("scroll",l);break;case"onScrollEnd":h!=null&&Oe("scrollend",l);break;case"onClick":h!=null&&(l.onclick=Ai);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Wg.hasOwnProperty(c))e:{if(c[0]==="o"&&c[1]==="n"&&(m=c.endsWith("Capture"),r=c.slice(2,m?c.length-7:void 0),g=l[$t]||null,g=g!=null?g[c]:null,typeof g=="function"&&l.removeEventListener(r,g,m),typeof h=="function")){typeof g!="function"&&g!==null&&(c in l?l[c]=null:l.hasAttribute(c)&&l.removeAttribute(c)),l.addEventListener(r,h,m);break e}c in l?l[c]=h:h===!0?l.setAttribute(c,""):qo(l,c,h)}}}function Ht(l,r,c){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Oe("error",l),Oe("load",l);var h=!1,m=!1,g;for(g in c)if(c.hasOwnProperty(g)){var v=c[g];if(v!=null)switch(g){case"src":h=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,r));default:Fe(l,r,g,v,c,null)}}m&&Fe(l,r,"srcSet",c.srcSet,c,null),h&&Fe(l,r,"src",c.src,c,null);return;case"input":Oe("invalid",l);var k=g=v=m=null,E=null,L=null;for(h in c)if(c.hasOwnProperty(h)){var Y=c[h];if(Y!=null)switch(h){case"name":m=Y;break;case"type":v=Y;break;case"checked":E=Y;break;case"defaultChecked":L=Y;break;case"value":g=Y;break;case"defaultValue":k=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(i(137,r));break;default:Fe(l,r,h,Y,c,null)}}Jg(l,g,k,E,L,v,m,!1);return;case"select":Oe("invalid",l),h=v=g=null;for(m in c)if(c.hasOwnProperty(m)&&(k=c[m],k!=null))switch(m){case"value":g=k;break;case"defaultValue":v=k;break;case"multiple":h=k;default:Fe(l,r,m,k,c,null)}r=g,c=v,l.multiple=!!h,r!=null?Os(l,!!h,r,!1):c!=null&&Os(l,!!h,c,!0);return;case"textarea":Oe("invalid",l),g=m=h=null;for(v in c)if(c.hasOwnProperty(v)&&(k=c[v],k!=null))switch(v){case"value":h=k;break;case"defaultValue":m=k;break;case"children":g=k;break;case"dangerouslySetInnerHTML":if(k!=null)throw Error(i(91));break;default:Fe(l,r,v,k,c,null)}t0(l,h,m,g);return;case"option":for(E in c)if(c.hasOwnProperty(E)&&(h=c[E],h!=null))switch(E){case"selected":l.selected=h&&typeof h!="function"&&typeof h!="symbol";break;default:Fe(l,r,E,h,c,null)}return;case"dialog":Oe("beforetoggle",l),Oe("toggle",l),Oe("cancel",l),Oe("close",l);break;case"iframe":case"object":Oe("load",l);break;case"video":case"audio":for(h=0;h<Ca.length;h++)Oe(Ca[h],l);break;case"image":Oe("error",l),Oe("load",l);break;case"details":Oe("toggle",l);break;case"embed":case"source":case"link":Oe("error",l),Oe("load",l);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(L in c)if(c.hasOwnProperty(L)&&(h=c[L],h!=null))switch(L){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,r));default:Fe(l,r,L,h,c,null)}return;default:if(Uh(r)){for(Y in c)c.hasOwnProperty(Y)&&(h=c[Y],h!==void 0&&Td(l,r,Y,h,c,void 0));return}}for(k in c)c.hasOwnProperty(k)&&(h=c[k],h!=null&&Fe(l,r,k,h,c,null))}function HA(l,r,c,h){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,g=null,v=null,k=null,E=null,L=null,Y=null;for(U in c){var W=c[U];if(c.hasOwnProperty(U)&&W!=null)switch(U){case"checked":break;case"value":break;case"defaultValue":E=W;default:h.hasOwnProperty(U)||Fe(l,r,U,null,h,W)}}for(var H in h){var U=h[H];if(W=c[H],h.hasOwnProperty(H)&&(U!=null||W!=null))switch(H){case"type":g=U;break;case"name":m=U;break;case"checked":L=U;break;case"defaultChecked":Y=U;break;case"value":v=U;break;case"defaultValue":k=U;break;case"children":case"dangerouslySetInnerHTML":if(U!=null)throw Error(i(137,r));break;default:U!==W&&Fe(l,r,H,U,h,W)}}Hh(l,v,k,E,L,Y,g,m);return;case"select":U=v=k=H=null;for(g in c)if(E=c[g],c.hasOwnProperty(g)&&E!=null)switch(g){case"value":break;case"multiple":U=E;default:h.hasOwnProperty(g)||Fe(l,r,g,null,h,E)}for(m in h)if(g=h[m],E=c[m],h.hasOwnProperty(m)&&(g!=null||E!=null))switch(m){case"value":H=g;break;case"defaultValue":k=g;break;case"multiple":v=g;default:g!==E&&Fe(l,r,m,g,h,E)}r=k,c=v,h=U,H!=null?Os(l,!!c,H,!1):!!h!=!!c&&(r!=null?Os(l,!!c,r,!0):Os(l,!!c,c?[]:"",!1));return;case"textarea":U=H=null;for(k in c)if(m=c[k],c.hasOwnProperty(k)&&m!=null&&!h.hasOwnProperty(k))switch(k){case"value":break;case"children":break;default:Fe(l,r,k,null,h,m)}for(v in h)if(m=h[v],g=c[v],h.hasOwnProperty(v)&&(m!=null||g!=null))switch(v){case"value":H=m;break;case"defaultValue":U=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(i(91));break;default:m!==g&&Fe(l,r,v,m,h,g)}e0(l,H,U);return;case"option":for(var he in c)if(H=c[he],c.hasOwnProperty(he)&&H!=null&&!h.hasOwnProperty(he))switch(he){case"selected":l.selected=!1;break;default:Fe(l,r,he,null,h,H)}for(E in h)if(H=h[E],U=c[E],h.hasOwnProperty(E)&&H!==U&&(H!=null||U!=null))switch(E){case"selected":l.selected=H&&typeof H!="function"&&typeof H!="symbol";break;default:Fe(l,r,E,H,h,U)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var we in c)H=c[we],c.hasOwnProperty(we)&&H!=null&&!h.hasOwnProperty(we)&&Fe(l,r,we,null,h,H);for(L in h)if(H=h[L],U=c[L],h.hasOwnProperty(L)&&H!==U&&(H!=null||U!=null))switch(L){case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(i(137,r));break;default:Fe(l,r,L,H,h,U)}return;default:if(Uh(r)){for(var We in c)H=c[We],c.hasOwnProperty(We)&&H!==void 0&&!h.hasOwnProperty(We)&&Td(l,r,We,void 0,h,H);for(Y in h)H=h[Y],U=c[Y],!h.hasOwnProperty(Y)||H===U||H===void 0&&U===void 0||Td(l,r,Y,H,h,U);return}}for(var R in c)H=c[R],c.hasOwnProperty(R)&&H!=null&&!h.hasOwnProperty(R)&&Fe(l,r,R,null,h,H);for(W in h)H=h[W],U=c[W],!h.hasOwnProperty(W)||H===U||H==null&&U==null||Fe(l,r,W,H,h,U)}function l1(l){switch(l){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function VA(){if(typeof performance.getEntriesByType=="function"){for(var l=0,r=0,c=performance.getEntriesByType("resource"),h=0;h<c.length;h++){var m=c[h],g=m.transferSize,v=m.initiatorType,k=m.duration;if(g&&k&&l1(v)){for(v=0,k=m.responseEnd,h+=1;h<c.length;h++){var E=c[h],L=E.startTime;if(L>k)break;var Y=E.transferSize,W=E.initiatorType;Y&&l1(W)&&(E=E.responseEnd,v+=Y*(E<k?1:(k-L)/(E-L)))}if(--h,r+=8*(g+v)/(m.duration/1e3),l++,10<l)break}}if(0<l)return r/l/1e6}return navigator.connection&&(l=navigator.connection.downlink,typeof l=="number")?l:5}var Ed=null,Nd=null;function Vc(l){return l.nodeType===9?l:l.ownerDocument}function s1(l){switch(l){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function r1(l,r){if(l===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return l===1&&r==="foreignObject"?0:l}function Dd(l,r){return l==="textarea"||l==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Od=null;function UA(){var l=window.event;return l&&l.type==="popstate"?l===Od?!1:(Od=l,!0):(Od=null,!1)}var a1=typeof setTimeout=="function"?setTimeout:void 0,qA=typeof clearTimeout=="function"?clearTimeout:void 0,o1=typeof Promise=="function"?Promise:void 0,PA=typeof queueMicrotask=="function"?queueMicrotask:typeof o1<"u"?function(l){return o1.resolve(null).then(l).catch(KA)}:a1;function KA(l){setTimeout(function(){throw l})}function yl(l){return l==="head"}function c1(l,r){var c=r,h=0;do{var m=c.nextSibling;if(l.removeChild(c),m&&m.nodeType===8)if(c=m.data,c==="/$"||c==="/&"){if(h===0){l.removeChild(m),cr(r);return}h--}else if(c==="$"||c==="$?"||c==="$~"||c==="$!"||c==="&")h++;else if(c==="html")Ma(l.ownerDocument.documentElement);else if(c==="head"){c=l.ownerDocument.head,Ma(c);for(var g=c.firstChild;g;){var v=g.nextSibling,k=g.nodeName;g[Yr]||k==="SCRIPT"||k==="STYLE"||k==="LINK"&&g.rel.toLowerCase()==="stylesheet"||c.removeChild(g),g=v}}else c==="body"&&Ma(l.ownerDocument.body);c=m}while(c);cr(r)}function u1(l,r){var c=l;l=0;do{var h=c.nextSibling;if(c.nodeType===1?r?(c._stashedDisplay=c.style.display,c.style.display="none"):(c.style.display=c._stashedDisplay||"",c.getAttribute("style")===""&&c.removeAttribute("style")):c.nodeType===3&&(r?(c._stashedText=c.nodeValue,c.nodeValue=""):c.nodeValue=c._stashedText||""),h&&h.nodeType===8)if(c=h.data,c==="/$"){if(l===0)break;l--}else c!=="$"&&c!=="$?"&&c!=="$~"&&c!=="$!"||l++;c=h}while(c)}function Rd(l){var r=l.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var c=r;switch(r=r.nextSibling,c.nodeName){case"HTML":case"HEAD":case"BODY":Rd(c),Bh(c);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(c.rel.toLowerCase()==="stylesheet")continue}l.removeChild(c)}}function YA(l,r,c,h){for(;l.nodeType===1;){var m=c;if(l.nodeName.toLowerCase()!==r.toLowerCase()){if(!h&&(l.nodeName!=="INPUT"||l.type!=="hidden"))break}else if(h){if(!l[Yr])switch(r){case"meta":if(!l.hasAttribute("itemprop"))break;return l;case"link":if(g=l.getAttribute("rel"),g==="stylesheet"&&l.hasAttribute("data-precedence"))break;if(g!==m.rel||l.getAttribute("href")!==(m.href==null||m.href===""?null:m.href)||l.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||l.getAttribute("title")!==(m.title==null?null:m.title))break;return l;case"style":if(l.hasAttribute("data-precedence"))break;return l;case"script":if(g=l.getAttribute("src"),(g!==(m.src==null?null:m.src)||l.getAttribute("type")!==(m.type==null?null:m.type)||l.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&g&&l.hasAttribute("async")&&!l.hasAttribute("itemprop"))break;return l;default:return l}}else if(r==="input"&&l.type==="hidden"){var g=m.name==null?null:""+m.name;if(m.type==="hidden"&&l.getAttribute("name")===g)return l}else return l;if(l=_n(l.nextSibling),l===null)break}return null}function GA(l,r,c){if(r==="")return null;for(;l.nodeType!==3;)if((l.nodeType!==1||l.nodeName!=="INPUT"||l.type!=="hidden")&&!c||(l=_n(l.nextSibling),l===null))return null;return l}function h1(l,r){for(;l.nodeType!==8;)if((l.nodeType!==1||l.nodeName!=="INPUT"||l.type!=="hidden")&&!r||(l=_n(l.nextSibling),l===null))return null;return l}function jd(l){return l.data==="$?"||l.data==="$~"}function _d(l){return l.data==="$!"||l.data==="$?"&&l.ownerDocument.readyState!=="loading"}function IA(l,r){var c=l.ownerDocument;if(l.data==="$~")l._reactRetry=r;else if(l.data!=="$?"||c.readyState!=="loading")r();else{var h=function(){r(),c.removeEventListener("DOMContentLoaded",h)};c.addEventListener("DOMContentLoaded",h),l._reactRetry=h}}function _n(l){for(;l!=null;l=l.nextSibling){var r=l.nodeType;if(r===1||r===3)break;if(r===8){if(r=l.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return l}var Ld=null;function f1(l){l=l.nextSibling;for(var r=0;l;){if(l.nodeType===8){var c=l.data;if(c==="/$"||c==="/&"){if(r===0)return _n(l.nextSibling);r--}else c!=="$"&&c!=="$!"&&c!=="$?"&&c!=="$~"&&c!=="&"||r++}l=l.nextSibling}return null}function d1(l){l=l.previousSibling;for(var r=0;l;){if(l.nodeType===8){var c=l.data;if(c==="$"||c==="$!"||c==="$?"||c==="$~"||c==="&"){if(r===0)return l;r--}else c!=="/$"&&c!=="/&"||r++}l=l.previousSibling}return null}function m1(l,r,c){switch(r=Vc(c),l){case"html":if(l=r.documentElement,!l)throw Error(i(452));return l;case"head":if(l=r.head,!l)throw Error(i(453));return l;case"body":if(l=r.body,!l)throw Error(i(454));return l;default:throw Error(i(451))}}function Ma(l){for(var r=l.attributes;r.length;)l.removeAttributeNode(r[0]);Bh(l)}var Ln=new Map,p1=new Set;function Uc(l){return typeof l.getRootNode=="function"?l.getRootNode():l.nodeType===9?l:l.ownerDocument}var qi=K.d;K.d={f:FA,r:WA,D:XA,C:QA,L:ZA,m:$A,X:e4,S:JA,M:t4};function FA(){var l=qi.f(),r=Oc();return l||r}function WA(l){var r=Es(l);r!==null&&r.tag===5&&r.type==="form"?Ry(r):qi.r(l)}var rr=typeof document>"u"?null:document;function g1(l,r,c){var h=rr;if(h&&typeof r=="string"&&r){var m=Tn(r);m='link[rel="'+l+'"][href="'+m+'"]',typeof c=="string"&&(m+='[crossorigin="'+c+'"]'),p1.has(m)||(p1.add(m),l={rel:l,crossOrigin:c,href:r},h.querySelector(m)===null&&(r=h.createElement("link"),Ht(r,"link",l),Et(r),h.head.appendChild(r)))}}function XA(l){qi.D(l),g1("dns-prefetch",l,null)}function QA(l,r){qi.C(l,r),g1("preconnect",l,r)}function ZA(l,r,c){qi.L(l,r,c);var h=rr;if(h&&l&&r){var m='link[rel="preload"][as="'+Tn(r)+'"]';r==="image"&&c&&c.imageSrcSet?(m+='[imagesrcset="'+Tn(c.imageSrcSet)+'"]',typeof c.imageSizes=="string"&&(m+='[imagesizes="'+Tn(c.imageSizes)+'"]')):m+='[href="'+Tn(l)+'"]';var g=m;switch(r){case"style":g=ar(l);break;case"script":g=or(l)}Ln.has(g)||(l=y({rel:"preload",href:r==="image"&&c&&c.imageSrcSet?void 0:l,as:r},c),Ln.set(g,l),h.querySelector(m)!==null||r==="style"&&h.querySelector(Ta(g))||r==="script"&&h.querySelector(Ea(g))||(r=h.createElement("link"),Ht(r,"link",l),Et(r),h.head.appendChild(r)))}}function $A(l,r){qi.m(l,r);var c=rr;if(c&&l){var h=r&&typeof r.as=="string"?r.as:"script",m='link[rel="modulepreload"][as="'+Tn(h)+'"][href="'+Tn(l)+'"]',g=m;switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=or(l)}if(!Ln.has(g)&&(l=y({rel:"modulepreload",href:l},r),Ln.set(g,l),c.querySelector(m)===null)){switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(c.querySelector(Ea(g)))return}h=c.createElement("link"),Ht(h,"link",l),Et(h),c.head.appendChild(h)}}}function JA(l,r,c){qi.S(l,r,c);var h=rr;if(h&&l){var m=Ns(h).hoistableStyles,g=ar(l);r=r||"default";var v=m.get(g);if(!v){var k={loading:0,preload:null};if(v=h.querySelector(Ta(g)))k.loading=5;else{l=y({rel:"stylesheet",href:l,"data-precedence":r},c),(c=Ln.get(g))&&Bd(l,c);var E=v=h.createElement("link");Et(E),Ht(E,"link",l),E._p=new Promise(function(L,Y){E.onload=L,E.onerror=Y}),E.addEventListener("load",function(){k.loading|=1}),E.addEventListener("error",function(){k.loading|=2}),k.loading|=4,qc(v,r,h)}v={type:"stylesheet",instance:v,count:1,state:k},m.set(g,v)}}}function e4(l,r){qi.X(l,r);var c=rr;if(c&&l){var h=Ns(c).hoistableScripts,m=or(l),g=h.get(m);g||(g=c.querySelector(Ea(m)),g||(l=y({src:l,async:!0},r),(r=Ln.get(m))&&zd(l,r),g=c.createElement("script"),Et(g),Ht(g,"link",l),c.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},h.set(m,g))}}function t4(l,r){qi.M(l,r);var c=rr;if(c&&l){var h=Ns(c).hoistableScripts,m=or(l),g=h.get(m);g||(g=c.querySelector(Ea(m)),g||(l=y({src:l,async:!0,type:"module"},r),(r=Ln.get(m))&&zd(l,r),g=c.createElement("script"),Et(g),Ht(g,"link",l),c.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},h.set(m,g))}}function y1(l,r,c,h){var m=(m=Ce.current)?Uc(m):null;if(!m)throw Error(i(446));switch(l){case"meta":case"title":return null;case"style":return typeof c.precedence=="string"&&typeof c.href=="string"?(r=ar(c.href),c=Ns(m).hoistableStyles,h=c.get(r),h||(h={type:"style",instance:null,count:0,state:null},c.set(r,h)),h):{type:"void",instance:null,count:0,state:null};case"link":if(c.rel==="stylesheet"&&typeof c.href=="string"&&typeof c.precedence=="string"){l=ar(c.href);var g=Ns(m).hoistableStyles,v=g.get(l);if(v||(m=m.ownerDocument||m,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(l,v),(g=m.querySelector(Ta(l)))&&!g._p&&(v.instance=g,v.state.loading=5),Ln.has(l)||(c={rel:"preload",as:"style",href:c.href,crossOrigin:c.crossOrigin,integrity:c.integrity,media:c.media,hrefLang:c.hrefLang,referrerPolicy:c.referrerPolicy},Ln.set(l,c),g||n4(m,l,c,v.state))),r&&h===null)throw Error(i(528,""));return v}if(r&&h!==null)throw Error(i(529,""));return null;case"script":return r=c.async,c=c.src,typeof c=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=or(c),c=Ns(m).hoistableScripts,h=c.get(r),h||(h={type:"script",instance:null,count:0,state:null},c.set(r,h)),h):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,l))}}function ar(l){return'href="'+Tn(l)+'"'}function Ta(l){return'link[rel="stylesheet"]['+l+"]"}function b1(l){return y({},l,{"data-precedence":l.precedence,precedence:null})}function n4(l,r,c,h){l.querySelector('link[rel="preload"][as="style"]['+r+"]")?h.loading=1:(r=l.createElement("link"),h.preload=r,r.addEventListener("load",function(){return h.loading|=1}),r.addEventListener("error",function(){return h.loading|=2}),Ht(r,"link",c),Et(r),l.head.appendChild(r))}function or(l){return'[src="'+Tn(l)+'"]'}function Ea(l){return"script[async]"+l}function x1(l,r,c){if(r.count++,r.instance===null)switch(r.type){case"style":var h=l.querySelector('style[data-href~="'+Tn(c.href)+'"]');if(h)return r.instance=h,Et(h),h;var m=y({},c,{"data-href":c.href,"data-precedence":c.precedence,href:null,precedence:null});return h=(l.ownerDocument||l).createElement("style"),Et(h),Ht(h,"style",m),qc(h,c.precedence,l),r.instance=h;case"stylesheet":m=ar(c.href);var g=l.querySelector(Ta(m));if(g)return r.state.loading|=4,r.instance=g,Et(g),g;h=b1(c),(m=Ln.get(m))&&Bd(h,m),g=(l.ownerDocument||l).createElement("link"),Et(g);var v=g;return v._p=new Promise(function(k,E){v.onload=k,v.onerror=E}),Ht(g,"link",h),r.state.loading|=4,qc(g,c.precedence,l),r.instance=g;case"script":return g=or(c.src),(m=l.querySelector(Ea(g)))?(r.instance=m,Et(m),m):(h=c,(m=Ln.get(g))&&(h=y({},c),zd(h,m)),l=l.ownerDocument||l,m=l.createElement("script"),Et(m),Ht(m,"link",h),l.head.appendChild(m),r.instance=m);case"void":return null;default:throw Error(i(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(h=r.instance,r.state.loading|=4,qc(h,c.precedence,l));return r.instance}function qc(l,r,c){for(var h=c.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=h.length?h[h.length-1]:null,g=m,v=0;v<h.length;v++){var k=h[v];if(k.dataset.precedence===r)g=k;else if(g!==m)break}g?g.parentNode.insertBefore(l,g.nextSibling):(r=c.nodeType===9?c.head:c,r.insertBefore(l,r.firstChild))}function Bd(l,r){l.crossOrigin==null&&(l.crossOrigin=r.crossOrigin),l.referrerPolicy==null&&(l.referrerPolicy=r.referrerPolicy),l.title==null&&(l.title=r.title)}function zd(l,r){l.crossOrigin==null&&(l.crossOrigin=r.crossOrigin),l.referrerPolicy==null&&(l.referrerPolicy=r.referrerPolicy),l.integrity==null&&(l.integrity=r.integrity)}var Pc=null;function v1(l,r,c){if(Pc===null){var h=new Map,m=Pc=new Map;m.set(c,h)}else m=Pc,h=m.get(c),h||(h=new Map,m.set(c,h));if(h.has(l))return h;for(h.set(l,null),c=c.getElementsByTagName(l),m=0;m<c.length;m++){var g=c[m];if(!(g[Yr]||g[_t]||l==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var v=g.getAttribute(r)||"";v=l+v;var k=h.get(v);k?k.push(g):h.set(v,[g])}}return h}function S1(l,r,c){l=l.ownerDocument||l,l.head.insertBefore(c,r==="title"?l.querySelector("head > title"):null)}function i4(l,r,c){if(c===1||r.itemProp!=null)return!1;switch(l){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return l=r.disabled,typeof r.precedence=="string"&&l==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function w1(l){return!(l.type==="stylesheet"&&(l.state.loading&3)===0)}function l4(l,r,c,h){if(c.type==="stylesheet"&&(typeof h.media!="string"||matchMedia(h.media).matches!==!1)&&(c.state.loading&4)===0){if(c.instance===null){var m=ar(h.href),g=r.querySelector(Ta(m));if(g){r=g._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(l.count++,l=Kc.bind(l),r.then(l,l)),c.state.loading|=4,c.instance=g,Et(g);return}g=r.ownerDocument||r,h=b1(h),(m=Ln.get(m))&&Bd(h,m),g=g.createElement("link"),Et(g);var v=g;v._p=new Promise(function(k,E){v.onload=k,v.onerror=E}),Ht(g,"link",h),c.instance=g}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(c,r),(r=c.state.preload)&&(c.state.loading&3)===0&&(l.count++,c=Kc.bind(l),r.addEventListener("load",c),r.addEventListener("error",c))}}var Hd=0;function s4(l,r){return l.stylesheets&&l.count===0&&Gc(l,l.stylesheets),0<l.count||0<l.imgCount?function(c){var h=setTimeout(function(){if(l.stylesheets&&Gc(l,l.stylesheets),l.unsuspend){var g=l.unsuspend;l.unsuspend=null,g()}},6e4+r);0<l.imgBytes&&Hd===0&&(Hd=62500*VA());var m=setTimeout(function(){if(l.waitingForImages=!1,l.count===0&&(l.stylesheets&&Gc(l,l.stylesheets),l.unsuspend)){var g=l.unsuspend;l.unsuspend=null,g()}},(l.imgBytes>Hd?50:800)+r);return l.unsuspend=c,function(){l.unsuspend=null,clearTimeout(h),clearTimeout(m)}}:null}function Kc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Gc(this,this.stylesheets);else if(this.unsuspend){var l=this.unsuspend;this.unsuspend=null,l()}}}var Yc=null;function Gc(l,r){l.stylesheets=null,l.unsuspend!==null&&(l.count++,Yc=new Map,r.forEach(r4,l),Yc=null,Kc.call(l))}function r4(l,r){if(!(r.state.loading&4)){var c=Yc.get(l);if(c)var h=c.get(null);else{c=new Map,Yc.set(l,c);for(var m=l.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<m.length;g++){var v=m[g];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(c.set(v.dataset.precedence,v),h=v)}h&&c.set(null,h)}m=r.instance,v=m.getAttribute("data-precedence"),g=c.get(v)||h,g===h&&c.set(null,m),c.set(v,m),this.count++,h=Kc.bind(this),m.addEventListener("load",h),m.addEventListener("error",h),g?g.parentNode.insertBefore(m,g.nextSibling):(l=l.nodeType===9?l.head:l,l.insertBefore(m,l.firstChild)),r.state.loading|=4}}var Na={$$typeof:N,Provider:null,Consumer:null,_currentValue:$,_currentValue2:$,_threadCount:0};function a4(l,r,c,h,m,g,v,k,E){this.tag=1,this.containerInfo=l,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Rh(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Rh(0),this.hiddenUpdates=Rh(null),this.identifierPrefix=h,this.onUncaughtError=m,this.onCaughtError=g,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function k1(l,r,c,h,m,g,v,k,E,L,Y,W){return l=new a4(l,r,c,v,E,L,Y,W,k),r=1,g===!0&&(r|=24),g=gn(3,null,null,r),l.current=g,g.stateNode=l,r=yf(),r.refCount++,l.pooledCache=r,r.refCount++,g.memoizedState={element:h,isDehydrated:c,cache:r},Sf(g),l}function C1(l){return l?(l=Vs,l):Vs}function A1(l,r,c,h,m,g){m=C1(m),h.context===null?h.context=m:h.pendingContext=m,h=rl(r),h.payload={element:c},g=g===void 0?null:g,g!==null&&(h.callback=g),c=al(l,h,r),c!==null&&(sn(c,l,r),aa(c,l,r))}function M1(l,r){if(l=l.memoizedState,l!==null&&l.dehydrated!==null){var c=l.retryLane;l.retryLane=c!==0&&c<r?c:r}}function Vd(l,r){M1(l,r),(l=l.alternate)&&M1(l,r)}function T1(l){if(l.tag===13||l.tag===31){var r=Fl(l,67108864);r!==null&&sn(r,l,67108864),Vd(l,67108864)}}function E1(l){if(l.tag===13||l.tag===31){var r=Sn();r=jh(r);var c=Fl(l,r);c!==null&&sn(c,l,r),Vd(l,r)}}var Ic=!0;function o4(l,r,c,h){var m=z.T;z.T=null;var g=K.p;try{K.p=2,Ud(l,r,c,h)}finally{K.p=g,z.T=m}}function c4(l,r,c,h){var m=z.T;z.T=null;var g=K.p;try{K.p=8,Ud(l,r,c,h)}finally{K.p=g,z.T=m}}function Ud(l,r,c,h){if(Ic){var m=qd(h);if(m===null)Md(l,r,h,Fc,c),D1(l,h);else if(h4(m,l,r,c,h))h.stopPropagation();else if(D1(l,h),r&4&&-1<u4.indexOf(l)){for(;m!==null;){var g=Es(m);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var v=Pl(g.pendingLanes);if(v!==0){var k=g;for(k.pendingLanes|=2,k.entangledLanes|=2;v;){var E=1<<31-mn(v);k.entanglements[1]|=E,v&=~E}si(g),(Pe&6)===0&&(Nc=wt()+500,ka(0))}}break;case 31:case 13:k=Fl(g,2),k!==null&&sn(k,g,2),Oc(),Vd(g,2)}if(g=qd(h),g===null&&Md(l,r,h,Fc,c),g===m)break;m=g}m!==null&&h.stopPropagation()}else Md(l,r,h,null,c)}}function qd(l){return l=Ph(l),Pd(l)}var Fc=null;function Pd(l){if(Fc=null,l=Ts(l),l!==null){var r=a(l);if(r===null)l=null;else{var c=r.tag;if(c===13){if(l=o(r),l!==null)return l;l=null}else if(c===31){if(l=u(r),l!==null)return l;l=null}else if(c===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;l=null}else r!==l&&(l=null)}}return Fc=l,null}function N1(l){switch(l){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Tt()){case Cs:return 2;case Ur:return 8;case Zi:case As:return 32;case qr:return 268435456;default:return 32}default:return 32}}var Kd=!1,bl=null,xl=null,vl=null,Da=new Map,Oa=new Map,Sl=[],u4="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function D1(l,r){switch(l){case"focusin":case"focusout":bl=null;break;case"dragenter":case"dragleave":xl=null;break;case"mouseover":case"mouseout":vl=null;break;case"pointerover":case"pointerout":Da.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Oa.delete(r.pointerId)}}function Ra(l,r,c,h,m,g){return l===null||l.nativeEvent!==g?(l={blockedOn:r,domEventName:c,eventSystemFlags:h,nativeEvent:g,targetContainers:[m]},r!==null&&(r=Es(r),r!==null&&T1(r)),l):(l.eventSystemFlags|=h,r=l.targetContainers,m!==null&&r.indexOf(m)===-1&&r.push(m),l)}function h4(l,r,c,h,m){switch(r){case"focusin":return bl=Ra(bl,l,r,c,h,m),!0;case"dragenter":return xl=Ra(xl,l,r,c,h,m),!0;case"mouseover":return vl=Ra(vl,l,r,c,h,m),!0;case"pointerover":var g=m.pointerId;return Da.set(g,Ra(Da.get(g)||null,l,r,c,h,m)),!0;case"gotpointercapture":return g=m.pointerId,Oa.set(g,Ra(Oa.get(g)||null,l,r,c,h,m)),!0}return!1}function O1(l){var r=Ts(l.target);if(r!==null){var c=a(r);if(c!==null){if(r=c.tag,r===13){if(r=o(c),r!==null){l.blockedOn=r,Gg(l.priority,function(){E1(c)});return}}else if(r===31){if(r=u(c),r!==null){l.blockedOn=r,Gg(l.priority,function(){E1(c)});return}}else if(r===3&&c.stateNode.current.memoizedState.isDehydrated){l.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}l.blockedOn=null}function Wc(l){if(l.blockedOn!==null)return!1;for(var r=l.targetContainers;0<r.length;){var c=qd(l.nativeEvent);if(c===null){c=l.nativeEvent;var h=new c.constructor(c.type,c);qh=h,c.target.dispatchEvent(h),qh=null}else return r=Es(c),r!==null&&T1(r),l.blockedOn=c,!1;r.shift()}return!0}function R1(l,r,c){Wc(l)&&c.delete(r)}function f4(){Kd=!1,bl!==null&&Wc(bl)&&(bl=null),xl!==null&&Wc(xl)&&(xl=null),vl!==null&&Wc(vl)&&(vl=null),Da.forEach(R1),Oa.forEach(R1)}function Xc(l,r){l.blockedOn===r&&(l.blockedOn=null,Kd||(Kd=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,f4)))}var Qc=null;function j1(l){Qc!==l&&(Qc=l,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Qc===l&&(Qc=null);for(var r=0;r<l.length;r+=3){var c=l[r],h=l[r+1],m=l[r+2];if(typeof h!="function"){if(Pd(h||c)===null)continue;break}var g=Es(c);g!==null&&(l.splice(r,3),r-=3,qf(g,{pending:!0,data:m,method:c.method,action:h},h,m))}}))}function cr(l){function r(E){return Xc(E,l)}bl!==null&&Xc(bl,l),xl!==null&&Xc(xl,l),vl!==null&&Xc(vl,l),Da.forEach(r),Oa.forEach(r);for(var c=0;c<Sl.length;c++){var h=Sl[c];h.blockedOn===l&&(h.blockedOn=null)}for(;0<Sl.length&&(c=Sl[0],c.blockedOn===null);)O1(c),c.blockedOn===null&&Sl.shift();if(c=(l.ownerDocument||l).$$reactFormReplay,c!=null)for(h=0;h<c.length;h+=3){var m=c[h],g=c[h+1],v=m[$t]||null;if(typeof g=="function")v||j1(c);else if(v){var k=null;if(g&&g.hasAttribute("formAction")){if(m=g,v=g[$t]||null)k=v.formAction;else if(Pd(m)!==null)continue}else k=v.action;typeof k=="function"?c[h+1]=k:(c.splice(h,3),h-=3),j1(c)}}}function _1(){function l(g){g.canIntercept&&g.info==="react-transition"&&g.intercept({handler:function(){return new Promise(function(v){return m=v})},focusReset:"manual",scroll:"manual"})}function r(){m!==null&&(m(),m=null),h||setTimeout(c,20)}function c(){if(!h&&!navigation.transition){var g=navigation.currentEntry;g&&g.url!=null&&navigation.navigate(g.url,{state:g.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var h=!1,m=null;return navigation.addEventListener("navigate",l),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(c,100),function(){h=!0,navigation.removeEventListener("navigate",l),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),m!==null&&(m(),m=null)}}}function Yd(l){this._internalRoot=l}Zc.prototype.render=Yd.prototype.render=function(l){var r=this._internalRoot;if(r===null)throw Error(i(409));var c=r.current,h=Sn();A1(c,h,l,r,null,null)},Zc.prototype.unmount=Yd.prototype.unmount=function(){var l=this._internalRoot;if(l!==null){this._internalRoot=null;var r=l.containerInfo;A1(l.current,2,null,l,null,null),Oc(),r[Ms]=null}};function Zc(l){this._internalRoot=l}Zc.prototype.unstable_scheduleHydration=function(l){if(l){var r=Yg();l={blockedOn:null,target:l,priority:r};for(var c=0;c<Sl.length&&r!==0&&r<Sl[c].priority;c++);Sl.splice(c,0,l),c===0&&O1(l)}};var L1=e.version;if(L1!=="19.2.4")throw Error(i(527,L1,"19.2.4"));K.findDOMNode=function(l){var r=l._reactInternals;if(r===void 0)throw typeof l.render=="function"?Error(i(188)):(l=Object.keys(l).join(","),Error(i(268,l)));return l=d(r),l=l!==null?p(l):null,l=l===null?null:l.stateNode,l};var d4={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:z,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var $c=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!$c.isDisabled&&$c.supportsFiber)try{ql=$c.inject(d4),dn=$c}catch{}}return _a.createRoot=function(l,r){if(!s(l))throw Error(i(299));var c=!1,h="",m=Py,g=Ky,v=Yy;return r!=null&&(r.unstable_strictMode===!0&&(c=!0),r.identifierPrefix!==void 0&&(h=r.identifierPrefix),r.onUncaughtError!==void 0&&(m=r.onUncaughtError),r.onCaughtError!==void 0&&(g=r.onCaughtError),r.onRecoverableError!==void 0&&(v=r.onRecoverableError)),r=k1(l,1,!1,null,null,c,h,null,m,g,v,_1),l[Ms]=r.current,Ad(l),new Yd(r)},_a.hydrateRoot=function(l,r,c){if(!s(l))throw Error(i(299));var h=!1,m="",g=Py,v=Ky,k=Yy,E=null;return c!=null&&(c.unstable_strictMode===!0&&(h=!0),c.identifierPrefix!==void 0&&(m=c.identifierPrefix),c.onUncaughtError!==void 0&&(g=c.onUncaughtError),c.onCaughtError!==void 0&&(v=c.onCaughtError),c.onRecoverableError!==void 0&&(k=c.onRecoverableError),c.formState!==void 0&&(E=c.formState)),r=k1(l,1,!0,r,c??null,h,m,E,g,v,k,_1),r.context=C1(null),c=r.current,h=Sn(),h=jh(h),m=rl(h),m.callback=null,al(c,m,h),c=h,r.current.lanes=c,Kr(r,c),si(r),l[Ms]=r.current,Ad(l),new Zc(r)},_a.version="19.2.4",_a}var F1;function A4(){if(F1)return Fd.exports;F1=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Fd.exports=C4(),Fd.exports}var M4=A4();const T4=r2(M4);/**
 * react-router v7.13.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var W1="popstate";function E4(n={}){function e(i,s){let{pathname:a,search:o,hash:u}=i.location;return _m("",{pathname:a,search:o,hash:u},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function t(i,s){return typeof s=="string"?s:io(s)}return D4(e,t,null,n)}function at(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Xn(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function N4(){return Math.random().toString(36).substring(2,10)}function X1(n,e){return{usr:n.state,key:n.key,idx:e}}function _m(n,e,t=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?jr(e):e,state:t,key:e&&e.key||i||N4()}}function io({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function jr(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substring(i),n=n.substring(0,i)),n&&(e.pathname=n)}return e}function D4(n,e,t,i={}){let{window:s=document.defaultView,v5Compat:a=!1}=i,o=s.history,u="POP",f=null,d=p();d==null&&(d=0,o.replaceState({...o.state,idx:d},""));function p(){return(o.state||{idx:null}).idx}function y(){u="POP";let C=p(),T=C==null?null:C-d;d=C,f&&f({action:u,location:A.location,delta:T})}function x(C,T){u="PUSH";let j=_m(A.location,C,T);d=p()+1;let N=X1(j,d),q=A.createHref(j);try{o.pushState(N,"",q)}catch(B){if(B instanceof DOMException&&B.name==="DataCloneError")throw B;s.location.assign(q)}a&&f&&f({action:u,location:A.location,delta:1})}function S(C,T){u="REPLACE";let j=_m(A.location,C,T);d=p();let N=X1(j,d),q=A.createHref(j);o.replaceState(N,"",q),a&&f&&f({action:u,location:A.location,delta:0})}function w(C){return O4(C)}let A={get action(){return u},get location(){return n(s,o)},listen(C){if(f)throw new Error("A history only accepts one active listener");return s.addEventListener(W1,y),f=C,()=>{s.removeEventListener(W1,y),f=null}},createHref(C){return e(s,C)},createURL:w,encodeLocation(C){let T=w(C);return{pathname:T.pathname,search:T.search,hash:T.hash}},push:x,replace:S,go(C){return o.go(C)}};return A}function O4(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),at(t,"No window.location.(origin|href) available to create URL");let i=typeof n=="string"?n:io(n);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=t+i),new URL(i,t)}function o2(n,e,t="/"){return R4(n,e,t,!1)}function R4(n,e,t,i){let s=typeof e=="string"?jr(e):e,a=Ii(s.pathname||"/",t);if(a==null)return null;let o=c2(n);j4(o);let u=null;for(let f=0;u==null&&f<o.length;++f){let d=Y4(a);u=P4(o[f],d,i)}return u}function c2(n,e=[],t=[],i="",s=!1){let a=(o,u,f=s,d)=>{let p={relativePath:d===void 0?o.path||"":d,caseSensitive:o.caseSensitive===!0,childrenIndex:u,route:o};if(p.relativePath.startsWith("/")){if(!p.relativePath.startsWith(i)&&f)return;at(p.relativePath.startsWith(i),`Absolute route path "${p.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(i.length)}let y=Yi([i,p.relativePath]),x=t.concat(p);o.children&&o.children.length>0&&(at(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),c2(o.children,e,x,y,f)),!(o.path==null&&!o.index)&&e.push({path:y,score:U4(y,o.index),routesMeta:x})};return n.forEach((o,u)=>{var f;if(o.path===""||!((f=o.path)!=null&&f.includes("?")))a(o,u);else for(let d of u2(o.path))a(o,u,!0,d)}),e}function u2(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,s=t.endsWith("?"),a=t.replace(/\?$/,"");if(i.length===0)return s?[a,""]:[a];let o=u2(i.join("/")),u=[];return u.push(...o.map(f=>f===""?a:[a,f].join("/"))),s&&u.push(...o),u.map(f=>n.startsWith("/")&&f===""?"/":f)}function j4(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:q4(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}var _4=/^:[\w-]+$/,L4=3,B4=2,z4=1,H4=10,V4=-2,Q1=n=>n==="*";function U4(n,e){let t=n.split("/"),i=t.length;return t.some(Q1)&&(i+=V4),e&&(i+=B4),t.filter(s=>!Q1(s)).reduce((s,a)=>s+(_4.test(a)?L4:a===""?z4:H4),i)}function q4(n,e){return n.length===e.length&&n.slice(0,-1).every((i,s)=>i===e[s])?n[n.length-1]-e[e.length-1]:0}function P4(n,e,t=!1){let{routesMeta:i}=n,s={},a="/",o=[];for(let u=0;u<i.length;++u){let f=i[u],d=u===i.length-1,p=a==="/"?e:e.slice(a.length)||"/",y=zu({path:f.relativePath,caseSensitive:f.caseSensitive,end:d},p),x=f.route;if(!y&&d&&t&&!i[i.length-1].route.index&&(y=zu({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},p)),!y)return null;Object.assign(s,y.params),o.push({params:s,pathname:Yi([a,y.pathname]),pathnameBase:W4(Yi([a,y.pathnameBase])),route:x}),y.pathnameBase!=="/"&&(a=Yi([a,y.pathnameBase]))}return o}function zu(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=K4(n.path,n.caseSensitive,n.end),s=e.match(t);if(!s)return null;let a=s[0],o=a.replace(/(.)\/+$/,"$1"),u=s.slice(1);return{params:i.reduce((d,{paramName:p,isOptional:y},x)=>{if(p==="*"){let w=u[x]||"";o=a.slice(0,a.length-w.length).replace(/(.)\/+$/,"$1")}const S=u[x];return y&&!S?d[p]=void 0:d[p]=(S||"").replace(/%2F/g,"/"),d},{}),pathname:a,pathnameBase:o,pattern:n}}function K4(n,e=!1,t=!0){Xn(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],s="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,u,f)=>(i.push({paramName:u,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(i.push({paramName:"*"}),s+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?s+="\\/*$":n!==""&&n!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),i]}function Y4(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Xn(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Ii(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}var G4=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function I4(n,e="/"){let{pathname:t,search:i="",hash:s=""}=typeof n=="string"?jr(n):n,a;return t?(t=t.replace(/\/\/+/g,"/"),t.startsWith("/")?a=Z1(t.substring(1),"/"):a=Z1(t,e)):a=e,{pathname:a,search:X4(i),hash:Q4(s)}}function Z1(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(s=>{s===".."?t.length>1&&t.pop():s!=="."&&t.push(s)}),t.length>1?t.join("/"):"/"}function Zd(n,e,t,i){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function F4(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Hp(n){let e=F4(n);return e.map((t,i)=>i===e.length-1?t.pathname:t.pathnameBase)}function Vp(n,e,t,i=!1){let s;typeof n=="string"?s=jr(n):(s={...n},at(!s.pathname||!s.pathname.includes("?"),Zd("?","pathname","search",s)),at(!s.pathname||!s.pathname.includes("#"),Zd("#","pathname","hash",s)),at(!s.search||!s.search.includes("#"),Zd("#","search","hash",s)));let a=n===""||s.pathname==="",o=a?"/":s.pathname,u;if(o==null)u=t;else{let y=e.length-1;if(!i&&o.startsWith("..")){let x=o.split("/");for(;x[0]==="..";)x.shift(),y-=1;s.pathname=x.join("/")}u=y>=0?e[y]:"/"}let f=I4(s,u),d=o&&o!=="/"&&o.endsWith("/"),p=(a||o===".")&&t.endsWith("/");return!f.pathname.endsWith("/")&&(d||p)&&(f.pathname+="/"),f}var Yi=n=>n.join("/").replace(/\/\/+/g,"/"),W4=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),X4=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,Q4=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n,Z4=class{constructor(n,e,t,i=!1){this.status=n,this.statusText=e||"",this.internal=i,t instanceof Error?(this.data=t.toString(),this.error=t):this.data=t}};function $4(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}function J4(n){return n.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var h2=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function f2(n,e){let t=n;if(typeof t!="string"||!G4.test(t))return{absoluteURL:void 0,isExternal:!1,to:t};let i=t,s=!1;if(h2)try{let a=new URL(window.location.href),o=t.startsWith("//")?new URL(a.protocol+t):new URL(t),u=Ii(o.pathname,e);o.origin===a.origin&&u!=null?t=u+o.search+o.hash:s=!0}catch{Xn(!1,`<Link to="${t}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:i,isExternal:s,to:t}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var d2=["POST","PUT","PATCH","DELETE"];new Set(d2);var eM=["GET",...d2];new Set(eM);var _r=M.createContext(null);_r.displayName="DataRouter";var oh=M.createContext(null);oh.displayName="DataRouterState";var tM=M.createContext(!1),m2=M.createContext({isTransitioning:!1});m2.displayName="ViewTransition";var nM=M.createContext(new Map);nM.displayName="Fetchers";var iM=M.createContext(null);iM.displayName="Await";var An=M.createContext(null);An.displayName="Navigation";var Ao=M.createContext(null);Ao.displayName="Location";var Zn=M.createContext({outlet:null,matches:[],isDataRoute:!1});Zn.displayName="Route";var Up=M.createContext(null);Up.displayName="RouteError";var p2="REACT_ROUTER_ERROR",lM="REDIRECT",sM="ROUTE_ERROR_RESPONSE";function rM(n){if(n.startsWith(`${p2}:${lM}:{`))try{let e=JSON.parse(n.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function aM(n){if(n.startsWith(`${p2}:${sM}:{`))try{let e=JSON.parse(n.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new Z4(e.status,e.statusText,e.data)}catch{}}function oM(n,{relative:e}={}){at(Lr(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:i}=M.useContext(An),{hash:s,pathname:a,search:o}=Mo(n,{relative:e}),u=a;return t!=="/"&&(u=a==="/"?t:Yi([t,a])),i.createHref({pathname:u,search:o,hash:s})}function Lr(){return M.useContext(Ao)!=null}function Qi(){return at(Lr(),"useLocation() may be used only in the context of a <Router> component."),M.useContext(Ao).location}var g2="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function y2(n){M.useContext(An).static||M.useLayoutEffect(n)}function b2(){let{isDataRoute:n}=M.useContext(Zn);return n?kM():cM()}function cM(){at(Lr(),"useNavigate() may be used only in the context of a <Router> component.");let n=M.useContext(_r),{basename:e,navigator:t}=M.useContext(An),{matches:i}=M.useContext(Zn),{pathname:s}=Qi(),a=JSON.stringify(Hp(i)),o=M.useRef(!1);return y2(()=>{o.current=!0}),M.useCallback((f,d={})=>{if(Xn(o.current,g2),!o.current)return;if(typeof f=="number"){t.go(f);return}let p=Vp(f,JSON.parse(a),s,d.relative==="path");n==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:Yi([e,p.pathname])),(d.replace?t.replace:t.push)(p,d.state,d)},[e,t,a,s,n])}var uM=M.createContext(null);function hM(n){let e=M.useContext(Zn).outlet;return M.useMemo(()=>e&&M.createElement(uM.Provider,{value:n},e),[e,n])}function Mo(n,{relative:e}={}){let{matches:t}=M.useContext(Zn),{pathname:i}=Qi(),s=JSON.stringify(Hp(t));return M.useMemo(()=>Vp(n,JSON.parse(s),i,e==="path"),[n,s,i,e])}function fM(n,e){return x2(n,e)}function x2(n,e,t,i,s){var j;at(Lr(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=M.useContext(An),{matches:o}=M.useContext(Zn),u=o[o.length-1],f=u?u.params:{},d=u?u.pathname:"/",p=u?u.pathnameBase:"/",y=u&&u.route;{let N=y&&y.path||"";S2(d,!y||N.endsWith("*")||N.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${N}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${N}"> to <Route path="${N==="/"?"*":`${N}/*`}">.`)}let x=Qi(),S;if(e){let N=typeof e=="string"?jr(e):e;at(p==="/"||((j=N.pathname)==null?void 0:j.startsWith(p)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${N.pathname}" was given in the \`location\` prop.`),S=N}else S=x;let w=S.pathname||"/",A=w;if(p!=="/"){let N=p.replace(/^\//,"").split("/");A="/"+w.replace(/^\//,"").split("/").slice(N.length).join("/")}let C=o2(n,{pathname:A});Xn(y||C!=null,`No routes matched location "${S.pathname}${S.search}${S.hash}" `),Xn(C==null||C[C.length-1].route.element!==void 0||C[C.length-1].route.Component!==void 0||C[C.length-1].route.lazy!==void 0,`Matched leaf route at location "${S.pathname}${S.search}${S.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let T=yM(C&&C.map(N=>Object.assign({},N,{params:Object.assign({},f,N.params),pathname:Yi([p,a.encodeLocation?a.encodeLocation(N.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:N.pathname]),pathnameBase:N.pathnameBase==="/"?p:Yi([p,a.encodeLocation?a.encodeLocation(N.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:N.pathnameBase])})),o,t,i,s);return e&&T?M.createElement(Ao.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...S},navigationType:"POP"}},T):T}function dM(){let n=wM(),e=$4(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:i},a={padding:"2px 4px",backgroundColor:i},o=null;return console.error("Error handled by React Router default ErrorBoundary:",n),o=M.createElement(M.Fragment,null,M.createElement("p",null," Hey developer "),M.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",M.createElement("code",{style:a},"ErrorBoundary")," or"," ",M.createElement("code",{style:a},"errorElement")," prop on your route.")),M.createElement(M.Fragment,null,M.createElement("h2",null,"Unexpected Application Error!"),M.createElement("h3",{style:{fontStyle:"italic"}},e),t?M.createElement("pre",{style:s},t):null,o)}var mM=M.createElement(dM,null),v2=class extends M.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){this.props.onError?this.props.onError(n,e):console.error("React Router caught the following error during render",n)}render(){let n=this.state.error;if(this.context&&typeof n=="object"&&n&&"digest"in n&&typeof n.digest=="string"){const t=aM(n.digest);t&&(n=t)}let e=n!==void 0?M.createElement(Zn.Provider,{value:this.props.routeContext},M.createElement(Up.Provider,{value:n,children:this.props.component})):this.props.children;return this.context?M.createElement(pM,{error:n},e):e}};v2.contextType=tM;var $d=new WeakMap;function pM({children:n,error:e}){let{basename:t}=M.useContext(An);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let i=rM(e.digest);if(i){let s=$d.get(e);if(s)throw s;let a=f2(i.location,t);if(h2&&!$d.get(e))if(a.isExternal||i.reloadDocument)window.location.href=a.absoluteURL||a.to;else{const o=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(a.to,{replace:i.replace}));throw $d.set(e,o),o}return M.createElement("meta",{httpEquiv:"refresh",content:`0;url=${a.absoluteURL||a.to}`})}}return n}function gM({routeContext:n,match:e,children:t}){let i=M.useContext(_r);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),M.createElement(Zn.Provider,{value:n},t)}function yM(n,e=[],t=null,i=null,s=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let a=n,o=t==null?void 0:t.errors;if(o!=null){let p=a.findIndex(y=>y.route.id&&(o==null?void 0:o[y.route.id])!==void 0);at(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),a=a.slice(0,Math.min(a.length,p+1))}let u=!1,f=-1;if(t)for(let p=0;p<a.length;p++){let y=a[p];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(f=p),y.route.id){let{loaderData:x,errors:S}=t,w=y.route.loader&&!x.hasOwnProperty(y.route.id)&&(!S||S[y.route.id]===void 0);if(y.route.lazy||w){u=!0,f>=0?a=a.slice(0,f+1):a=[a[0]];break}}}let d=t&&i?(p,y)=>{var x,S;i(p,{location:t.location,params:((S=(x=t.matches)==null?void 0:x[0])==null?void 0:S.params)??{},unstable_pattern:J4(t.matches),errorInfo:y})}:void 0;return a.reduceRight((p,y,x)=>{let S,w=!1,A=null,C=null;t&&(S=o&&y.route.id?o[y.route.id]:void 0,A=y.route.errorElement||mM,u&&(f<0&&x===0?(S2("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),w=!0,C=null):f===x&&(w=!0,C=y.route.hydrateFallbackElement||null)));let T=e.concat(a.slice(0,x+1)),j=()=>{let N;return S?N=A:w?N=C:y.route.Component?N=M.createElement(y.route.Component,null):y.route.element?N=y.route.element:N=p,M.createElement(gM,{match:y,routeContext:{outlet:p,matches:T,isDataRoute:t!=null},children:N})};return t&&(y.route.ErrorBoundary||y.route.errorElement||x===0)?M.createElement(v2,{location:t.location,revalidation:t.revalidation,component:A,error:S,children:j(),routeContext:{outlet:null,matches:T,isDataRoute:!0},onError:d}):j()},null)}function qp(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function bM(n){let e=M.useContext(_r);return at(e,qp(n)),e}function xM(n){let e=M.useContext(oh);return at(e,qp(n)),e}function vM(n){let e=M.useContext(Zn);return at(e,qp(n)),e}function Pp(n){let e=vM(n),t=e.matches[e.matches.length-1];return at(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function SM(){return Pp("useRouteId")}function wM(){var i;let n=M.useContext(Up),e=xM("useRouteError"),t=Pp("useRouteError");return n!==void 0?n:(i=e.errors)==null?void 0:i[t]}function kM(){let{router:n}=bM("useNavigate"),e=Pp("useNavigate"),t=M.useRef(!1);return y2(()=>{t.current=!0}),M.useCallback(async(s,a={})=>{Xn(t.current,g2),t.current&&(typeof s=="number"?await n.navigate(s):await n.navigate(s,{fromRouteId:e,...a}))},[n,e])}var $1={};function S2(n,e,t){!e&&!$1[n]&&($1[n]=!0,Xn(!1,t))}M.memo(CM);function CM({routes:n,future:e,state:t,onError:i}){return x2(n,void 0,t,i,e)}function AM({to:n,replace:e,state:t,relative:i}){at(Lr(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=M.useContext(An);Xn(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=M.useContext(Zn),{pathname:o}=Qi(),u=b2(),f=Vp(n,Hp(a),o,i==="path"),d=JSON.stringify(f);return M.useEffect(()=>{u(JSON.parse(d),{replace:e,state:t,relative:i})},[u,d,i,e,t]),null}function MM(n){return hM(n.context)}function rn(n){at(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function TM({basename:n="/",children:e=null,location:t,navigationType:i="POP",navigator:s,static:a=!1,unstable_useTransitions:o}){at(!Lr(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=n.replace(/^\/*/,"/"),f=M.useMemo(()=>({basename:u,navigator:s,static:a,unstable_useTransitions:o,future:{}}),[u,s,a,o]);typeof t=="string"&&(t=jr(t));let{pathname:d="/",search:p="",hash:y="",state:x=null,key:S="default"}=t,w=M.useMemo(()=>{let A=Ii(d,u);return A==null?null:{location:{pathname:A,search:p,hash:y,state:x,key:S},navigationType:i}},[u,d,p,y,x,S,i]);return Xn(w!=null,`<Router basename="${u}"> is not able to match the URL "${d}${p}${y}" because it does not start with the basename, so the <Router> won't render anything.`),w==null?null:M.createElement(An.Provider,{value:f},M.createElement(Ao.Provider,{children:e,value:w}))}function EM({children:n,location:e}){return fM(Lm(n),e)}function Lm(n,e=[]){let t=[];return M.Children.forEach(n,(i,s)=>{if(!M.isValidElement(i))return;let a=[...e,s];if(i.type===M.Fragment){t.push.apply(t,Lm(i.props.children,a));return}at(i.type===rn,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),at(!i.props.index||!i.props.children,"An index route cannot have child routes.");let o={id:i.props.id||a.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,middleware:i.props.middleware,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(o.children=Lm(i.props.children,a)),t.push(o)}),t}var Au="get",Mu="application/x-www-form-urlencoded";function ch(n){return typeof HTMLElement<"u"&&n instanceof HTMLElement}function NM(n){return ch(n)&&n.tagName.toLowerCase()==="button"}function DM(n){return ch(n)&&n.tagName.toLowerCase()==="form"}function OM(n){return ch(n)&&n.tagName.toLowerCase()==="input"}function RM(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function jM(n,e){return n.button===0&&(!e||e==="_self")&&!RM(n)}var eu=null;function _M(){if(eu===null)try{new FormData(document.createElement("form"),0),eu=!1}catch{eu=!0}return eu}var LM=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Jd(n){return n!=null&&!LM.has(n)?(Xn(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Mu}"`),null):n}function BM(n,e){let t,i,s,a,o;if(DM(n)){let u=n.getAttribute("action");i=u?Ii(u,e):null,t=n.getAttribute("method")||Au,s=Jd(n.getAttribute("enctype"))||Mu,a=new FormData(n)}else if(NM(n)||OM(n)&&(n.type==="submit"||n.type==="image")){let u=n.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=n.getAttribute("formaction")||u.getAttribute("action");if(i=f?Ii(f,e):null,t=n.getAttribute("formmethod")||u.getAttribute("method")||Au,s=Jd(n.getAttribute("formenctype"))||Jd(u.getAttribute("enctype"))||Mu,a=new FormData(u,n),!_M()){let{name:d,type:p,value:y}=n;if(p==="image"){let x=d?`${d}.`:"";a.append(`${x}x`,"0"),a.append(`${x}y`,"0")}else d&&a.append(d,y)}}else{if(ch(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Au,i=null,s=Mu,o=n}return a&&s==="text/plain"&&(o=a,a=void 0),{action:i,method:t.toLowerCase(),encType:s,formData:a,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Kp(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function zM(n,e,t,i){let s=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return t?s.pathname.endsWith("/")?s.pathname=`${s.pathname}_.${i}`:s.pathname=`${s.pathname}.${i}`:s.pathname==="/"?s.pathname=`_root.${i}`:e&&Ii(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${i}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${i}`,s}async function HM(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function VM(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function UM(n,e,t){let i=await Promise.all(n.map(async s=>{let a=e.routes[s.route.id];if(a){let o=await HM(a,t);return o.links?o.links():[]}return[]}));return YM(i.flat(1).filter(VM).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function J1(n,e,t,i,s,a){let o=(f,d)=>t[d]?f.route.id!==t[d].route.id:!0,u=(f,d)=>{var p;return t[d].pathname!==f.pathname||((p=t[d].route.path)==null?void 0:p.endsWith("*"))&&t[d].params["*"]!==f.params["*"]};return a==="assets"?e.filter((f,d)=>o(f,d)||u(f,d)):a==="data"?e.filter((f,d)=>{var y;let p=i.routes[f.route.id];if(!p||!p.hasLoader)return!1;if(o(f,d)||u(f,d))return!0;if(f.route.shouldRevalidate){let x=f.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((y=t[0])==null?void 0:y.params)||{},nextUrl:new URL(n,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof x=="boolean")return x}return!0}):[]}function qM(n,e,{includeHydrateFallback:t}={}){return PM(n.map(i=>{let s=e.routes[i.route.id];if(!s)return[];let a=[s.module];return s.clientActionModule&&(a=a.concat(s.clientActionModule)),s.clientLoaderModule&&(a=a.concat(s.clientLoaderModule)),t&&s.hydrateFallbackModule&&(a=a.concat(s.hydrateFallbackModule)),s.imports&&(a=a.concat(s.imports)),a}).flat(1))}function PM(n){return[...new Set(n)]}function KM(n){let e={},t=Object.keys(n).sort();for(let i of t)e[i]=n[i];return e}function YM(n,e){let t=new Set;return new Set(e),n.reduce((i,s)=>{let a=JSON.stringify(KM(s));return t.has(a)||(t.add(a),i.push({key:a,link:s})),i},[])}function w2(){let n=M.useContext(_r);return Kp(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function GM(){let n=M.useContext(oh);return Kp(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var Yp=M.createContext(void 0);Yp.displayName="FrameworkContext";function k2(){let n=M.useContext(Yp);return Kp(n,"You must render this element inside a <HydratedRouter> element"),n}function IM(n,e){let t=M.useContext(Yp),[i,s]=M.useState(!1),[a,o]=M.useState(!1),{onFocus:u,onBlur:f,onMouseEnter:d,onMouseLeave:p,onTouchStart:y}=e,x=M.useRef(null);M.useEffect(()=>{if(n==="render"&&o(!0),n==="viewport"){let A=T=>{T.forEach(j=>{o(j.isIntersecting)})},C=new IntersectionObserver(A,{threshold:.5});return x.current&&C.observe(x.current),()=>{C.disconnect()}}},[n]),M.useEffect(()=>{if(i){let A=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(A)}}},[i]);let S=()=>{s(!0)},w=()=>{s(!1),o(!1)};return t?n!=="intent"?[a,x,{}]:[a,x,{onFocus:La(u,S),onBlur:La(f,w),onMouseEnter:La(d,S),onMouseLeave:La(p,w),onTouchStart:La(y,S)}]:[!1,x,{}]}function La(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function FM({page:n,...e}){let{router:t}=w2(),i=M.useMemo(()=>o2(t.routes,n,t.basename),[t.routes,n,t.basename]);return i?M.createElement(XM,{page:n,matches:i,...e}):null}function WM(n){let{manifest:e,routeModules:t}=k2(),[i,s]=M.useState([]);return M.useEffect(()=>{let a=!1;return UM(n,e,t).then(o=>{a||s(o)}),()=>{a=!0}},[n,e,t]),i}function XM({page:n,matches:e,...t}){let i=Qi(),{future:s,manifest:a,routeModules:o}=k2(),{basename:u}=w2(),{loaderData:f,matches:d}=GM(),p=M.useMemo(()=>J1(n,e,d,a,i,"data"),[n,e,d,a,i]),y=M.useMemo(()=>J1(n,e,d,a,i,"assets"),[n,e,d,a,i]),x=M.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let A=new Set,C=!1;if(e.forEach(j=>{var q;let N=a.routes[j.route.id];!N||!N.hasLoader||(!p.some(B=>B.route.id===j.route.id)&&j.route.id in f&&((q=o[j.route.id])!=null&&q.shouldRevalidate)||N.hasClientLoader?C=!0:A.add(j.route.id))}),A.size===0)return[];let T=zM(n,u,s.unstable_trailingSlashAwareDataRequests,"data");return C&&A.size>0&&T.searchParams.set("_routes",e.filter(j=>A.has(j.route.id)).map(j=>j.route.id).join(",")),[T.pathname+T.search]},[u,s.unstable_trailingSlashAwareDataRequests,f,i,a,p,e,n,o]),S=M.useMemo(()=>qM(y,a),[y,a]),w=WM(y);return M.createElement(M.Fragment,null,x.map(A=>M.createElement("link",{key:A,rel:"prefetch",as:"fetch",href:A,...t})),S.map(A=>M.createElement("link",{key:A,rel:"modulepreload",href:A,...t})),w.map(({key:A,link:C})=>M.createElement("link",{key:A,nonce:t.nonce,...C,crossOrigin:C.crossOrigin??t.crossOrigin})))}function QM(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var ZM=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{ZM&&(window.__reactRouterVersion="7.13.0")}catch{}function $M({basename:n,children:e,unstable_useTransitions:t,window:i}){let s=M.useRef();s.current==null&&(s.current=E4({window:i,v5Compat:!0}));let a=s.current,[o,u]=M.useState({action:a.action,location:a.location}),f=M.useCallback(d=>{t===!1?u(d):M.startTransition(()=>u(d))},[t]);return M.useLayoutEffect(()=>a.listen(f),[a,f]),M.createElement(TM,{basename:n,children:e,location:o.location,navigationType:o.action,navigator:a,unstable_useTransitions:t})}var C2=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Gp=M.forwardRef(function({onClick:e,discover:t="render",prefetch:i="none",relative:s,reloadDocument:a,replace:o,state:u,target:f,to:d,preventScrollReset:p,viewTransition:y,unstable_defaultShouldRevalidate:x,...S},w){let{basename:A,unstable_useTransitions:C}=M.useContext(An),T=typeof d=="string"&&C2.test(d),j=f2(d,A);d=j.to;let N=oM(d,{relative:s}),[q,B,G]=IM(i,S),V=tT(d,{replace:o,state:u,target:f,preventScrollReset:p,relative:s,viewTransition:y,unstable_defaultShouldRevalidate:x,unstable_useTransitions:C});function Q(ue){e&&e(ue),ue.defaultPrevented||V(ue)}let Z=M.createElement("a",{...S,...G,href:j.absoluteURL||N,onClick:j.isExternal||a?e:Q,ref:QM(w,B),target:f,"data-discover":!T&&t==="render"?"true":void 0});return q&&!T?M.createElement(M.Fragment,null,Z,M.createElement(FM,{page:N})):Z});Gp.displayName="Link";var A2=M.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:i="",end:s=!1,style:a,to:o,viewTransition:u,children:f,...d},p){let y=Mo(o,{relative:d.relative}),x=Qi(),S=M.useContext(oh),{navigator:w,basename:A}=M.useContext(An),C=S!=null&&rT(y)&&u===!0,T=w.encodeLocation?w.encodeLocation(y).pathname:y.pathname,j=x.pathname,N=S&&S.navigation&&S.navigation.location?S.navigation.location.pathname:null;t||(j=j.toLowerCase(),N=N?N.toLowerCase():null,T=T.toLowerCase()),N&&A&&(N=Ii(N,A)||N);const q=T!=="/"&&T.endsWith("/")?T.length-1:T.length;let B=j===T||!s&&j.startsWith(T)&&j.charAt(q)==="/",G=N!=null&&(N===T||!s&&N.startsWith(T)&&N.charAt(T.length)==="/"),V={isActive:B,isPending:G,isTransitioning:C},Q=B?e:void 0,Z;typeof i=="function"?Z=i(V):Z=[i,B?"active":null,G?"pending":null,C?"transitioning":null].filter(Boolean).join(" ");let ue=typeof a=="function"?a(V):a;return M.createElement(Gp,{...d,"aria-current":Q,className:Z,ref:p,style:ue,to:o,viewTransition:u},typeof f=="function"?f(V):f)});A2.displayName="NavLink";var JM=M.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:i,replace:s,state:a,method:o=Au,action:u,onSubmit:f,relative:d,preventScrollReset:p,viewTransition:y,unstable_defaultShouldRevalidate:x,...S},w)=>{let{unstable_useTransitions:A}=M.useContext(An),C=lT(),T=sT(u,{relative:d}),j=o.toLowerCase()==="get"?"get":"post",N=typeof u=="string"&&C2.test(u),q=B=>{if(f&&f(B),B.defaultPrevented)return;B.preventDefault();let G=B.nativeEvent.submitter,V=(G==null?void 0:G.getAttribute("formmethod"))||o,Q=()=>C(G||B.currentTarget,{fetcherKey:e,method:V,navigate:t,replace:s,state:a,relative:d,preventScrollReset:p,viewTransition:y,unstable_defaultShouldRevalidate:x});A&&t!==!1?M.startTransition(()=>Q()):Q()};return M.createElement("form",{ref:w,method:j,action:T,onSubmit:i?f:q,...S,"data-discover":!N&&n==="render"?"true":void 0})});JM.displayName="Form";function eT(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function M2(n){let e=M.useContext(_r);return at(e,eT(n)),e}function tT(n,{target:e,replace:t,state:i,preventScrollReset:s,relative:a,viewTransition:o,unstable_defaultShouldRevalidate:u,unstable_useTransitions:f}={}){let d=b2(),p=Qi(),y=Mo(n,{relative:a});return M.useCallback(x=>{if(jM(x,e)){x.preventDefault();let S=t!==void 0?t:io(p)===io(y),w=()=>d(n,{replace:S,state:i,preventScrollReset:s,relative:a,viewTransition:o,unstable_defaultShouldRevalidate:u});f?M.startTransition(()=>w()):w()}},[p,d,y,t,i,e,n,s,a,o,u,f])}var nT=0,iT=()=>`__${String(++nT)}__`;function lT(){let{router:n}=M2("useSubmit"),{basename:e}=M.useContext(An),t=SM(),i=n.fetch,s=n.navigate;return M.useCallback(async(a,o={})=>{let{action:u,method:f,encType:d,formData:p,body:y}=BM(a,e);if(o.navigate===!1){let x=o.fetcherKey||iT();await i(x,t,o.action||u,{unstable_defaultShouldRevalidate:o.unstable_defaultShouldRevalidate,preventScrollReset:o.preventScrollReset,formData:p,body:y,formMethod:o.method||f,formEncType:o.encType||d,flushSync:o.flushSync})}else await s(o.action||u,{unstable_defaultShouldRevalidate:o.unstable_defaultShouldRevalidate,preventScrollReset:o.preventScrollReset,formData:p,body:y,formMethod:o.method||f,formEncType:o.encType||d,replace:o.replace,state:o.state,fromRouteId:t,flushSync:o.flushSync,viewTransition:o.viewTransition})},[i,s,e,t])}function sT(n,{relative:e}={}){let{basename:t}=M.useContext(An),i=M.useContext(Zn);at(i,"useFormAction must be used inside a RouteContext");let[s]=i.matches.slice(-1),a={...Mo(n||".",{relative:e})},o=Qi();if(n==null){a.search=o.search;let u=new URLSearchParams(a.search),f=u.getAll("index");if(f.some(p=>p==="")){u.delete("index"),f.filter(y=>y).forEach(y=>u.append("index",y));let p=u.toString();a.search=p?`?${p}`:""}}return(!n||n===".")&&s.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(a.pathname=a.pathname==="/"?t:Yi([t,a.pathname])),io(a)}function rT(n,{relative:e}={}){let t=M.useContext(m2);at(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=M2("useViewTransitionState"),s=Mo(n,{relative:e});if(!t.isTransitioning)return!1;let a=Ii(t.currentLocation.pathname,i)||t.currentLocation.pathname,o=Ii(t.nextLocation.pathname,i)||t.nextLocation.pathname;return zu(s.pathname,o)!=null||zu(s.pathname,a)!=null}/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aT=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),T2=(...n)=>n.filter((e,t,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===t).join(" ").trim();/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var oT={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cT=M.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:i,className:s="",children:a,iconNode:o,...u},f)=>M.createElement("svg",{ref:f,...oT,width:e,height:e,stroke:n,strokeWidth:i?Number(t)*24/Number(e):t,className:T2("lucide",s),...u},[...o.map(([d,p])=>M.createElement(d,p)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ae=(n,e)=>{const t=M.forwardRef(({className:i,...s},a)=>M.createElement(cT,{ref:a,iconNode:e,className:T2(`lucide-${aT(n)}`,i),...s}));return t.displayName=`${n}`,t};/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hu=ae("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uT=ae("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hT=ae("ArrowLeftRight",[["path",{d:"M8 3 4 7l4 4",key:"9rb6wj"}],["path",{d:"M4 7h16",key:"6tx8e3"}],["path",{d:"m16 21 4-4-4-4",key:"siv7j2"}],["path",{d:"M20 17H4",key:"h6l3hr"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fT=ae("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tu=ae("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dT=ae("Box",[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bm=ae("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mT=ae("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E2=ae("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N2=ae("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D2=ae("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uh=ae("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pT=ae("CircleUser",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ip=ae("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cr=ae("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gT=ae("Container",[["path",{d:"M22 7.7c0-.6-.4-1.2-.8-1.5l-6.3-3.9a1.72 1.72 0 0 0-1.7 0l-10.3 6c-.5.2-.9.8-.9 1.4v6.6c0 .5.4 1.2.8 1.5l6.3 3.9a1.72 1.72 0 0 0 1.7 0l10.3-6c.5-.3.9-1 .9-1.5Z",key:"1t2lqe"}],["path",{d:"M10 21.9V14L2.1 9.1",key:"o7czzq"}],["path",{d:"m10 14 11.9-6.9",key:"zm5e20"}],["path",{d:"M14 19.8v-8.1",key:"159ecu"}],["path",{d:"M18 17.5V9.4",key:"11uown"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eu=ae("Cpu",[["rect",{width:"16",height:"16",x:"4",y:"4",rx:"2",key:"14l7u7"}],["rect",{width:"6",height:"6",x:"9",y:"9",rx:"1",key:"5aljv4"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zm=ae("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hh=ae("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yT=ae("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O2=ae("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R2=ae("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fp=ae("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bT=ae("Gauge",[["path",{d:"m12 14 4-4",key:"9kzdfg"}],["path",{d:"M3.34 19a10 10 0 1 1 17.32 0",key:"19p75a"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ya=ae("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xT=ae("HardDrive",[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hm=ae("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vT=ae("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ST=ae("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j2=ae("KeyRound",[["path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z",key:"1s6t7t"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wT=ae("Layers",[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kT=ae("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ex=ae("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _2=ae("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CT=ae("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AT=ae("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kl=ae("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MT=ae("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TT=ae("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ET=ae("Network",[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1",key:"4q2zg0"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1",key:"8cvhb9"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1",key:"1egb70"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3",key:"1jsf9p"}],["path",{d:"M12 12V8",key:"2874zd"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NT=ae("OctagonAlert",[["path",{d:"M12 16h.01",key:"1drbdi"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M15.312 2a2 2 0 0 1 1.414.586l4.688 4.688A2 2 0 0 1 22 8.688v6.624a2 2 0 0 1-.586 1.414l-4.688 4.688a2 2 0 0 1-1.414.586H8.688a2 2 0 0 1-1.414-.586l-4.688-4.688A2 2 0 0 1 2 15.312V8.688a2 2 0 0 1 .586-1.414l4.688-4.688A2 2 0 0 1 8.688 2z",key:"1fd625"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DT=ae("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OT=ae("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wp=ae("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RT=ae("Plug",[["path",{d:"M12 22v-5",key:"1ega77"}],["path",{d:"M9 8V2",key:"14iosj"}],["path",{d:"M15 8V2",key:"18g5xt"}],["path",{d:"M18 8v5a4 4 0 0 1-4 4h-4a4 4 0 0 1-4-4V8Z",key:"osxo6l"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L2=ae("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lo=ae("Puzzle",[["path",{d:"M15.39 4.39a1 1 0 0 0 1.68-.474 2.5 2.5 0 1 1 3.014 3.015 1 1 0 0 0-.474 1.68l1.683 1.682a2.414 2.414 0 0 1 0 3.414L19.61 15.39a1 1 0 0 1-1.68-.474 2.5 2.5 0 1 0-3.014 3.015 1 1 0 0 1 .474 1.68l-1.683 1.682a2.414 2.414 0 0 1-3.414 0L8.61 19.61a1 1 0 0 0-1.68.474 2.5 2.5 0 1 1-3.014-3.015 1 1 0 0 0 .474-1.68l-1.683-1.682a2.414 2.414 0 0 1 0-3.414L4.39 8.61a1 1 0 0 1 1.68.474 2.5 2.5 0 1 0 3.014-3.015 1 1 0 0 1-.474-1.68l1.683-1.682a2.414 2.414 0 0 1 3.414 0z",key:"w46dr5"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jT=ae("Radio",[["path",{d:"M4.9 19.1C1 15.2 1 8.8 4.9 4.9",key:"1vaf9d"}],["path",{d:"M7.8 16.2c-2.3-2.3-2.3-6.1 0-8.5",key:"u1ii0m"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M16.2 7.8c2.3 2.3 2.3 6.1 0 8.5",key:"1j5fej"}],["path",{d:"M19.1 4.9C23 8.8 23 15.1 19.1 19",key:"10b0cb"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B2=ae("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tx=ae("Router",[["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",key:"w68u3i"}],["path",{d:"M6.01 18H6",key:"19vcac"}],["path",{d:"M10.01 18H10",key:"uamcmx"}],["path",{d:"M15 10v4",key:"qjz1xs"}],["path",{d:"M17.84 7.17a4 4 0 0 0-5.66 0",key:"1rif40"}],["path",{d:"M20.66 4.34a8 8 0 0 0-11.31 0",key:"6a5xfq"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _T=ae("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fh=ae("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z2=ae("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LT=ae("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xp=ae("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BT=ae("ShieldAlert",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zT=ae("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HT=ae("ShieldX",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m14.5 9.5-5 5",key:"17q4r4"}],["path",{d:"m9.5 9.5 5 5",key:"18nt4w"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VT=ae("SlidersHorizontal",[["line",{x1:"21",x2:"14",y1:"4",y2:"4",key:"obuewd"}],["line",{x1:"10",x2:"3",y1:"4",y2:"4",key:"1q6298"}],["line",{x1:"21",x2:"12",y1:"12",y2:"12",key:"1iu8h1"}],["line",{x1:"8",x2:"3",y1:"12",y2:"12",key:"ntss68"}],["line",{x1:"21",x2:"16",y1:"20",y2:"20",key:"14d8ph"}],["line",{x1:"12",x2:"3",y1:"20",y2:"20",key:"m0wm8r"}],["line",{x1:"14",x2:"14",y1:"2",y2:"6",key:"14e1ph"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"16",x2:"16",y1:"18",y2:"22",key:"1lctlv"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H2=ae("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UT=ae("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vm=ae("Stethoscope",[["path",{d:"M11 2v2",key:"1539x4"}],["path",{d:"M5 2v2",key:"1yf1q8"}],["path",{d:"M5 3H4a2 2 0 0 0-2 2v4a6 6 0 0 0 12 0V5a2 2 0 0 0-2-2h-1",key:"rb5t3r"}],["path",{d:"M8 15a6 6 0 0 0 12 0v-3",key:"x18d4x"}],["circle",{cx:"20",cy:"10",r:"2",key:"ts1r5v"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qT=ae("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PT=ae("Terminal",[["polyline",{points:"4 17 10 11 4 5",key:"akl6gq"}],["line",{x1:"12",x2:"20",y1:"19",y2:"19",key:"q2wloq"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KT=ae("Timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V2=ae("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YT=ae("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qp=ae("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GT=ae("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nx=ae("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IT=ae("Webhook",[["path",{d:"M18 16.98h-5.99c-1.1 0-1.95.94-2.48 1.9A4 4 0 0 1 2 17c.01-.7.2-1.4.57-2",key:"q3hayz"}],["path",{d:"m6 17 3.13-5.78c.53-.97.1-2.18-.5-3.1a4 4 0 1 1 6.89-4.06",key:"1go1hn"}],["path",{d:"m12 6 3.13 5.73C15.66 12.7 16.9 13 18 13a4 4 0 0 1 0 8",key:"qlwsc0"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U2=ae("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const To=ae("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FT=ae("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),Ki="zeroclaw_token";let os=null;function WT(n){try{return sessionStorage.getItem(n)}catch{return null}}function q2(n,e){try{sessionStorage.setItem(n,e)}catch{}}function XT(n){try{sessionStorage.removeItem(n)}catch{}}function P2(n){try{localStorage.removeItem(n)}catch{}}function Ar(){if(os&&os.length>0)return os;const n=WT(Ki);if(n&&n.length>0)return os=n,n;try{const e=localStorage.getItem(Ki);if(e&&e.length>0)return os=e,q2(Ki,e),localStorage.removeItem(Ki),e}catch{}return null}function K2(n){os=n,q2(Ki,n),P2(Ki)}function Y2(){os=null,XT(Ki),P2(Ki)}function em(){const n=Ar();return n!==null&&n.length>0}class QT extends Error{constructor(){super("Unauthorized"),this.name="UnauthorizedError"}}async function jt(n,e={}){const t=Ar(),i=new Headers(e.headers);t&&i.set("Authorization",`Bearer ${t}`),e.body&&typeof e.body=="string"&&!i.has("Content-Type")&&i.set("Content-Type","application/json");const s=await fetch(n,{...e,headers:i});if(s.status===401)throw Y2(),window.dispatchEvent(new Event("zeroclaw-unauthorized")),new QT;if(!s.ok){const a=await s.text().catch(()=>"");throw new Error(`API ${s.status}: ${a||s.statusText}`)}if(s.status!==204)return s.json()}function Ss(n,e){if(n!==null&&typeof n=="object"&&!Array.isArray(n)&&e in n){const t=n[e];if(t!==void 0)return t}return n}async function ZT(n){const e=await fetch("/pair",{method:"POST",headers:{"X-Pairing-Code":n}});if(!e.ok){const i=await e.text().catch(()=>"");throw new Error(`Pairing failed (${e.status}): ${i||e.statusText}`)}const t=await e.json();return K2(t.token),t}async function $T(){const n=await fetch("/health");if(!n.ok)throw new Error(`Health check failed (${n.status})`);return n.json()}function G2(){return jt("/api/status")}function JT(){return jt("/api/config").then(n=>typeof n=="string"?n:n.content)}function e3(n){return jt("/api/config",{method:"PUT",headers:{"Content-Type":"application/toml"},body:n})}function t3(){return jt("/api/tools").then(n=>Ss(n,"tools"))}function n3(){return jt("/api/cron").then(n=>Ss(n,"jobs"))}function i3(n){return jt("/api/cron",{method:"POST",body:JSON.stringify(n)}).then(e=>typeof e.job=="object"?e.job:e)}function l3(n){return jt(`/api/cron/${encodeURIComponent(n)}`,{method:"DELETE"})}function s3(){return jt("/api/integrations").then(n=>Ss(n,"integrations"))}function r3(){return jt("/api/integrations/settings")}function ix(n,e){return jt(`/api/integrations/${encodeURIComponent(n)}/credentials`,{method:"PUT",body:JSON.stringify(e)})}function a3(){return jt("/api/doctor",{method:"POST",body:JSON.stringify({})}).then(n=>Array.isArray(n)?n:n.results)}function o3(n,e){const t=new URLSearchParams;n&&t.set("query",n),e&&t.set("category",e);const i=t.toString();return jt(`/api/memory${i?`?${i}`:""}`).then(s=>Ss(s,"entries"))}function c3(n,e,t){return jt("/api/memory",{method:"POST",body:JSON.stringify({key:n,content:e,category:t})}).then(()=>{})}function u3(n){return jt(`/api/memory/${encodeURIComponent(n)}`,{method:"DELETE"})}function h3(){return jt("/api/pairing/devices").then(n=>Ss(n,"devices"))}function f3(n){return jt(`/api/pairing/devices/${encodeURIComponent(n)}`,{method:"DELETE"})}function I2(){return jt("/api/cost").then(n=>Ss(n,"cost"))}function d3(){return jt("/api/cli-tools").then(n=>Ss(n,"cli_tools"))}const lx={en:{"nav.dashboard":"Dashboard","nav.agent":"Agent","nav.tools":"Tools","nav.cron":"Scheduled Jobs","nav.integrations":"Integrations","nav.memory":"Memory","nav.devices":"Devices","nav.config":"Configuration","nav.cost":"Cost Tracker","nav.logs":"Logs","nav.doctor":"Doctor","dashboard.title":"Dashboard","dashboard.provider":"Provider","dashboard.model":"Model","dashboard.uptime":"Uptime","dashboard.temperature":"Temperature","dashboard.gateway_port":"Gateway Port","dashboard.locale":"Locale","dashboard.memory_backend":"Memory Backend","dashboard.paired":"Paired","dashboard.channels":"Channels","dashboard.health":"Health","dashboard.status":"Status","dashboard.overview":"Overview","dashboard.system_info":"System Information","dashboard.quick_actions":"Quick Actions","agent.title":"Agent Chat","agent.send":"Send","agent.placeholder":"Type a message...","agent.connecting":"Connecting...","agent.connected":"Connected","agent.disconnected":"Disconnected","agent.reconnecting":"Reconnecting...","agent.thinking":"Thinking...","agent.tool_call":"Tool Call","agent.tool_result":"Tool Result","tools.title":"Available Tools","tools.name":"Name","tools.description":"Description","tools.parameters":"Parameters","tools.search":"Search tools...","tools.empty":"No tools available.","tools.count":"Total tools","cron.title":"Scheduled Jobs","cron.add":"Add Job","cron.delete":"Delete","cron.enable":"Enable","cron.disable":"Disable","cron.name":"Name","cron.command":"Command","cron.schedule":"Schedule","cron.next_run":"Next Run","cron.last_run":"Last Run","cron.last_status":"Last Status","cron.enabled":"Enabled","cron.empty":"No scheduled jobs.","cron.confirm_delete":"Are you sure you want to delete this job?","integrations.title":"Integrations","integrations.available":"Available","integrations.active":"Active","integrations.coming_soon":"Coming Soon","integrations.category":"Category","integrations.status":"Status","integrations.search":"Search integrations...","integrations.empty":"No integrations found.","integrations.activate":"Activate","integrations.deactivate":"Deactivate","memory.title":"Memory Store","memory.search":"Search memory...","memory.add":"Store Memory","memory.delete":"Delete","memory.key":"Key","memory.content":"Content","memory.category":"Category","memory.timestamp":"Timestamp","memory.session":"Session","memory.score":"Score","memory.empty":"No memory entries found.","memory.confirm_delete":"Are you sure you want to delete this memory entry?","memory.all_categories":"All Categories","config.title":"Configuration","config.save":"Save","config.reset":"Reset","config.saved":"Configuration saved successfully.","config.error":"Failed to save configuration.","config.loading":"Loading configuration...","config.editor_placeholder":"TOML configuration...","cost.title":"Cost Tracker","cost.session":"Session Cost","cost.daily":"Daily Cost","cost.monthly":"Monthly Cost","cost.total_tokens":"Total Tokens","cost.request_count":"Requests","cost.by_model":"Cost by Model","cost.model":"Model","cost.tokens":"Tokens","cost.requests":"Requests","cost.usd":"Cost (USD)","logs.title":"Live Logs","logs.clear":"Clear","logs.pause":"Pause","logs.resume":"Resume","logs.filter":"Filter logs...","logs.empty":"No log entries.","logs.connected":"Connected to event stream.","logs.disconnected":"Disconnected from event stream.","doctor.title":"System Diagnostics","doctor.run":"Run Diagnostics","doctor.running":"Running diagnostics...","doctor.ok":"OK","doctor.warn":"Warning","doctor.error":"Error","doctor.severity":"Severity","doctor.category":"Category","doctor.message":"Message","doctor.empty":"No diagnostics have been run yet.","doctor.summary":"Diagnostic Summary","auth.pair":"Pair Device","auth.pairing_code":"Pairing Code","auth.pair_button":"Pair","auth.logout":"Logout","auth.pairing_success":"Pairing successful!","auth.pairing_failed":"Pairing failed. Please try again.","auth.enter_code":"Enter your pairing code to connect to the agent.","common.loading":"Loading...","common.error":"An error occurred.","common.retry":"Retry","common.cancel":"Cancel","common.confirm":"Confirm","common.save":"Save","common.delete":"Delete","common.edit":"Edit","common.close":"Close","common.yes":"Yes","common.no":"No","common.search":"Search...","common.no_data":"No data available.","common.refresh":"Refresh","common.back":"Back","common.actions":"Actions","common.name":"Name","common.description":"Description","common.status":"Status","common.created":"Created","common.updated":"Updated","health.title":"System Health","health.component":"Component","health.status":"Status","health.last_ok":"Last OK","health.last_error":"Last Error","health.restart_count":"Restarts","health.pid":"Process ID","health.uptime":"Uptime","health.updated_at":"Last Updated"},tr:{"nav.dashboard":"Kontrol Paneli","nav.agent":"Ajan","nav.tools":"Araclar","nav.cron":"Zamanlanmis Gorevler","nav.integrations":"Entegrasyonlar","nav.memory":"Hafiza","nav.devices":"Cihazlar","nav.config":"Yapilandirma","nav.cost":"Maliyet Takibi","nav.logs":"Kayitlar","nav.doctor":"Doktor","dashboard.title":"Kontrol Paneli","dashboard.provider":"Saglayici","dashboard.model":"Model","dashboard.uptime":"Calisma Suresi","dashboard.temperature":"Sicaklik","dashboard.gateway_port":"Gecit Portu","dashboard.locale":"Yerel Ayar","dashboard.memory_backend":"Hafiza Motoru","dashboard.paired":"Eslestirilmis","dashboard.channels":"Kanallar","dashboard.health":"Saglik","dashboard.status":"Durum","dashboard.overview":"Genel Bakis","dashboard.system_info":"Sistem Bilgisi","dashboard.quick_actions":"Hizli Islemler","agent.title":"Ajan Sohbet","agent.send":"Gonder","agent.placeholder":"Bir mesaj yazin...","agent.connecting":"Baglaniyor...","agent.connected":"Bagli","agent.disconnected":"Baglanti Kesildi","agent.reconnecting":"Yeniden Baglaniyor...","agent.thinking":"Dusunuyor...","agent.tool_call":"Arac Cagrisi","agent.tool_result":"Arac Sonucu","tools.title":"Mevcut Araclar","tools.name":"Ad","tools.description":"Aciklama","tools.parameters":"Parametreler","tools.search":"Arac ara...","tools.empty":"Mevcut arac yok.","tools.count":"Toplam arac","cron.title":"Zamanlanmis Gorevler","cron.add":"Gorev Ekle","cron.delete":"Sil","cron.enable":"Etkinlestir","cron.disable":"Devre Disi Birak","cron.name":"Ad","cron.command":"Komut","cron.schedule":"Zamanlama","cron.next_run":"Sonraki Calistirma","cron.last_run":"Son Calistirma","cron.last_status":"Son Durum","cron.enabled":"Etkin","cron.empty":"Zamanlanmis gorev yok.","cron.confirm_delete":"Bu gorevi silmek istediginizden emin misiniz?","integrations.title":"Entegrasyonlar","integrations.available":"Mevcut","integrations.active":"Aktif","integrations.coming_soon":"Yakinda","integrations.category":"Kategori","integrations.status":"Durum","integrations.search":"Entegrasyon ara...","integrations.empty":"Entegrasyon bulunamadi.","integrations.activate":"Etkinlestir","integrations.deactivate":"Devre Disi Birak","memory.title":"Hafiza Deposu","memory.search":"Hafizada ara...","memory.add":"Hafiza Kaydet","memory.delete":"Sil","memory.key":"Anahtar","memory.content":"Icerik","memory.category":"Kategori","memory.timestamp":"Zaman Damgasi","memory.session":"Oturum","memory.score":"Skor","memory.empty":"Hafiza kaydi bulunamadi.","memory.confirm_delete":"Bu hafiza kaydini silmek istediginizden emin misiniz?","memory.all_categories":"Tum Kategoriler","config.title":"Yapilandirma","config.save":"Kaydet","config.reset":"Sifirla","config.saved":"Yapilandirma basariyla kaydedildi.","config.error":"Yapilandirma kaydedilemedi.","config.loading":"Yapilandirma yukleniyor...","config.editor_placeholder":"TOML yapilandirmasi...","cost.title":"Maliyet Takibi","cost.session":"Oturum Maliyeti","cost.daily":"Gunluk Maliyet","cost.monthly":"Aylik Maliyet","cost.total_tokens":"Toplam Token","cost.request_count":"Istekler","cost.by_model":"Modele Gore Maliyet","cost.model":"Model","cost.tokens":"Token","cost.requests":"Istekler","cost.usd":"Maliyet (USD)","logs.title":"Canli Kayitlar","logs.clear":"Temizle","logs.pause":"Duraklat","logs.resume":"Devam Et","logs.filter":"Kayitlari filtrele...","logs.empty":"Kayit girisi yok.","logs.connected":"Olay akisina baglandi.","logs.disconnected":"Olay akisi baglantisi kesildi.","doctor.title":"Sistem Teshisleri","doctor.run":"Teshis Calistir","doctor.running":"Teshisler calistiriliyor...","doctor.ok":"Tamam","doctor.warn":"Uyari","doctor.error":"Hata","doctor.severity":"Ciddiyet","doctor.category":"Kategori","doctor.message":"Mesaj","doctor.empty":"Henuz teshis calistirilmadi.","doctor.summary":"Teshis Ozeti","auth.pair":"Cihaz Esle","auth.pairing_code":"Eslestirme Kodu","auth.pair_button":"Esle","auth.logout":"Cikis Yap","auth.pairing_success":"Eslestirme basarili!","auth.pairing_failed":"Eslestirme basarisiz. Lutfen tekrar deneyin.","auth.enter_code":"Ajana baglanmak icin eslestirme kodunuzu girin.","common.loading":"Yukleniyor...","common.error":"Bir hata olustu.","common.retry":"Tekrar Dene","common.cancel":"Iptal","common.confirm":"Onayla","common.save":"Kaydet","common.delete":"Sil","common.edit":"Duzenle","common.close":"Kapat","common.yes":"Evet","common.no":"Hayir","common.search":"Ara...","common.no_data":"Veri mevcut degil.","common.refresh":"Yenile","common.back":"Geri","common.actions":"Islemler","common.name":"Ad","common.description":"Aciklama","common.status":"Durum","common.created":"Olusturulma","common.updated":"Guncellenme","health.title":"Sistem Sagligi","health.component":"Bilesen","health.status":"Durum","health.last_ok":"Son Basarili","health.last_error":"Son Hata","health.restart_count":"Yeniden Baslatmalar","health.pid":"Islem Kimligi","health.uptime":"Calisma Suresi","health.updated_at":"Son Guncelleme"},"zh-CN":{"nav.dashboard":"","nav.agent":"","nav.tools":"","nav.cron":"","nav.integrations":"","nav.memory":"","nav.devices":"","nav.config":"","nav.cost":"","nav.logs":"","nav.doctor":"","dashboard.title":"","dashboard.provider":"","dashboard.model":"","dashboard.uptime":"","dashboard.temperature":"","dashboard.gateway_port":"","dashboard.locale":"","dashboard.memory_backend":"","dashboard.paired":"","dashboard.channels":"","dashboard.health":"","dashboard.status":"","dashboard.overview":"","dashboard.system_info":"","dashboard.quick_actions":"","agent.title":"","agent.send":"","agent.placeholder":"...","agent.connecting":"...","agent.connected":"","agent.disconnected":"","agent.reconnecting":"...","agent.thinking":"...","agent.tool_call":"","agent.tool_result":"","tools.title":"","tools.name":"","tools.description":"","tools.parameters":"","tools.search":"...","tools.empty":"","tools.count":"","cron.title":"","cron.add":"","cron.delete":"","cron.enable":"","cron.disable":"","cron.name":"","cron.command":"","cron.schedule":"","cron.next_run":"","cron.last_run":"","cron.last_status":"","cron.enabled":"","cron.empty":"","cron.confirm_delete":"","integrations.title":"","integrations.available":"","integrations.active":"","integrations.coming_soon":"","integrations.category":"","integrations.status":"","integrations.search":"...","integrations.empty":"","integrations.activate":"","integrations.deactivate":"","memory.title":"","memory.search":"...","memory.add":"","memory.delete":"","memory.key":"","memory.content":"","memory.category":"","memory.timestamp":"","memory.session":"","memory.score":"","memory.empty":"","memory.confirm_delete":"","memory.all_categories":"","config.title":"","config.save":"","config.reset":"","config.saved":"","config.error":"","config.loading":"...","config.editor_placeholder":"TOML ...","cost.title":"","cost.session":"","cost.daily":"","cost.monthly":"","cost.total_tokens":"Token ","cost.request_count":"","cost.by_model":"","cost.model":"","cost.tokens":"Token","cost.requests":"","cost.usd":"USD","logs.title":"","logs.clear":"","logs.pause":"","logs.resume":"","logs.filter":"...","logs.empty":"","logs.connected":"","logs.disconnected":"","doctor.title":"","doctor.run":"","doctor.running":"...","doctor.ok":"","doctor.warn":"","doctor.error":"","doctor.severity":"","doctor.category":"","doctor.message":"","doctor.empty":"","doctor.summary":"","auth.pair":"","auth.pairing_code":"","auth.pair_button":"","auth.logout":"","auth.pairing_success":"","auth.pairing_failed":"","auth.enter_code":"","common.loading":"...","common.error":"","common.retry":"","common.cancel":"","common.confirm":"","common.save":"","common.delete":"","common.edit":"","common.close":"","common.yes":"","common.no":"","common.search":"...","common.no_data":"","common.refresh":"","common.back":"","common.actions":"","common.name":"","common.description":"","common.status":"","common.created":"","common.updated":"","health.title":"","health.component":"","health.status":"","health.last_ok":"","health.last_error":"","health.restart_count":"","health.pid":" ID","health.uptime":"","health.updated_at":""}};let F2="en";function m3(n){F2=n}function Um(n){var e;return((e=lx[F2])==null?void 0:e[n])??lx.en[n]??n}const p3=[{to:"/",icon:kT,labelKey:"nav.dashboard"},{to:"/agent",icon:MT,labelKey:"nav.agent"},{to:"/tools",icon:U2,labelKey:"nav.tools"},{to:"/cron",icon:Cr,labelKey:"nav.cron"},{to:"/integrations",icon:lo,labelKey:"nav.integrations"},{to:"/memory",icon:Bm,labelKey:"nav.memory"},{to:"/devices",icon:H2,labelKey:"nav.devices"},{to:"/config",icon:Xp,labelKey:"nav.config"},{to:"/cost",icon:hh,labelKey:"nav.cost"},{to:"/logs",icon:Hu,labelKey:"nav.logs"},{to:"/doctor",icon:Vm,labelKey:"nav.doctor"}];function g3({isOpen:n,onClose:e}){return b.jsxs(b.Fragment,{children:[b.jsx("button",{type:"button","aria-label":"Close navigation",onClick:e,className:["fixed inset-0 z-30 bg-black/50 transition-opacity md:hidden",n?"opacity-100":"pointer-events-none opacity-0"].join(" ")}),b.jsxs("aside",{className:["fixed top-0 left-0 z-40 h-screen w-60 bg-gray-900 flex flex-col border-r border-gray-800","transform transition-transform duration-200 ease-out",n?"translate-x-0":"-translate-x-full","md:translate-x-0"].join(" "),children:[b.jsxs("div",{className:"flex items-center justify-between px-5 py-5 border-b border-gray-800",children:[b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("div",{className:"h-8 w-8 rounded-lg bg-blue-600 flex items-center justify-center text-white font-bold text-sm",children:"ZC"}),b.jsx("span",{className:"text-lg font-semibold text-white tracking-wide",children:"ZeroClaw"})]}),b.jsx("button",{type:"button",onClick:e,"aria-label":"Close navigation",className:"md:hidden p-1.5 rounded-md text-gray-300 hover:bg-gray-800 hover:text-white transition-colors",children:b.jsx(To,{className:"h-4 w-4"})})]}),b.jsx("nav",{className:"flex-1 overflow-y-auto py-4 px-3 space-y-1",children:p3.map(({to:t,icon:i,labelKey:s})=>b.jsxs(A2,{to:t,end:t==="/",onClick:e,className:({isActive:a})=>["flex items-center gap-3 px-3 py-2.5 rounded-lg text-sm font-medium transition-colors",a?"bg-blue-600 text-white":"text-gray-300 hover:bg-gray-800 hover:text-white"].join(" "),children:[b.jsx(i,{className:"h-5 w-5 flex-shrink-0"}),b.jsx("span",{children:Um(s)})]},t))})]})]})}const W2=M.createContext(null);function y3({children:n}){const[e,t]=M.useState(Ar),[i,s]=M.useState(em),[a,o]=M.useState(!em());M.useEffect(()=>{if(em())return;let p=!1;return $T().then(y=>{p||y.require_pairing||s(!0)}).catch(()=>{}).finally(()=>{p||o(!1)}),()=>{p=!0}},[]),M.useEffect(()=>{const p=y=>{if(y.key===Ki){const x=Ar();t(x),s(x!==null&&x.length>0)}};return window.addEventListener("storage",p),()=>window.removeEventListener("storage",p)},[]);const u=M.useCallback(async p=>{const{token:y}=await ZT(p);K2(y),t(y),s(!0)},[]),f=M.useCallback(()=>{Y2(),t(null),s(!1)},[]),d={token:e,isAuthenticated:i,loading:a,pair:u,logout:f};return a2.createElement(W2.Provider,{value:d},n)}function X2(){const n=M.useContext(W2);if(!n)throw new Error("useAuth must be used within an <AuthProvider>");return n}const b3={"/":"nav.dashboard","/agent":"nav.agent","/tools":"nav.tools","/cron":"nav.cron","/integrations":"nav.integrations","/memory":"nav.memory","/config":"nav.config","/cost":"nav.cost","/logs":"nav.logs","/doctor":"nav.doctor"},tm=["en","tr","zh-CN"];function x3({onToggleSidebar:n}){const e=Qi(),{logout:t}=X2(),{locale:i,setAppLocale:s}=fj(),a=b3[e.pathname]??"nav.dashboard",o=Um(a),u=()=>{const f=tm.indexOf(i),d=tm[(f+1)%tm.length]??"en";s(d)};return b.jsxs("header",{className:"h-14 bg-gray-800 border-b border-gray-700 flex items-center justify-between px-4 md:px-6",children:[b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx("button",{type:"button",onClick:n,"aria-label":"Open navigation",className:"md:hidden p-1.5 rounded-md text-gray-300 hover:bg-gray-700 hover:text-white transition-colors",children:b.jsx(AT,{className:"h-5 w-5"})}),b.jsx("h1",{className:"text-lg font-semibold text-white",children:o})]}),b.jsxs("div",{className:"flex items-center gap-2 md:gap-4",children:[b.jsx("button",{type:"button",onClick:u,className:"px-3 py-1 rounded-md text-sm font-medium border border-gray-600 text-gray-300 hover:bg-gray-700 hover:text-white transition-colors",children:i==="en"?"EN":i==="tr"?"TR":""}),b.jsxs("button",{type:"button",onClick:t,className:"flex items-center gap-1.5 px-3 py-1.5 rounded-md text-sm text-gray-300 hover:bg-gray-700 hover:text-white transition-colors",children:[b.jsx(CT,{className:"h-4 w-4"}),b.jsx("span",{className:"hidden sm:inline",children:Um("auth.logout")})]})]})]})}function v3(){const[n,e]=M.useState(!1);return b.jsxs("div",{className:"min-h-screen bg-gray-950 text-white",children:[b.jsx(g3,{isOpen:n,onClose:()=>e(!1)}),b.jsxs("div",{className:"md:ml-60 flex flex-col min-h-screen",children:[b.jsx(x3,{onToggleSidebar:()=>e(t=>!t)}),b.jsx("main",{className:"flex-1 overflow-y-auto",children:b.jsx(MM,{})})]})]})}function S3(n){const e=Math.floor(n/86400),t=Math.floor(n%86400/3600),i=Math.floor(n%3600/60);return e>0?`${e}d ${t}h ${i}m`:t>0?`${t}h ${i}m`:`${i}m`}function w3(n){return`$${n.toFixed(4)}`}function k3(n){switch(n.toLowerCase()){case"ok":case"healthy":return"bg-green-500";case"warn":case"warning":case"degraded":return"bg-yellow-500";default:return"bg-red-500"}}function C3(n){switch(n.toLowerCase()){case"ok":case"healthy":return"border-green-500/30";case"warn":case"warning":case"degraded":return"border-yellow-500/30";default:return"border-red-500/30"}}function A3(){const[n,e]=M.useState(null),[t,i]=M.useState(null),[s,a]=M.useState(null);if(M.useEffect(()=>{Promise.all([G2(),I2()]).then(([u,f])=>{e(u),i(f)}).catch(u=>a(u.message))},[]),s)return b.jsx("div",{className:"p-6",children:b.jsxs("div",{className:"rounded-lg bg-red-900/30 border border-red-700 p-4 text-red-300",children:["Failed to load dashboard: ",s]})});if(!n||!t)return b.jsx("div",{className:"flex items-center justify-center h-64",children:b.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-2 border-blue-500 border-t-transparent"})});const o=Math.max(t.session_cost_usd,t.daily_cost_usd,t.monthly_cost_usd,.001);return b.jsxs("div",{className:"p-6 space-y-6",children:[b.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[b.jsxs("div",{className:"bg-gray-900 rounded-xl p-5 border border-gray-800",children:[b.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[b.jsx("div",{className:"p-2 bg-blue-600/20 rounded-lg",children:b.jsx(Eu,{className:"h-5 w-5 text-blue-400"})}),b.jsx("span",{className:"text-sm text-gray-400",children:"Provider / Model"})]}),b.jsx("p",{className:"text-lg font-semibold text-white truncate",children:n.provider??"Unknown"}),b.jsx("p",{className:"text-sm text-gray-400 truncate",children:n.model})]}),b.jsxs("div",{className:"bg-gray-900 rounded-xl p-5 border border-gray-800",children:[b.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[b.jsx("div",{className:"p-2 bg-green-600/20 rounded-lg",children:b.jsx(Cr,{className:"h-5 w-5 text-green-400"})}),b.jsx("span",{className:"text-sm text-gray-400",children:"Uptime"})]}),b.jsx("p",{className:"text-lg font-semibold text-white",children:S3(n.uptime_seconds)}),b.jsx("p",{className:"text-sm text-gray-400",children:"Since last restart"})]}),b.jsxs("div",{className:"bg-gray-900 rounded-xl p-5 border border-gray-800",children:[b.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[b.jsx("div",{className:"p-2 bg-purple-600/20 rounded-lg",children:b.jsx(Ya,{className:"h-5 w-5 text-purple-400"})}),b.jsx("span",{className:"text-sm text-gray-400",children:"Gateway Port"})]}),b.jsxs("p",{className:"text-lg font-semibold text-white",children:[":",n.gateway_port]}),b.jsxs("p",{className:"text-sm text-gray-400",children:["Locale: ",n.locale]})]}),b.jsxs("div",{className:"bg-gray-900 rounded-xl p-5 border border-gray-800",children:[b.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[b.jsx("div",{className:"p-2 bg-orange-600/20 rounded-lg",children:b.jsx(zm,{className:"h-5 w-5 text-orange-400"})}),b.jsx("span",{className:"text-sm text-gray-400",children:"Memory Backend"})]}),b.jsx("p",{className:"text-lg font-semibold text-white capitalize",children:n.memory_backend}),b.jsxs("p",{className:"text-sm text-gray-400",children:["Paired: ",n.paired?"Yes":"No"]})]})]}),b.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[b.jsxs("div",{className:"bg-gray-900 rounded-xl p-5 border border-gray-800",children:[b.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[b.jsx(hh,{className:"h-5 w-5 text-blue-400"}),b.jsx("h2",{className:"text-base font-semibold text-white",children:"Cost Overview"})]}),b.jsx("div",{className:"space-y-4",children:[{label:"Session",value:t.session_cost_usd,color:"bg-blue-500"},{label:"Daily",value:t.daily_cost_usd,color:"bg-green-500"},{label:"Monthly",value:t.monthly_cost_usd,color:"bg-purple-500"}].map(({label:u,value:f,color:d})=>b.jsxs("div",{children:[b.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[b.jsx("span",{className:"text-gray-400",children:u}),b.jsx("span",{className:"text-white font-medium",children:w3(f)})]}),b.jsx("div",{className:"w-full h-2 bg-gray-800 rounded-full overflow-hidden",children:b.jsx("div",{className:`h-full rounded-full ${d}`,style:{width:`${Math.max(f/o*100,2)}%`}})})]},u))}),b.jsxs("div",{className:"mt-4 pt-3 border-t border-gray-800 flex justify-between text-sm",children:[b.jsx("span",{className:"text-gray-400",children:"Total Tokens"}),b.jsx("span",{className:"text-white",children:t.total_tokens.toLocaleString()})]}),b.jsxs("div",{className:"flex justify-between text-sm mt-1",children:[b.jsx("span",{className:"text-gray-400",children:"Requests"}),b.jsx("span",{className:"text-white",children:t.request_count.toLocaleString()})]})]}),b.jsxs("div",{className:"bg-gray-900 rounded-xl p-5 border border-gray-800",children:[b.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[b.jsx(jT,{className:"h-5 w-5 text-blue-400"}),b.jsx("h2",{className:"text-base font-semibold text-white",children:"Active Channels"})]}),b.jsx("div",{className:"space-y-2",children:Object.entries(n.channels).length===0?b.jsx("p",{className:"text-sm text-gray-500",children:"No channels configured"}):Object.entries(n.channels).map(([u,f])=>b.jsxs("div",{className:"flex items-center justify-between py-2 px-3 rounded-lg bg-gray-800/50",children:[b.jsx("span",{className:"text-sm text-white capitalize",children:u}),b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("span",{className:`inline-block h-2.5 w-2.5 rounded-full ${f?"bg-green-500":"bg-gray-500"}`}),b.jsx("span",{className:"text-xs text-gray-400",children:f?"Active":"Inactive"})]})]},u))})]}),b.jsxs("div",{className:"bg-gray-900 rounded-xl p-5 border border-gray-800",children:[b.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[b.jsx(Hu,{className:"h-5 w-5 text-blue-400"}),b.jsx("h2",{className:"text-base font-semibold text-white",children:"Component Health"})]}),b.jsx("div",{className:"grid grid-cols-2 gap-3",children:Object.entries(n.health.components).length===0?b.jsx("p",{className:"text-sm text-gray-500 col-span-2",children:"No components reporting"}):Object.entries(n.health.components).map(([u,f])=>b.jsxs("div",{className:`rounded-lg p-3 border ${C3(f.status)} bg-gray-800/50`,children:[b.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[b.jsx("span",{className:`inline-block h-2 w-2 rounded-full ${k3(f.status)}`}),b.jsx("span",{className:"text-sm font-medium text-white capitalize truncate",children:u})]}),b.jsx("p",{className:"text-xs text-gray-400 capitalize",children:f.status}),f.restart_count>0&&b.jsxs("p",{className:"text-xs text-yellow-400 mt-1",children:["Restarts: ",f.restart_count]})]},u))})]})]})]})}const M3=1e3,T3=3e4,sx="zeroclaw.ws.session_id";class E3{constructor(e={}){Xe(this,"ws",null);Xe(this,"currentDelay");Xe(this,"reconnectTimer",null);Xe(this,"intentionallyClosed",!1);Xe(this,"onMessage",null);Xe(this,"onOpen",null);Xe(this,"onClose",null);Xe(this,"onError",null);Xe(this,"baseUrl");Xe(this,"reconnectDelay");Xe(this,"maxReconnectDelay");Xe(this,"autoReconnect");Xe(this,"sessionId");const t=window.location.protocol==="https:"?"wss:":"ws:";this.baseUrl=e.baseUrl??`${t}//${window.location.host}`,this.reconnectDelay=e.reconnectDelay??M3,this.maxReconnectDelay=e.maxReconnectDelay??T3,this.autoReconnect=e.autoReconnect??!0,this.currentDelay=this.reconnectDelay,this.sessionId=this.resolveSessionId()}connect(){this.intentionallyClosed=!1,this.clearReconnectTimer();const e=Ar(),t=`${this.baseUrl}/ws/chat?session_id=${encodeURIComponent(this.sessionId)}`,i=["zeroclaw.v1"];e&&i.push(`bearer.${e}`),this.ws=new WebSocket(t,i),this.ws.onopen=()=>{var s;this.currentDelay=this.reconnectDelay,(s=this.onOpen)==null||s.call(this)},this.ws.onmessage=s=>{var a;try{const o=JSON.parse(s.data);(a=this.onMessage)==null||a.call(this,o)}catch{}},this.ws.onclose=s=>{var a;(a=this.onClose)==null||a.call(this,s),this.scheduleReconnect()},this.ws.onerror=s=>{var a;(a=this.onError)==null||a.call(this,s)}}sendMessage(e){if(!this.ws||this.ws.readyState!==WebSocket.OPEN)throw new Error("WebSocket is not connected");this.ws.send(JSON.stringify({type:"message",content:e}))}disconnect(){this.intentionallyClosed=!0,this.clearReconnectTimer(),this.ws&&(this.ws.close(),this.ws=null)}get connected(){var e;return((e=this.ws)==null?void 0:e.readyState)===WebSocket.OPEN}scheduleReconnect(){this.intentionallyClosed||!this.autoReconnect||(this.reconnectTimer=setTimeout(()=>{this.currentDelay=Math.min(this.currentDelay*2,this.maxReconnectDelay),this.connect()},this.currentDelay))}clearReconnectTimer(){this.reconnectTimer!==null&&(clearTimeout(this.reconnectTimer),this.reconnectTimer=null)}resolveSessionId(){var i,s;const e=window.localStorage.getItem(sx);if(e&&/^[A-Za-z0-9_-]{1,128}$/.test(e))return e;const t=((s=(i=globalThis.crypto)==null?void 0:i.randomUUID)==null?void 0:s.call(i).replace(/-/g,"_"))??`sess_${Date.now().toString(36)}_${Math.random().toString(36).slice(2,10)}`;return window.localStorage.setItem(sx,t),t}}let rx=0;const N3="Tool execution completed, but no final response text was returned.";function ur(){var e,t;const n=(t=(e=globalThis.crypto)==null?void 0:e.randomUUID)==null?void 0:t.call(e);return n||(rx+=1,`msg_${Date.now().toString(36)}_${rx.toString(36)}_${Math.random().toString(36).slice(2,10)}`)}function D3(){const[n,e]=M.useState([]),[t,i]=M.useState(""),[s,a]=M.useState(!1),[o,u]=M.useState(!1),[f,d]=M.useState(null),p=M.useRef(null),y=M.useRef(null),x=M.useRef(null),S=M.useRef("");M.useEffect(()=>{const C=new E3;return C.onOpen=()=>{u(!0),d(null)},C.onClose=()=>{u(!1)},C.onError=()=>{d("Connection error. Attempting to reconnect...")},C.onMessage=T=>{switch(T.type){case"history":{const j=(T.messages??[]).filter(N=>{var q;return(q=N.content)==null?void 0:q.trim()}).map(N=>({id:ur(),role:N.role==="user"?"user":"agent",content:N.content.trim(),timestamp:new Date}));e(j),a(!1),S.current="";break}case"chunk":a(!0),S.current+=T.content??"";break;case"message":case"done":{const N=(T.full_response??T.content??S.current??"").trim()||N3;e(q=>[...q,{id:ur(),role:"agent",content:N,timestamp:new Date}]),S.current="",a(!1);break}case"tool_call":e(j=>[...j,{id:ur(),role:"agent",content:`[Tool Call] ${T.name??"unknown"}(${JSON.stringify(T.args??{})})`,timestamp:new Date}]);break;case"tool_result":e(j=>[...j,{id:ur(),role:"agent",content:`[Tool Result] ${T.output??""}`,timestamp:new Date}]);break;case"error":e(j=>[...j,{id:ur(),role:"agent",content:`[Error] ${T.message??"Unknown error"}`,timestamp:new Date}]),a(!1),S.current="";break}},C.connect(),p.current=C,()=>{C.disconnect()}},[]),M.useEffect(()=>{var C;(C=y.current)==null||C.scrollIntoView({behavior:"smooth"})},[n,s]);const w=()=>{var T,j;const C=t.trim();if(!(!C||!((T=p.current)!=null&&T.connected))){e(N=>[...N,{id:ur(),role:"user",content:C,timestamp:new Date}]);try{p.current.sendMessage(C),a(!0),S.current=""}catch{d("Failed to send message. Please try again.")}i(""),(j=x.current)==null||j.focus()}},A=C=>{C.key==="Enter"&&!C.shiftKey&&(C.preventDefault(),w())};return b.jsxs("div",{className:"flex flex-col h-[calc(100vh-3.5rem)]",children:[f&&b.jsxs("div",{className:"px-4 py-2 bg-red-900/30 border-b border-red-700 flex items-center gap-2 text-sm text-red-300",children:[b.jsx(D2,{className:"h-4 w-4 flex-shrink-0"}),f]}),b.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[n.length===0&&b.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-gray-500",children:[b.jsx(Tu,{className:"h-12 w-12 mb-3 text-gray-600"}),b.jsx("p",{className:"text-lg font-medium",children:"ZeroClaw Agent"}),b.jsx("p",{className:"text-sm mt-1",children:"Send a message to start the conversation"})]}),n.map(C=>b.jsxs("div",{className:`flex items-start gap-3 ${C.role==="user"?"flex-row-reverse":""}`,children:[b.jsx("div",{className:`flex-shrink-0 w-8 h-8 rounded-full flex items-center justify-center ${C.role==="user"?"bg-blue-600":"bg-gray-700"}`,children:C.role==="user"?b.jsx(GT,{className:"h-4 w-4 text-white"}):b.jsx(Tu,{className:"h-4 w-4 text-white"})}),b.jsxs("div",{className:`max-w-[75%] rounded-xl px-4 py-3 ${C.role==="user"?"bg-blue-600 text-white":"bg-gray-800 text-gray-100 border border-gray-700"}`,children:[b.jsx("p",{className:"text-sm whitespace-pre-wrap break-words",children:C.content}),b.jsx("p",{className:`text-xs mt-1 ${C.role==="user"?"text-blue-200":"text-gray-500"}`,children:C.timestamp.toLocaleTimeString()})]})]},C.id)),s&&b.jsxs("div",{className:"flex items-start gap-3",children:[b.jsx("div",{className:"flex-shrink-0 w-8 h-8 rounded-full bg-gray-700 flex items-center justify-center",children:b.jsx(Tu,{className:"h-4 w-4 text-white"})}),b.jsxs("div",{className:"bg-gray-800 border border-gray-700 rounded-xl px-4 py-3",children:[b.jsxs("div",{className:"flex items-center gap-1",children:[b.jsx("span",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0ms"}}),b.jsx("span",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"150ms"}}),b.jsx("span",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"300ms"}})]}),b.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Typing..."})]})]}),b.jsx("div",{ref:y})]}),b.jsxs("div",{className:"border-t border-gray-800 bg-gray-900 p-4",children:[b.jsxs("div",{className:"flex items-center gap-3 max-w-4xl mx-auto",children:[b.jsx("div",{className:"flex-1 relative",children:b.jsx("input",{ref:x,type:"text",value:t,onChange:C=>i(C.target.value),onKeyDown:A,placeholder:o?"Type a message...":"Connecting...",disabled:!o,className:"w-full bg-gray-800 border border-gray-700 rounded-xl px-4 py-3 text-sm text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent disabled:opacity-50"})}),b.jsx("button",{onClick:w,disabled:!o||!t.trim(),className:"flex-shrink-0 bg-blue-600 hover:bg-blue-700 disabled:bg-gray-700 disabled:text-gray-500 text-white rounded-xl p-3 transition-colors",children:b.jsx(z2,{className:"h-5 w-5"})})]}),b.jsxs("div",{className:"flex items-center justify-center mt-2 gap-2",children:[b.jsx("span",{className:`inline-block h-2 w-2 rounded-full ${o?"bg-green-500":"bg-red-500"}`}),b.jsx("span",{className:"text-xs text-gray-500",children:o?"Connected":"Disconnected"})]})]})]})}function O3(){const[n,e]=M.useState([]),[t,i]=M.useState([]),[s,a]=M.useState(""),[o,u]=M.useState(null),[f,d]=M.useState(!0),[p,y]=M.useState(null);M.useEffect(()=>{Promise.all([t3(),d3()]).then(([w,A])=>{e(w),i(A)}).catch(w=>y(w.message)).finally(()=>d(!1))},[]);const x=n.filter(w=>w.name.toLowerCase().includes(s.toLowerCase())||w.description.toLowerCase().includes(s.toLowerCase())),S=t.filter(w=>w.name.toLowerCase().includes(s.toLowerCase())||w.category.toLowerCase().includes(s.toLowerCase()));return p?b.jsx("div",{className:"p-6",children:b.jsxs("div",{className:"rounded-lg bg-red-900/30 border border-red-700 p-4 text-red-300",children:["Failed to load tools: ",p]})}):f?b.jsx("div",{className:"flex items-center justify-center h-64",children:b.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-2 border-blue-500 border-t-transparent"})}):b.jsxs("div",{className:"p-6 space-y-6",children:[b.jsxs("div",{className:"relative max-w-md",children:[b.jsx(fh,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-500"}),b.jsx("input",{type:"text",value:s,onChange:w=>a(w.target.value),placeholder:"Search tools...",className:"w-full bg-gray-900 border border-gray-700 rounded-lg pl-10 pr-4 py-2.5 text-sm text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),b.jsxs("div",{children:[b.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[b.jsx(U2,{className:"h-5 w-5 text-blue-400"}),b.jsxs("h2",{className:"text-base font-semibold text-white",children:["Agent Tools (",x.length,")"]})]}),x.length===0?b.jsx("p",{className:"text-sm text-gray-500",children:"No tools match your search."}):b.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4",children:x.map(w=>{const A=o===w.name;return b.jsxs("div",{className:"bg-gray-900 rounded-xl border border-gray-800 overflow-hidden",children:[b.jsxs("button",{onClick:()=>u(A?null:w.name),className:"w-full text-left p-4 hover:bg-gray-800/50 transition-colors",children:[b.jsxs("div",{className:"flex items-start justify-between gap-2",children:[b.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[b.jsx(DT,{className:"h-4 w-4 text-blue-400 flex-shrink-0 mt-0.5"}),b.jsx("h3",{className:"text-sm font-semibold text-white truncate",children:w.name})]}),A?b.jsx(E2,{className:"h-4 w-4 text-gray-400 flex-shrink-0"}):b.jsx(N2,{className:"h-4 w-4 text-gray-400 flex-shrink-0"})]}),b.jsx("p",{className:"text-sm text-gray-400 mt-2 line-clamp-2",children:w.description})]}),A&&w.parameters&&b.jsxs("div",{className:"border-t border-gray-800 p-4",children:[b.jsx("p",{className:"text-xs text-gray-500 mb-2 font-medium uppercase tracking-wider",children:"Parameter Schema"}),b.jsx("pre",{className:"text-xs text-gray-300 bg-gray-950 rounded-lg p-3 overflow-x-auto max-h-64 overflow-y-auto",children:JSON.stringify(w.parameters,null,2)})]})]},w.name)})})]}),S.length>0&&b.jsxs("div",{children:[b.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[b.jsx(PT,{className:"h-5 w-5 text-green-400"}),b.jsxs("h2",{className:"text-base font-semibold text-white",children:["CLI Tools (",S.length,")"]})]}),b.jsx("div",{className:"bg-gray-900 rounded-xl border border-gray-800 overflow-hidden",children:b.jsxs("table",{className:"w-full text-sm",children:[b.jsx("thead",{children:b.jsxs("tr",{className:"border-b border-gray-800",children:[b.jsx("th",{className:"text-left px-4 py-3 text-gray-400 font-medium",children:"Name"}),b.jsx("th",{className:"text-left px-4 py-3 text-gray-400 font-medium",children:"Path"}),b.jsx("th",{className:"text-left px-4 py-3 text-gray-400 font-medium",children:"Version"}),b.jsx("th",{className:"text-left px-4 py-3 text-gray-400 font-medium",children:"Category"})]})}),b.jsx("tbody",{children:S.map(w=>b.jsxs("tr",{className:"border-b border-gray-800/50 hover:bg-gray-800/30 transition-colors",children:[b.jsx("td",{className:"px-4 py-3 text-white font-medium",children:w.name}),b.jsx("td",{className:"px-4 py-3 text-gray-400 font-mono text-xs truncate max-w-[200px]",children:w.path}),b.jsx("td",{className:"px-4 py-3 text-gray-400",children:w.version??"-"}),b.jsx("td",{className:"px-4 py-3",children:b.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-gray-800 text-gray-300 capitalize",children:w.category})})]},w.name))})]})})]})]})}function R3(n){return n?new Date(n).toLocaleString():"-"}function j3(){const[n,e]=M.useState([]),[t,i]=M.useState(!0),[s,a]=M.useState(null),[o,u]=M.useState(!1),[f,d]=M.useState(null),[p,y]=M.useState(""),[x,S]=M.useState(""),[w,A]=M.useState(""),[C,T]=M.useState(null),[j,N]=M.useState(!1),q=()=>{i(!0),n3().then(e).catch(Q=>a(Q.message)).finally(()=>i(!1))};M.useEffect(()=>{q()},[]);const B=async()=>{if(!x.trim()||!w.trim()){T("Schedule and command are required.");return}N(!0),T(null);try{const Q=await i3({name:p.trim()||void 0,schedule:x.trim(),command:w.trim()});e(Z=>[...Z,Q]),u(!1),y(""),S(""),A("")}catch(Q){T(Q instanceof Error?Q.message:"Failed to add job")}finally{N(!1)}},G=async Q=>{try{await l3(Q),e(Z=>Z.filter(ue=>ue.id!==Q))}catch(Z){a(Z instanceof Error?Z.message:"Failed to delete job")}finally{d(null)}},V=Q=>{if(!Q)return null;switch(Q.toLowerCase()){case"ok":case"success":return b.jsx(uh,{className:"h-4 w-4 text-green-400"});case"error":case"failed":return b.jsx(Ip,{className:"h-4 w-4 text-red-400"});default:return b.jsx(D2,{className:"h-4 w-4 text-yellow-400"})}};return s?b.jsx("div",{className:"p-6",children:b.jsxs("div",{className:"rounded-lg bg-red-900/30 border border-red-700 p-4 text-red-300",children:["Failed to load cron jobs: ",s]})}):t?b.jsx("div",{className:"flex items-center justify-center h-64",children:b.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-2 border-blue-500 border-t-transparent"})}):b.jsxs("div",{className:"p-6 space-y-6",children:[b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx(Cr,{className:"h-5 w-5 text-blue-400"}),b.jsxs("h2",{className:"text-base font-semibold text-white",children:["Scheduled Tasks (",n.length,")"]})]}),b.jsxs("button",{onClick:()=>u(!0),className:"flex items-center gap-2 bg-blue-600 hover:bg-blue-700 text-white text-sm font-medium px-4 py-2 rounded-lg transition-colors",children:[b.jsx(L2,{className:"h-4 w-4"}),"Add Job"]})]}),o&&b.jsx("div",{className:"fixed inset-0 bg-black/60 flex items-center justify-center z-50",children:b.jsxs("div",{className:"bg-gray-900 border border-gray-700 rounded-xl p-6 w-full max-w-md mx-4",children:[b.jsxs("div",{className:"flex items-center justify-between mb-4",children:[b.jsx("h3",{className:"text-lg font-semibold text-white",children:"Add Cron Job"}),b.jsx("button",{onClick:()=>{u(!1),T(null)},className:"text-gray-400 hover:text-white transition-colors",children:b.jsx(To,{className:"h-5 w-5"})})]}),C&&b.jsx("div",{className:"mb-4 rounded-lg bg-red-900/30 border border-red-700 p-3 text-sm text-red-300",children:C}),b.jsxs("div",{className:"space-y-4",children:[b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Name (optional)"}),b.jsx("input",{type:"text",value:p,onChange:Q=>y(Q.target.value),placeholder:"e.g. Daily cleanup",className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-3 py-2 text-sm text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),b.jsxs("div",{children:[b.jsxs("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:["Schedule ",b.jsx("span",{className:"text-red-400",children:"*"})]}),b.jsx("input",{type:"text",value:x,onChange:Q=>S(Q.target.value),placeholder:"e.g. 0 0 * * * (cron expression)",className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-3 py-2 text-sm text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),b.jsxs("div",{children:[b.jsxs("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:["Command ",b.jsx("span",{className:"text-red-400",children:"*"})]}),b.jsx("input",{type:"text",value:w,onChange:Q=>A(Q.target.value),placeholder:"e.g. cleanup --older-than 7d",className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-3 py-2 text-sm text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),b.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[b.jsx("button",{onClick:()=>{u(!1),T(null)},className:"px-4 py-2 text-sm font-medium text-gray-300 hover:text-white border border-gray-700 rounded-lg hover:bg-gray-800 transition-colors",children:"Cancel"}),b.jsx("button",{onClick:B,disabled:j,className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 rounded-lg transition-colors disabled:opacity-50",children:j?"Adding...":"Add Job"})]})]})}),n.length===0?b.jsxs("div",{className:"bg-gray-900 rounded-xl border border-gray-800 p-8 text-center",children:[b.jsx(Cr,{className:"h-10 w-10 text-gray-600 mx-auto mb-3"}),b.jsx("p",{className:"text-gray-400",children:"No scheduled tasks configured."})]}):b.jsx("div",{className:"bg-gray-900 rounded-xl border border-gray-800 overflow-x-auto",children:b.jsxs("table",{className:"w-full text-sm",children:[b.jsx("thead",{children:b.jsxs("tr",{className:"border-b border-gray-800",children:[b.jsx("th",{className:"text-left px-4 py-3 text-gray-400 font-medium",children:"ID"}),b.jsx("th",{className:"text-left px-4 py-3 text-gray-400 font-medium",children:"Name"}),b.jsx("th",{className:"text-left px-4 py-3 text-gray-400 font-medium",children:"Command"}),b.jsx("th",{className:"text-left px-4 py-3 text-gray-400 font-medium",children:"Next Run"}),b.jsx("th",{className:"text-left px-4 py-3 text-gray-400 font-medium",children:"Last Status"}),b.jsx("th",{className:"text-left px-4 py-3 text-gray-400 font-medium",children:"Enabled"}),b.jsx("th",{className:"text-right px-4 py-3 text-gray-400 font-medium",children:"Actions"})]})}),b.jsx("tbody",{children:n.map(Q=>b.jsxs("tr",{className:"border-b border-gray-800/50 hover:bg-gray-800/30 transition-colors",children:[b.jsx("td",{className:"px-4 py-3 text-gray-400 font-mono text-xs",children:Q.id.slice(0,8)}),b.jsx("td",{className:"px-4 py-3 text-white font-medium",children:Q.name??"-"}),b.jsx("td",{className:"px-4 py-3 text-gray-300 font-mono text-xs max-w-[200px] truncate",children:Q.command}),b.jsx("td",{className:"px-4 py-3 text-gray-400 text-xs",children:R3(Q.next_run)}),b.jsx("td",{className:"px-4 py-3",children:b.jsxs("div",{className:"flex items-center gap-1.5",children:[V(Q.last_status),b.jsx("span",{className:"text-gray-300 text-xs capitalize",children:Q.last_status??"-"})]})}),b.jsx("td",{className:"px-4 py-3",children:b.jsx("span",{className:`inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium ${Q.enabled?"bg-green-900/40 text-green-400 border border-green-700/50":"bg-gray-800 text-gray-500 border border-gray-700"}`,children:Q.enabled?"Enabled":"Disabled"})}),b.jsx("td",{className:"px-4 py-3 text-right",children:f===Q.id?b.jsxs("div",{className:"flex items-center justify-end gap-2",children:[b.jsx("span",{className:"text-xs text-red-400",children:"Delete?"}),b.jsx("button",{onClick:()=>G(Q.id),className:"text-red-400 hover:text-red-300 text-xs font-medium",children:"Yes"}),b.jsx("button",{onClick:()=>d(null),className:"text-gray-400 hover:text-white text-xs font-medium",children:"No"})]}):b.jsx("button",{onClick:()=>d(Q.id),className:"text-gray-400 hover:text-red-400 transition-colors",children:b.jsx(V2,{className:"h-4 w-4"})})})]},Q.id))})]})})]})}function _3(n){switch(n){case"Active":return{icon:mT,label:"Active",classes:"bg-green-900/40 text-green-400 border-green-700/50"};case"Available":return{icon:FT,label:"Available",classes:"bg-blue-900/40 text-blue-400 border-blue-700/50"};case"ComingSoon":return{icon:Cr,label:"Coming Soon",classes:"bg-gray-800 text-gray-400 border-gray-700"}}}function ax(n){return n&&n.replace(/([a-z])([A-Z])/g,"$1 $2").replace(/Ai/g,"AI")}const Ba="__keep__",tu="__custom__",ox="__clear__",L3={openrouter:["anthropic/claude-sonnet-4-6","openai/gpt-5.2","google/gemini-3.1-pro"],anthropic:["claude-sonnet-4-6","claude-opus-4-6"],openai:["gpt-5.2","gpt-5.2-codex","gpt-4o"],google:["google/gemini-3.1-pro","google/gemini-3-flash","google/gemini-2.5-pro"],deepseek:["deepseek/deepseek-reasoner","deepseek/deepseek-chat"],xai:["x-ai/grok-4","x-ai/grok-3"],mistral:["mistral-large-latest","codestral-latest","mistral-small-latest"],perplexity:["sonar-pro","sonar-reasoning-pro","sonar"],vercel:["openai/gpt-5.2","anthropic/claude-sonnet-4-6","google/gemini-3.1-pro"],bedrock:["anthropic.claude-sonnet-4-5-20250929-v1:0","anthropic.claude-opus-4-6-v1:0"],groq:["llama-3.3-70b-versatile","mixtral-8x7b-32768"],together:["meta-llama/Llama-3.3-70B-Instruct-Turbo","Qwen/Qwen2.5-72B-Instruct-Turbo","deepseek-ai/DeepSeek-R1-Distill-Llama-70B"],cohere:["command-r-plus-08-2024","command-r-08-2024"]};function cx(n){return n==="openrouter"||n==="vercel"?"Format: anthropic/claude-sonnet-4-6":"Format: claude-sonnet-4-6 (or provider/model when required)"}function za(n,e){var t;return e.key!=="default_model"?e.options??[]:(t=e.options)!=null&&t.length?e.options:L3[n]??[]}function B3(){const[n,e]=M.useState([]),[t,i]=M.useState({}),[s,a]=M.useState(""),[o,u]=M.useState(!0),[f,d]=M.useState(null),[p,y]=M.useState("all"),[x,S]=M.useState(null),[w,A]=M.useState({}),[C,T]=M.useState({}),[j,N]=M.useState({}),[q,B]=M.useState(!1),[G,V]=M.useState(null),[Q,Z]=M.useState(null),[ue,fe]=M.useState(null),[ne,pe]=M.useState(null),[J,ve]=M.useState({}),[z,K]=M.useState(null),[$,ie]=M.useState(null),ge=te=>te.fields.reduce((be,ke)=>(za(te.id,ke).length>0?be[ke.key]=ke.has_value?Ba:"":be[ke.key]="",be),{}),D=te=>te.fields.find(be=>be.key==="default_model"),P=te=>{const be=D(te);return be?za(te.id,be)[0]??null:null},ee=(te,be)=>{var ct,Ge,me;if(be&&((ct=ue==null?void 0:ue.model)!=null&&ct.trim()))return ue.model.trim();const ke=(me=(Ge=D(te))==null?void 0:Ge.current_value)==null?void 0:me.trim();return ke||null},se=Object.values(t).find(te=>te.id===ne),ye=async(te=!0)=>{te&&u(!0),d(null);try{const[be,ke,ct]=await Promise.all([s3(),r3(),G2().catch(()=>null)]),Ge=ke.integrations.reduce((me,et)=>(me[et.name]=et,me),{});return e(be),a(ke.revision),i(Ge),pe(ke.active_default_provider_integration_id??null),fe(ct?{model:ct.model}:null),Ge}catch(be){return d(be instanceof Error?be.message:"Failed to load integrations"),pe(null),fe(null),null}finally{te&&u(!1)}};M.useEffect(()=>{ye()},[]),M.useEffect(()=>{if(!Q)return;const te=setTimeout(()=>Z(null),4e3);return()=>clearTimeout(te)},[Q]),M.useEffect(()=>{if(!x)return;const te=be=>{be.key==="Escape"&&Ne()};return window.addEventListener("keydown",te),()=>window.removeEventListener("keydown",te)},[x,q]);const Ce=te=>{S(te),A(ge(te)),T({}),N({}),V(null)},Ne=()=>{q||(S(null),A({}),T({}),N({}),V(null))},Mt=(te,be)=>{A(ke=>({...ke,[te]:be})),N(ke=>({...ke,[te]:!0}))},ot=(te,be)=>{T(ke=>({...ke,[te]:be})),N(ke=>({...ke,[te]:!0}))},Hl=async()=>{if(!x)return;V(null),ie(null);const te={};for(const be of x.fields){const ke=w[be.key]??"",ct=!!j[be.key],Ge=za(x.id,be).length>0;let me=ke;if(Ge)if(ke===Ba){if(be.required&&!be.has_value){V(`${be.label} is required.`);return}if(ct)continue}else ke===tu?me=C[be.key]??"":ke===ox&&(me="");const et=me.trim();if(Ge&&ke===tu&&!et){V(`Enter a custom value for ${be.label} or choose a recommended model.`);return}if(be.required&&!et&&!be.has_value){V(`${be.label} is required.`);return}if(ct){if(Ge&&ke===Ba)continue;te[be.key]=me}}if(Object.keys(te).length===0&&!x.activates_default_provider){V("No changes to save.");return}if(x.activates_default_provider&&ne&&x.id!==ne){const be=(se==null?void 0:se.name)??"current provider";if(!window.confirm(`Switch default AI provider from ${be} to ${x.name}?`))return}B(!0);try{await ix(x.id,{revision:s,fields:te}),await ye(!1),Z(`${x.name} credentials saved.`),Ne()}catch(be){const ke=be instanceof Error?be.message:"Failed to save credentials";if(ke.includes("API 409")){const ct=await ye(!1);if(ct){const Ge=ct[x.name];Ge&&(S(Ge),A(ge(Ge)),T({}),N({}))}V("Configuration changed elsewhere. Refreshed latest settings; re-enter values and save again.")}else V(ke)}finally{B(!1)}},ks=async(te,be,ke,ct)=>{const Ge=be.trim();if(!(!Ge||Ge===ke)){if(ne&&!ct&&te.id!==ne){const me=(se==null?void 0:se.name)??"current provider";if(!window.confirm(`Switch default AI provider from ${me} to ${te.name} and set model to ${Ge}?`))return}K(te.id),ie(null),V(null);try{await ix(te.id,{revision:s,fields:{default_model:Ge}}),await ye(!1),Z(`Model updated to ${Ge} for ${te.name}.`),ve(me=>{const et={...me};return delete et[te.id],et})}catch(me){const et=me instanceof Error?me.message:"Failed to update model";et.includes("API 409")?(await ye(!1),ie("Configuration changed elsewhere. Refreshed latest settings; choose the model again.")):ie(et)}finally{K(null)}}},Vr=["all",...Array.from(new Set(n.map(te=>te.category))).sort()],ei=(p==="all"?n:n.filter(te=>te.category===p)).reduce((te,be)=>{const ke=be.category;return te[ke]||(te[ke]=[]),te[ke].push(be),te},{});return f?b.jsx("div",{className:"p-6",children:b.jsxs("div",{className:"rounded-lg bg-red-900/30 border border-red-700 p-4 text-red-300",children:["Failed to load integrations: ",f]})}):o?b.jsx("div",{className:"flex items-center justify-center h-64",children:b.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-2 border-blue-500 border-t-transparent"})}):b.jsxs("div",{className:"p-6 space-y-6",children:[b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx(lo,{className:"h-5 w-5 text-blue-400"}),b.jsxs("h2",{className:"text-base font-semibold text-white",children:["Integrations (",n.length,")"]})]}),Q&&b.jsx("div",{className:"rounded-lg bg-green-900/30 border border-green-700 p-3 text-sm text-green-300",children:Q}),$&&b.jsx("div",{className:"rounded-lg bg-red-900/30 border border-red-700 p-3 text-sm text-red-300",children:$}),b.jsx("div",{className:"flex flex-wrap gap-2",children:Vr.map(te=>b.jsx("button",{onClick:()=>y(te),className:`px-3 py-1.5 rounded-lg text-sm font-medium transition-colors capitalize ${p===te?"bg-blue-600 text-white":"bg-gray-900 text-gray-400 border border-gray-700 hover:bg-gray-800 hover:text-white"}`,children:te==="all"?"All":ax(te)},te))}),Object.keys(ei).length===0?b.jsxs("div",{className:"bg-gray-900 rounded-xl border border-gray-800 p-8 text-center",children:[b.jsx(lo,{className:"h-10 w-10 text-gray-600 mx-auto mb-3"}),b.jsx("p",{className:"text-gray-400",children:"No integrations found."})]}):Object.entries(ei).sort(([te],[be])=>te.localeCompare(be)).map(([te,be])=>b.jsxs("div",{children:[b.jsx("h3",{className:"text-sm font-semibold text-gray-400 uppercase tracking-wider mb-3 capitalize",children:ax(te)}),b.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4",children:be.map(ke=>{const ct=_3(ke.status),Ge=ct.icon,me=t[ke.name],et=!!(me!=null&&me.activates_default_provider),ti=!!me&&et&&me.id===ne,Vl=me?D(me):void 0,wt=me&&Vl?za(me.id,Vl):[],Tt=me&&et?ee(me,ti):null,Cs=me&&et?P(me):null,Ur=Tt||(Cs?`default: ${Cs}`:"default"),Zi=Tt??Cs??"",As=me?J[me.id]??Zi:"",qr=[...Tt&&!wt.includes(Tt)?[Tt]:[],...wt],Oh=!!me&&me.configured&&et&&qr.length>0;return b.jsxs("div",{className:`bg-gray-900 rounded-xl border p-5 transition-colors ${ti?"border-green-700/70 bg-gradient-to-b from-green-950/20 to-gray-900":"border-gray-800 hover:border-gray-700"}`,children:[b.jsxs("div",{className:"flex items-start justify-between gap-3",children:[b.jsxs("div",{className:"min-w-0",children:[b.jsx("h4",{className:"text-sm font-semibold text-white truncate",children:ke.name}),b.jsx("p",{className:"text-sm text-gray-400 mt-1 line-clamp-2",children:ke.description})]}),b.jsxs("div",{className:"flex items-center gap-1.5 flex-wrap justify-end",children:[et&&(me==null?void 0:me.configured)&&b.jsx("span",{className:`flex-shrink-0 inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium border ${ti?"bg-emerald-900/40 text-emerald-300 border-emerald-700/60":"bg-gray-800 text-gray-300 border-gray-700"}`,children:ti?"Default":"Configured"}),b.jsxs("span",{className:`flex-shrink-0 inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium border ${ct.classes}`,children:[b.jsx(Ge,{className:"h-3 w-3"}),ct.label]})]})]}),me&&et&&me.configured&&b.jsxs("div",{className:"mt-3 rounded-lg border border-gray-800 bg-gray-950/50 p-3 space-y-2",children:[b.jsxs("div",{className:"flex items-center justify-between gap-2",children:[b.jsx("span",{className:"text-[11px] uppercase tracking-wider text-gray-500",children:"Current model"}),b.jsx("span",{className:"text-xs text-gray-200 truncate",title:Ur,children:Ur})]}),Oh&&me&&b.jsxs("div",{className:"space-y-1",children:[b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("select",{value:As,onChange:Ul=>ve(ql=>({...ql,[me.id]:Ul.target.value})),disabled:z===me.id,className:"min-w-0 flex-1 px-2.5 py-1.5 rounded-lg bg-gray-950 border border-gray-700 text-xs text-gray-200 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent disabled:opacity-50",children:qr.map(Ul=>b.jsx("option",{value:Ul,children:Ul},Ul))}),b.jsx("button",{onClick:()=>me&&void ks(me,As,Zi,ti),disabled:z===me.id||!As||As===Zi,className:"px-2.5 py-1.5 rounded-lg text-xs font-medium bg-blue-600 hover:bg-blue-700 text-white transition-colors disabled:opacity-50",children:z===me.id?"Saving...":"Apply"})]}),b.jsx("p",{className:"text-[11px] text-gray-500",children:"For custom model IDs, use Edit Keys."})]})]}),me&&b.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-800 flex items-center justify-between gap-3",children:[b.jsx("div",{className:"text-xs text-gray-400",children:me.configured?me.activates_default_provider?ti?"Default provider configured":"Provider configured":"Credentials configured":"Credentials not configured"}),b.jsxs("button",{onClick:()=>Ce(me),className:"inline-flex items-center gap-1.5 px-3 py-1.5 rounded-lg border border-blue-700/70 bg-blue-900/30 hover:bg-blue-900/50 text-blue-300 text-xs font-medium transition-colors",children:[b.jsx(j2,{className:"h-3.5 w-3.5"}),me.configured?"Edit Keys":"Configure"]})]})]},ke.name)})})]},te)),x&&b.jsx("div",{className:"fixed inset-0 z-50 bg-black/70 flex items-center justify-center p-4",onMouseDown:te=>{te.target===te.currentTarget&&Ne()},children:b.jsxs("div",{className:"w-full max-w-lg bg-gray-900 border border-gray-800 rounded-xl shadow-xl",children:[b.jsxs("div",{className:"px-5 py-4 border-b border-gray-800 flex items-center justify-between gap-3",children:[b.jsxs("div",{children:[b.jsxs("h3",{className:"text-sm font-semibold text-white",children:["Configure ",x.name]}),b.jsx("p",{className:"text-xs text-gray-400 mt-0.5",children:x.configured?"Enter only fields you want to update.":"Enter required fields to configure this integration."})]}),b.jsx("button",{onClick:Ne,disabled:q,className:"text-gray-400 hover:text-white transition-colors disabled:opacity-50","aria-label":"Close",children:b.jsx(To,{className:"h-4 w-4"})})]}),b.jsxs("div",{className:"p-5 space-y-4",children:[x.activates_default_provider&&b.jsxs("div",{className:"rounded-lg border border-blue-800 bg-blue-950/30 p-3 text-xs text-blue-200",children:["Saving here updates credentials and switches your default AI provider to"," ",b.jsx("strong",{children:x.name}),". For advanced provider settings, use"," ",b.jsx(Gp,{to:"/config",className:"underline underline-offset-2 hover:text-blue-100",children:"Configuration"}),"."]}),x.fields.map(te=>(()=>{var Vl,wt;const be=za(x.id,te),ke=be.length>0,ct=te.input_type==="secret",Ge=ct?te.masked_value||(te.has_value?"":void 0):void 0,me=x.activates_default_provider&&x.id===ne,et=((Vl=te.current_value)==null?void 0:Vl.trim())||me&&((wt=ue==null?void 0:ue.model)==null?void 0:wt.trim())||"",ti=et?`Keep current model (${et})`:"Keep current model";return b.jsxs("div",{children:[b.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-300 mb-1.5",children:[b.jsx("span",{children:te.label}),te.required&&b.jsx("span",{className:"text-red-400",children:"*"}),te.has_value&&b.jsx("span",{className:"text-[11px] text-green-400 bg-green-900/30 border border-green-800 px-1.5 py-0.5 rounded",children:"Configured"})]}),ke?b.jsxs("div",{className:"space-y-2",children:[b.jsxs("select",{value:w[te.key]??(te.has_value?Ba:""),onChange:Tt=>Mt(te.key,Tt.target.value),className:"w-full px-3 py-2 rounded-lg bg-gray-950 border border-gray-700 text-sm text-gray-200 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[te.has_value?b.jsx("option",{value:Ba,children:ti}):b.jsx("option",{value:"",disabled:!0,children:"Select a recommended model"}),be.map(Tt=>b.jsx("option",{value:Tt,children:Tt},Tt)),b.jsx("option",{value:tu,children:"Custom model..."}),te.has_value&&b.jsx("option",{value:ox,children:"Clear current model"})]}),w[te.key]===tu&&b.jsx("input",{type:"text",value:C[te.key]??"",onChange:Tt=>ot(te.key,Tt.target.value),placeholder:cx(x.id),className:"w-full px-3 py-2 rounded-lg bg-gray-950 border border-gray-700 text-sm text-gray-200 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),b.jsxs("p",{className:"text-[11px] text-gray-500",children:["Pick a recommended model or choose Custom model. ",cx(x.id),"."]})]}):b.jsxs("div",{className:"space-y-2",children:[Ge&&b.jsxs("p",{className:"text-[11px] text-gray-500",children:["Current value: ",b.jsx("span",{className:"font-mono text-gray-300",children:Ge})]}),b.jsx("input",{type:ct?"password":"text",value:w[te.key]??"",onChange:Tt=>Mt(te.key,Tt.target.value),placeholder:te.required?te.has_value?"Enter a new value to replace current":"Enter value":te.has_value?"Type new value, or leave empty to keep current":"Optional",className:"w-full px-3 py-2 rounded-lg bg-gray-950 border border-gray-700 text-sm text-gray-200 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]},te.key)})()),G&&b.jsx("div",{className:"rounded-lg bg-red-900/30 border border-red-700 p-3 text-sm text-red-300",children:G})]}),b.jsxs("div",{className:"px-5 py-4 border-t border-gray-800 flex items-center justify-end gap-2",children:[b.jsx("button",{onClick:Ne,disabled:q,className:"px-4 py-2 rounded-lg text-sm border border-gray-700 text-gray-300 hover:bg-gray-800 transition-colors disabled:opacity-50",children:"Cancel"}),b.jsx("button",{onClick:Hl,disabled:q,className:"px-4 py-2 rounded-lg text-sm font-medium bg-blue-600 hover:bg-blue-700 text-white transition-colors disabled:opacity-50",children:q?"Saving...":x.activates_default_provider?"Save & Activate":"Save Keys"})]})]})})]})}function z3(n,e){return n.length<=e?n:n.slice(0,e)+"..."}function H3(n){return new Date(n).toLocaleString()}function V3(){const[n,e]=M.useState([]),[t,i]=M.useState(!0),[s,a]=M.useState(null),[o,u]=M.useState(""),[f,d]=M.useState(""),[p,y]=M.useState(!1),[x,S]=M.useState(null),[w,A]=M.useState(""),[C,T]=M.useState(""),[j,N]=M.useState(""),[q,B]=M.useState(null),[G,V]=M.useState(!1),Q=(J,ve)=>{i(!0),o3(J||void 0,ve||void 0).then(e).catch(z=>a(z.message)).finally(()=>i(!1))};M.useEffect(()=>{Q()},[]);const Z=()=>{Q(o,f)},ue=J=>{J.key==="Enter"&&Z()},fe=Array.from(new Set(n.map(J=>J.category))).sort(),ne=async()=>{if(!w.trim()||!C.trim()){B("Key and content are required.");return}V(!0),B(null);try{await c3(w.trim(),C.trim(),j.trim()||void 0),Q(o,f),y(!1),A(""),T(""),N("")}catch(J){B(J instanceof Error?J.message:"Failed to store memory")}finally{V(!1)}},pe=async J=>{try{await u3(J),e(ve=>ve.filter(z=>z.key!==J))}catch(ve){a(ve instanceof Error?ve.message:"Failed to delete memory")}finally{S(null)}};return s&&n.length===0?b.jsx("div",{className:"p-6",children:b.jsxs("div",{className:"rounded-lg bg-red-900/30 border border-red-700 p-4 text-red-300",children:["Failed to load memory: ",s]})}):b.jsxs("div",{className:"p-6 space-y-6",children:[b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx(Bm,{className:"h-5 w-5 text-blue-400"}),b.jsxs("h2",{className:"text-base font-semibold text-white",children:["Memory (",n.length,")"]})]}),b.jsxs("button",{onClick:()=>y(!0),className:"flex items-center gap-2 bg-blue-600 hover:bg-blue-700 text-white text-sm font-medium px-4 py-2 rounded-lg transition-colors",children:[b.jsx(L2,{className:"h-4 w-4"}),"Add Memory"]})]}),b.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[b.jsxs("div",{className:"relative flex-1",children:[b.jsx(fh,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-500"}),b.jsx("input",{type:"text",value:o,onChange:J=>u(J.target.value),onKeyDown:ue,placeholder:"Search memory entries...",className:"w-full bg-gray-900 border border-gray-700 rounded-lg pl-10 pr-4 py-2.5 text-sm text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),b.jsxs("div",{className:"relative",children:[b.jsx(Fp,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-500"}),b.jsxs("select",{value:f,onChange:J=>d(J.target.value),className:"bg-gray-900 border border-gray-700 rounded-lg pl-10 pr-8 py-2.5 text-sm text-white appearance-none focus:outline-none focus:ring-2 focus:ring-blue-500 cursor-pointer",children:[b.jsx("option",{value:"",children:"All Categories"}),fe.map(J=>b.jsx("option",{value:J,children:J},J))]})]}),b.jsx("button",{onClick:Z,className:"px-4 py-2.5 bg-blue-600 hover:bg-blue-700 text-white text-sm font-medium rounded-lg transition-colors",children:"Search"})]}),s&&b.jsx("div",{className:"rounded-lg bg-red-900/30 border border-red-700 p-3 text-sm text-red-300",children:s}),p&&b.jsx("div",{className:"fixed inset-0 bg-black/60 flex items-center justify-center z-50",children:b.jsxs("div",{className:"bg-gray-900 border border-gray-700 rounded-xl p-6 w-full max-w-md mx-4",children:[b.jsxs("div",{className:"flex items-center justify-between mb-4",children:[b.jsx("h3",{className:"text-lg font-semibold text-white",children:"Add Memory"}),b.jsx("button",{onClick:()=>{y(!1),B(null)},className:"text-gray-400 hover:text-white transition-colors",children:b.jsx(To,{className:"h-5 w-5"})})]}),q&&b.jsx("div",{className:"mb-4 rounded-lg bg-red-900/30 border border-red-700 p-3 text-sm text-red-300",children:q}),b.jsxs("div",{className:"space-y-4",children:[b.jsxs("div",{children:[b.jsxs("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:["Key ",b.jsx("span",{className:"text-red-400",children:"*"})]}),b.jsx("input",{type:"text",value:w,onChange:J=>A(J.target.value),placeholder:"e.g. user_preferences",className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-3 py-2 text-sm text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),b.jsxs("div",{children:[b.jsxs("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:["Content ",b.jsx("span",{className:"text-red-400",children:"*"})]}),b.jsx("textarea",{value:C,onChange:J=>T(J.target.value),placeholder:"Memory content...",rows:4,className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-3 py-2 text-sm text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500 resize-none"})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Category (optional)"}),b.jsx("input",{type:"text",value:j,onChange:J=>N(J.target.value),placeholder:"e.g. preferences, context, facts",className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-3 py-2 text-sm text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),b.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[b.jsx("button",{onClick:()=>{y(!1),B(null)},className:"px-4 py-2 text-sm font-medium text-gray-300 hover:text-white border border-gray-700 rounded-lg hover:bg-gray-800 transition-colors",children:"Cancel"}),b.jsx("button",{onClick:ne,disabled:G,className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 rounded-lg transition-colors disabled:opacity-50",children:G?"Saving...":"Save"})]})]})}),t?b.jsx("div",{className:"flex items-center justify-center h-32",children:b.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-2 border-blue-500 border-t-transparent"})}):n.length===0?b.jsxs("div",{className:"bg-gray-900 rounded-xl border border-gray-800 p-8 text-center",children:[b.jsx(Bm,{className:"h-10 w-10 text-gray-600 mx-auto mb-3"}),b.jsx("p",{className:"text-gray-400",children:"No memory entries found."})]}):b.jsx("div",{className:"bg-gray-900 rounded-xl border border-gray-800 overflow-x-auto",children:b.jsxs("table",{className:"w-full text-sm",children:[b.jsx("thead",{children:b.jsxs("tr",{className:"border-b border-gray-800",children:[b.jsx("th",{className:"text-left px-4 py-3 text-gray-400 font-medium",children:"Key"}),b.jsx("th",{className:"text-left px-4 py-3 text-gray-400 font-medium",children:"Content"}),b.jsx("th",{className:"text-left px-4 py-3 text-gray-400 font-medium",children:"Category"}),b.jsx("th",{className:"text-left px-4 py-3 text-gray-400 font-medium",children:"Timestamp"}),b.jsx("th",{className:"text-right px-4 py-3 text-gray-400 font-medium",children:"Actions"})]})}),b.jsx("tbody",{children:n.map(J=>b.jsxs("tr",{className:"border-b border-gray-800/50 hover:bg-gray-800/30 transition-colors",children:[b.jsx("td",{className:"px-4 py-3 text-white font-medium font-mono text-xs",children:J.key}),b.jsx("td",{className:"px-4 py-3 text-gray-300 max-w-[300px]",children:b.jsx("span",{title:J.content,children:z3(J.content,80)})}),b.jsx("td",{className:"px-4 py-3",children:b.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-gray-800 text-gray-300 capitalize",children:J.category})}),b.jsx("td",{className:"px-4 py-3 text-gray-400 text-xs whitespace-nowrap",children:H3(J.timestamp)}),b.jsx("td",{className:"px-4 py-3 text-right",children:x===J.key?b.jsxs("div",{className:"flex items-center justify-end gap-2",children:[b.jsx("span",{className:"text-xs text-red-400",children:"Delete?"}),b.jsx("button",{onClick:()=>pe(J.key),className:"text-red-400 hover:text-red-300 text-xs font-medium",children:"Yes"}),b.jsx("button",{onClick:()=>S(null),className:"text-gray-400 hover:text-white text-xs font-medium",children:"No"})]}):b.jsx("button",{onClick:()=>S(J.key),className:"text-gray-400 hover:text-red-400 transition-colors",children:b.jsx(V2,{className:"h-4 w-4"})})})]},J.id))})]})})]})}function ux(n){if(!n)return"Unknown";const e=new Date(n);return Number.isNaN(e.getTime())?n:e.toLocaleString()}function U3(){const[n,e]=M.useState([]),[t,i]=M.useState(!0),[s,a]=M.useState(!1),[o,u]=M.useState(null),[f,d]=M.useState(null),p=async(x=!1)=>{x?a(!0):i(!0),u(null);try{const S=await h3();e(S)}catch(S){u(S instanceof Error?S.message:"Failed to load paired devices")}finally{x?a(!1):i(!1)}};M.useEffect(()=>{p(!1)},[]);const y=async x=>{try{await f3(x),e(S=>S.filter(w=>w.id!==x)),d(null)}catch(S){u(S instanceof Error?S.message:"Failed to revoke paired device"),d(null)}};return b.jsxs("div",{className:"p-6 space-y-6",children:[b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx(H2,{className:"h-5 w-5 text-blue-400"}),b.jsxs("h2",{className:"text-base font-semibold text-white",children:["Paired Devices (",n.length,")"]})]}),b.jsxs("button",{onClick:()=>{p(!0)},disabled:s,className:"inline-flex items-center gap-2 rounded-lg bg-blue-600 px-4 py-2 text-sm font-medium text-white transition-colors hover:bg-blue-700 disabled:opacity-60",children:[b.jsx(B2,{className:`h-4 w-4 ${s?"animate-spin":""}`}),"Refresh"]})]}),o&&b.jsx("div",{className:"rounded-lg border border-red-700 bg-red-900/30 p-3 text-sm text-red-300",children:o}),t?b.jsx("div",{className:"flex h-32 items-center justify-center",children:b.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-2 border-blue-500 border-t-transparent"})}):n.length===0?b.jsxs("div",{className:"rounded-xl border border-gray-800 bg-gray-900 p-8 text-center",children:[b.jsx(HT,{className:"mx-auto mb-3 h-10 w-10 text-gray-600"}),b.jsx("p",{className:"text-gray-400",children:"No paired devices found."})]}):b.jsx("div",{className:"overflow-x-auto rounded-xl border border-gray-800 bg-gray-900",children:b.jsxs("table",{className:"w-full text-sm",children:[b.jsx("thead",{children:b.jsxs("tr",{className:"border-b border-gray-800",children:[b.jsx("th",{className:"px-4 py-3 text-left font-medium text-gray-400",children:"Device ID"}),b.jsx("th",{className:"px-4 py-3 text-left font-medium text-gray-400",children:"Paired By"}),b.jsx("th",{className:"px-4 py-3 text-left font-medium text-gray-400",children:"Created"}),b.jsx("th",{className:"px-4 py-3 text-left font-medium text-gray-400",children:"Last Seen"}),b.jsx("th",{className:"px-4 py-3 text-right font-medium text-gray-400",children:"Actions"})]})}),b.jsx("tbody",{children:n.map(x=>b.jsxs("tr",{className:"border-b border-gray-800/50 transition-colors hover:bg-gray-800/30",children:[b.jsx("td",{className:"px-4 py-3 font-mono text-xs text-white",children:x.token_fingerprint}),b.jsx("td",{className:"px-4 py-3 text-gray-300",children:x.paired_by??"Unknown"}),b.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-xs text-gray-400",children:ux(x.created_at)}),b.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-xs text-gray-400",children:ux(x.last_seen_at)}),b.jsx("td",{className:"px-4 py-3 text-right",children:f===x.id?b.jsxs("div",{className:"inline-flex items-center gap-2",children:[b.jsx("span",{className:"text-xs text-red-400",children:"Revoke?"}),b.jsx("button",{onClick:()=>{y(x.id)},className:"text-xs font-medium text-red-400 hover:text-red-300",children:"Yes"}),b.jsx("button",{onClick:()=>d(null),className:"text-xs font-medium text-gray-400 hover:text-white",children:"No"})]}):b.jsx("button",{onClick:()=>d(x.id),className:"text-xs font-medium text-red-400 hover:text-red-300",children:"Revoke"})})]},x.id))})]})})]})}/*!
 * Copyright (c) Squirrel Chat et al., All rights reserved.
 * SPDX-License-Identifier: BSD-3-Clause
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are met:
 *
 * 1. Redistributions of source code must retain the above copyright notice, this
 *    list of conditions and the following disclaimer.
 * 2. Redistributions in binary form must reproduce the above copyright notice,
 *    this list of conditions and the following disclaimer in the
 *    documentation and/or other materials provided with the distribution.
 * 3. Neither the name of the copyright holder nor the names of its contributors
 *    may be used to endorse or promote products derived from this software without
 *    specific prior written permission.
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND
 * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
 * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
 * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE
 * FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
 * DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR
 * SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER
 * CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY,
 * OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
 * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */function q3(n,e){let t=n.slice(0,e).split(/\r\n|\n|\r/g);return[t.length,t.pop().length+1]}function P3(n,e,t){let i=n.split(/\r\n|\n|\r/g),s="",a=(Math.log10(e+1)|0)+1;for(let o=e-1;o<=e+1;o++){let u=i[o-1];u&&(s+=o.toString().padEnd(a," "),s+=":  ",s+=u,s+=`
`,o===e&&(s+=" ".repeat(a+t+2),s+=`^
`))}return s}class He extends Error{constructor(t,i){const[s,a]=q3(i.toml,i.ptr),o=P3(i.toml,s,a);super(`Invalid TOML document: ${t}

${o}`,i);Xe(this,"line");Xe(this,"column");Xe(this,"codeblock");this.line=s,this.column=a,this.codeblock=o}}/*!
 * Copyright (c) Squirrel Chat et al., All rights reserved.
 * SPDX-License-Identifier: BSD-3-Clause
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are met:
 *
 * 1. Redistributions of source code must retain the above copyright notice, this
 *    list of conditions and the following disclaimer.
 * 2. Redistributions in binary form must reproduce the above copyright notice,
 *    this list of conditions and the following disclaimer in the
 *    documentation and/or other materials provided with the distribution.
 * 3. Neither the name of the copyright holder nor the names of its contributors
 *    may be used to endorse or promote products derived from this software without
 *    specific prior written permission.
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND
 * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
 * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
 * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE
 * FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
 * DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR
 * SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER
 * CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY,
 * OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
 * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */function K3(n,e){let t=0;for(;n[e-++t]==="\\";);return--t&&t%2}function qm(n,e=0,t=n.length){let i=n.indexOf(`
`,e);return n[i-1]==="\r"&&i--,i<=t?i:-1}function dh(n,e){for(let t=e;t<n.length;t++){let i=n[t];if(i===`
`)return t;if(i==="\r"&&n[t+1]===`
`)return t+1;if(i<" "&&i!=="	"||i==="")throw new He("control characters are not allowed in comments",{toml:n,ptr:e})}return n.length}function xi(n,e,t,i){let s;for(;(s=n[e])===" "||s==="	"||!t&&(s===`
`||s==="\r"&&n[e+1]===`
`);)e++;return i||s!=="#"?e:xi(n,dh(n,e),t)}function Y3(n,e,t,i,s=!1){if(!i)return e=qm(n,e),e<0?n.length:e;for(let a=e;a<n.length;a++){let o=n[a];if(o==="#")a=qm(n,a);else{if(o===t)return a+1;if(o===i||s&&(o===`
`||o==="\r"&&n[a+1]===`
`))return a}}throw new He("cannot find end of structure",{toml:n,ptr:e})}function Q2(n,e){let t=n[e],i=t===n[e+1]&&n[e+1]===n[e+2]?n.slice(e,e+3):t;e+=i.length-1;do e=n.indexOf(i,++e);while(e>-1&&t!=="'"&&K3(n,e));return e>-1&&(e+=i.length,i.length>1&&(n[e]===t&&e++,n[e]===t&&e++)),e}/*!
 * Copyright (c) Squirrel Chat et al., All rights reserved.
 * SPDX-License-Identifier: BSD-3-Clause
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are met:
 *
 * 1. Redistributions of source code must retain the above copyright notice, this
 *    list of conditions and the following disclaimer.
 * 2. Redistributions in binary form must reproduce the above copyright notice,
 *    this list of conditions and the following disclaimer in the
 *    documentation and/or other materials provided with the distribution.
 * 3. Neither the name of the copyright holder nor the names of its contributors
 *    may be used to endorse or promote products derived from this software without
 *    specific prior written permission.
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND
 * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
 * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
 * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE
 * FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
 * DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR
 * SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER
 * CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY,
 * OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
 * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */let G3=/^(\d{4}-\d{2}-\d{2})?[T ]?(?:(\d{2}):\d{2}(?::\d{2}(?:\.\d+)?)?)?(Z|[-+]\d{2}:\d{2})?$/i;var hi,fi,Wt;const yr=class yr extends Date{constructor(t){let i=!0,s=!0,a="Z";if(typeof t=="string"){let o=t.match(G3);o?(o[1]||(i=!1,t=`0000-01-01T${t}`),s=!!o[2],s&&t[10]===" "&&(t=t.replace(" ","T")),o[2]&&+o[2]>23?t="":(a=o[3]||null,t=t.toUpperCase(),!a&&s&&(t+="Z"))):t=""}super(t);Jc(this,hi,!1);Jc(this,fi,!1);Jc(this,Wt,null);isNaN(this.getTime())||(ri(this,hi,i),ri(this,fi,s),ri(this,Wt,a))}isDateTime(){return Dt(this,hi)&&Dt(this,fi)}isLocal(){return!Dt(this,hi)||!Dt(this,fi)||!Dt(this,Wt)}isDate(){return Dt(this,hi)&&!Dt(this,fi)}isTime(){return Dt(this,fi)&&!Dt(this,hi)}isValid(){return Dt(this,hi)||Dt(this,fi)}toISOString(){let t=super.toISOString();if(this.isDate())return t.slice(0,10);if(this.isTime())return t.slice(11,23);if(Dt(this,Wt)===null)return t.slice(0,-1);if(Dt(this,Wt)==="Z")return t;let i=+Dt(this,Wt).slice(1,3)*60+ +Dt(this,Wt).slice(4,6);return i=Dt(this,Wt)[0]==="-"?i:-i,new Date(this.getTime()-i*6e4).toISOString().slice(0,-1)+Dt(this,Wt)}static wrapAsOffsetDateTime(t,i="Z"){let s=new yr(t);return ri(s,Wt,i),s}static wrapAsLocalDateTime(t){let i=new yr(t);return ri(i,Wt,null),i}static wrapAsLocalDate(t){let i=new yr(t);return ri(i,fi,!1),ri(i,Wt,null),i}static wrapAsLocalTime(t){let i=new yr(t);return ri(i,hi,!1),ri(i,Wt,null),i}};hi=new WeakMap,fi=new WeakMap,Wt=new WeakMap;let Pm=yr;/*!
 * Copyright (c) Squirrel Chat et al., All rights reserved.
 * SPDX-License-Identifier: BSD-3-Clause
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are met:
 *
 * 1. Redistributions of source code must retain the above copyright notice, this
 *    list of conditions and the following disclaimer.
 * 2. Redistributions in binary form must reproduce the above copyright notice,
 *    this list of conditions and the following disclaimer in the
 *    documentation and/or other materials provided with the distribution.
 * 3. Neither the name of the copyright holder nor the names of its contributors
 *    may be used to endorse or promote products derived from this software without
 *    specific prior written permission.
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND
 * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
 * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
 * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE
 * FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
 * DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR
 * SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER
 * CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY,
 * OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
 * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */let I3=/^((0x[0-9a-fA-F](_?[0-9a-fA-F])*)|(([+-]|0[ob])?\d(_?\d)*))$/,F3=/^[+-]?\d(_?\d)*(\.\d(_?\d)*)?([eE][+-]?\d(_?\d)*)?$/,W3=/^[+-]?0[0-9_]/,X3=/^[0-9a-f]{2,8}$/i,hx={b:"\b",t:"	",n:`
`,f:"\f",r:"\r",e:"\x1B",'"':'"',"\\":"\\"};function Z2(n,e=0,t=n.length){let i=n[e]==="'",s=n[e++]===n[e]&&n[e]===n[e+1];s&&(t-=2,n[e+=2]==="\r"&&e++,n[e]===`
`&&e++);let a=0,o,u="",f=e;for(;e<t-1;){let d=n[e++];if(d===`
`||d==="\r"&&n[e]===`
`){if(!s)throw new He("newlines are not allowed in strings",{toml:n,ptr:e-1})}else if(d<" "&&d!=="	"||d==="")throw new He("control characters are not allowed in strings",{toml:n,ptr:e-1});if(o){if(o=!1,d==="x"||d==="u"||d==="U"){let p=n.slice(e,e+=d==="x"?2:d==="u"?4:8);if(!X3.test(p))throw new He("invalid unicode escape",{toml:n,ptr:a});try{u+=String.fromCodePoint(parseInt(p,16))}catch{throw new He("invalid unicode escape",{toml:n,ptr:a})}}else if(s&&(d===`
`||d===" "||d==="	"||d==="\r")){if(e=xi(n,e-1,!0),n[e]!==`
`&&n[e]!=="\r")throw new He("invalid escape: only line-ending whitespace may be escaped",{toml:n,ptr:a});e=xi(n,e)}else if(d in hx)u+=hx[d];else throw new He("unrecognized escape sequence",{toml:n,ptr:a});f=e}else!i&&d==="\\"&&(a=e-1,o=!0,u+=n.slice(f,a))}return u+n.slice(f,t-1)}function Q3(n,e,t,i){if(n==="true")return!0;if(n==="false")return!1;if(n==="-inf")return-1/0;if(n==="inf"||n==="+inf")return 1/0;if(n==="nan"||n==="+nan"||n==="-nan")return NaN;if(n==="-0")return i?0n:0;let s=I3.test(n);if(s||F3.test(n)){if(W3.test(n))throw new He("leading zeroes are not allowed",{toml:e,ptr:t});n=n.replace(/_/g,"");let o=+n;if(isNaN(o))throw new He("invalid number",{toml:e,ptr:t});if(s){if((s=!Number.isSafeInteger(o))&&!i)throw new He("integer value cannot be represented losslessly",{toml:e,ptr:t});(s||i===!0)&&(o=BigInt(n))}return o}const a=new Pm(n);if(!a.isValid())throw new He("invalid value",{toml:e,ptr:t});return a}/*!
 * Copyright (c) Squirrel Chat et al., All rights reserved.
 * SPDX-License-Identifier: BSD-3-Clause
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are met:
 *
 * 1. Redistributions of source code must retain the above copyright notice, this
 *    list of conditions and the following disclaimer.
 * 2. Redistributions in binary form must reproduce the above copyright notice,
 *    this list of conditions and the following disclaimer in the
 *    documentation and/or other materials provided with the distribution.
 * 3. Neither the name of the copyright holder nor the names of its contributors
 *    may be used to endorse or promote products derived from this software without
 *    specific prior written permission.
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND
 * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
 * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
 * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE
 * FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
 * DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR
 * SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER
 * CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY,
 * OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
 * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */function Z3(n,e,t){let i=n.slice(e,t),s=i.indexOf("#");return s>-1&&(dh(n,s),i=i.slice(0,s)),[i.trimEnd(),s]}function Zp(n,e,t,i,s){if(i===0)throw new He("document contains excessively nested structures. aborting.",{toml:n,ptr:e});let a=n[e];if(a==="["||a==="{"){let[f,d]=a==="["?eE(n,e,i,s):J3(n,e,i,s);if(t){if(d=xi(n,d),n[d]===",")d++;else if(n[d]!==t)throw new He("expected comma or end of structure",{toml:n,ptr:d})}return[f,d]}let o;if(a==='"'||a==="'"){o=Q2(n,e);let f=Z2(n,e,o);if(t){if(o=xi(n,o),n[o]&&n[o]!==","&&n[o]!==t&&n[o]!==`
`&&n[o]!=="\r")throw new He("unexpected character encountered",{toml:n,ptr:o});o+=+(n[o]===",")}return[f,o]}o=Y3(n,e,",",t);let u=Z3(n,e,o-+(n[o-1]===","));if(!u[0])throw new He("incomplete key-value declaration: no value specified",{toml:n,ptr:e});return t&&u[1]>-1&&(o=xi(n,e+u[1]),o+=+(n[o]===",")),[Q3(u[0],n,e,s),o]}/*!
 * Copyright (c) Squirrel Chat et al., All rights reserved.
 * SPDX-License-Identifier: BSD-3-Clause
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are met:
 *
 * 1. Redistributions of source code must retain the above copyright notice, this
 *    list of conditions and the following disclaimer.
 * 2. Redistributions in binary form must reproduce the above copyright notice,
 *    this list of conditions and the following disclaimer in the
 *    documentation and/or other materials provided with the distribution.
 * 3. Neither the name of the copyright holder nor the names of its contributors
 *    may be used to endorse or promote products derived from this software without
 *    specific prior written permission.
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND
 * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
 * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
 * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE
 * FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
 * DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR
 * SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER
 * CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY,
 * OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
 * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */let $3=/^[a-zA-Z0-9-_]+[ \t]*$/;function Km(n,e,t="="){let i=e-1,s=[],a=n.indexOf(t,e);if(a<0)throw new He("incomplete key-value: cannot find end of key",{toml:n,ptr:e});do{let o=n[e=++i];if(o!==" "&&o!=="	")if(o==='"'||o==="'"){if(o===n[e+1]&&o===n[e+2])throw new He("multiline strings are not allowed in keys",{toml:n,ptr:e});let u=Q2(n,e);if(u<0)throw new He("unfinished string encountered",{toml:n,ptr:e});i=n.indexOf(".",u);let f=n.slice(u,i<0||i>a?a:i),d=qm(f);if(d>-1)throw new He("newlines are not allowed in keys",{toml:n,ptr:e+i+d});if(f.trimStart())throw new He("found extra tokens after the string part",{toml:n,ptr:u});if(a<u&&(a=n.indexOf(t,u),a<0))throw new He("incomplete key-value: cannot find end of key",{toml:n,ptr:e});s.push(Z2(n,e,u))}else{i=n.indexOf(".",e);let u=n.slice(e,i<0||i>a?a:i);if(!$3.test(u))throw new He("only letter, numbers, dashes and underscores are allowed in keys",{toml:n,ptr:e});s.push(u.trimEnd())}}while(i+1&&i<a);return[s,xi(n,a+1,!0,!0)]}function J3(n,e,t,i){let s={},a=new Set,o;for(e++;(o=n[e++])!=="}"&&o;){if(o===",")throw new He("expected value, found comma",{toml:n,ptr:e-1});if(o==="#")e=dh(n,e);else if(o!==" "&&o!=="	"&&o!==`
`&&o!=="\r"){let u,f=s,d=!1,[p,y]=Km(n,e-1);for(let w=0;w<p.length;w++){if(w&&(f=d?f[u]:f[u]={}),u=p[w],(d=Object.hasOwn(f,u))&&(typeof f[u]!="object"||a.has(f[u])))throw new He("trying to redefine an already defined value",{toml:n,ptr:e});!d&&u==="__proto__"&&Object.defineProperty(f,u,{enumerable:!0,configurable:!0,writable:!0})}if(d)throw new He("trying to redefine an already defined value",{toml:n,ptr:e});let[x,S]=Zp(n,y,"}",t-1,i);a.add(x),f[u]=x,e=S}}if(!o)throw new He("unfinished table encountered",{toml:n,ptr:e});return[s,e]}function eE(n,e,t,i){let s=[],a;for(e++;(a=n[e++])!=="]"&&a;){if(a===",")throw new He("expected value, found comma",{toml:n,ptr:e-1});if(a==="#")e=dh(n,e);else if(a!==" "&&a!=="	"&&a!==`
`&&a!=="\r"){let o=Zp(n,e-1,"]",t-1,i);s.push(o[0]),e=o[1]}}if(!a)throw new He("unfinished array encountered",{toml:n,ptr:e});return[s,e]}/*!
 * Copyright (c) Squirrel Chat et al., All rights reserved.
 * SPDX-License-Identifier: BSD-3-Clause
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are met:
 *
 * 1. Redistributions of source code must retain the above copyright notice, this
 *    list of conditions and the following disclaimer.
 * 2. Redistributions in binary form must reproduce the above copyright notice,
 *    this list of conditions and the following disclaimer in the
 *    documentation and/or other materials provided with the distribution.
 * 3. Neither the name of the copyright holder nor the names of its contributors
 *    may be used to endorse or promote products derived from this software without
 *    specific prior written permission.
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND
 * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
 * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
 * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE
 * FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
 * DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR
 * SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER
 * CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY,
 * OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
 * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */function fx(n,e,t,i){var d,p;let s=e,a=t,o,u=!1,f;for(let y=0;y<n.length;y++){if(y){if(s=u?s[o]:s[o]={},a=(f=a[o]).c,i===0&&(f.t===1||f.t===2))return null;if(f.t===2){let x=s.length-1;s=s[x],a=a[x].c}}if(o=n[y],(u=Object.hasOwn(s,o))&&((d=a[o])==null?void 0:d.t)===0&&((p=a[o])!=null&&p.d))return null;u||(o==="__proto__"&&(Object.defineProperty(s,o,{enumerable:!0,configurable:!0,writable:!0}),Object.defineProperty(a,o,{enumerable:!0,configurable:!0,writable:!0})),a[o]={t:y<n.length-1&&i===2?3:i,d:!1,i:0,c:{}})}if(f=a[o],f.t!==i&&!(i===1&&f.t===3)||(i===2&&(f.d||(f.d=!0,s[o]=[]),s[o].push(s={}),f.c[f.i++]=f={t:1,d:!1,i:0,c:{}}),f.d))return null;if(f.d=!0,i===1)s=u?s[o]:s[o]={};else if(i===0&&u)return null;return[o,s,f.c]}function dx(n,{maxDepth:e=1e3,integersAsBigInt:t}={}){let i={},s={},a=i,o=s;for(let u=xi(n,0);u<n.length;){if(n[u]==="["){let f=n[++u]==="[",d=Km(n,u+=+f,"]");if(f){if(n[d[1]-1]!=="]")throw new He("expected end of table declaration",{toml:n,ptr:d[1]-1});d[1]++}let p=fx(d[0],i,s,f?2:1);if(!p)throw new He("trying to redefine an already defined table or value",{toml:n,ptr:u});o=p[2],a=p[1],u=d[1]}else{let f=Km(n,u),d=fx(f[0],a,o,0);if(!d)throw new He("trying to redefine an already defined table or value",{toml:n,ptr:u});let p=Zp(n,f[1],void 0,e,t);d[1][d[0]]=p[0],u=p[1]}if(u=xi(n,u,!0),n[u]&&n[u]!==`
`&&n[u]!=="\r")throw new He("each key-value declaration must be followed by an end-of-line",{toml:n,ptr:u});u=xi(n,u)}return i}/*!
 * Copyright (c) Squirrel Chat et al., All rights reserved.
 * SPDX-License-Identifier: BSD-3-Clause
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are met:
 *
 * 1. Redistributions of source code must retain the above copyright notice, this
 *    list of conditions and the following disclaimer.
 * 2. Redistributions in binary form must reproduce the above copyright notice,
 *    this list of conditions and the following disclaimer in the
 *    documentation and/or other materials provided with the distribution.
 * 3. Neither the name of the copyright holder nor the names of its contributors
 *    may be used to endorse or promote products derived from this software without
 *    specific prior written permission.
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND
 * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
 * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
 * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE
 * FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
 * DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR
 * SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER
 * CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY,
 * OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
 * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */let $2=/^[a-z0-9-_]+$/i;function Eo(n){let e=typeof n;if(e==="object"){if(Array.isArray(n))return"array";if(n instanceof Date)return"date"}return e}function tE(n){for(let e=0;e<n.length;e++)if(Eo(n[e])!=="object")return!1;return n.length!=0}function $p(n){return JSON.stringify(n).replace(/\x7f/g,"\\u007f")}function Jp(n,e,t,i){if(t===0)throw new Error("Could not stringify the object: maximum object depth exceeded");if(e==="number")return isNaN(n)?"nan":n===1/0?"inf":n===-1/0?"-inf":i&&Number.isInteger(n)?n.toFixed(1):n.toString();if(e==="bigint"||e==="boolean")return n.toString();if(e==="string")return $p(n);if(e==="date"){if(isNaN(n.getTime()))throw new TypeError("cannot serialize invalid date");return n.toISOString()}if(e==="object")return nE(n,t,i);if(e==="array")return iE(n,t,i)}function nE(n,e,t){let i=Object.keys(n);if(i.length===0)return"{}";let s="{ ";for(let a=0;a<i.length;a++){let o=i[a];a&&(s+=", "),s+=$2.test(o)?o:$p(o),s+=" = ",s+=Jp(n[o],Eo(n[o]),e-1,t)}return s+" }"}function iE(n,e,t){if(n.length===0)return"[]";let i="[ ";for(let s=0;s<n.length;s++){if(s&&(i+=", "),n[s]===null||n[s]===void 0)throw new TypeError("arrays cannot contain null or undefined values");i+=Jp(n[s],Eo(n[s]),e-1,t)}return i+" ]"}function lE(n,e,t,i){if(t===0)throw new Error("Could not stringify the object: maximum object depth exceeded");let s="";for(let a=0;a<n.length;a++)s+=`${s&&`
`}[[${e}]]
`,s+=eg(0,n[a],e,t,i);return s}function eg(n,e,t,i,s){if(i===0)throw new Error("Could not stringify the object: maximum object depth exceeded");let a="",o="",u=Object.keys(e);for(let f=0;f<u.length;f++){let d=u[f];if(e[d]!==null&&e[d]!==void 0){let p=Eo(e[d]);if(p==="symbol"||p==="function")throw new TypeError(`cannot serialize values of type '${p}'`);let y=$2.test(d)?d:$p(d);if(p==="array"&&tE(e[d]))o+=(o&&`
`)+lE(e[d],t?`${t}.${y}`:y,i-1,s);else if(p==="object"){let x=t?`${t}.${y}`:y;o+=(o&&`
`)+eg(x,e[d],x,i-1,s)}else a+=y,a+=" = ",a+=Jp(e[d],p,i,s),a+=`
`}}return n&&(a||!o)&&(a=a?`[${n}]
${a}`:`[${n}]`),a&&o?`${a}
${o}`:a||o}function sE(n,{maxDepth:e=1e3,numbersAsFloat:t=!1}={}){if(Eo(n)!=="object")throw new TypeError("stringify can only be called with an object");let i=eg(0,n,"",e,t);return i[i.length-1]!==`
`?i+`
`:i}const rE="***MASKED***";function aE(n){return JSON.parse(JSON.stringify(n))}function Vu(n,e,t){if(n!=null){if(typeof n=="string"&&n===rE){t.add(e);return}if(Array.isArray(n)){n.forEach((i,s)=>{Vu(i,`${e}.${s}`,t)});return}if(typeof n=="object")for(const[i,s]of Object.entries(n))Vu(s,e?`${e}.${i}`:i,t)}}function oE(n,e){let t=n;for(const i of e){if(t==null||typeof t!="object")return;t=t[i]}return t}function cE(n,e,t){if(e.length===0)return;let i=n;for(let a=0;a<e.length-1;a++){const o=e[a];(i[o]===void 0||i[o]===null||typeof i[o]!="object")&&(i[o]={}),i=i[o]}const s=e[e.length-1];t===void 0||t===""?delete i[s]:i[s]=t}function uE(){const[n,e]=M.useState(!0),[t,i]=M.useState(!1),[s,a]=M.useState(null),[o,u]=M.useState(null),[f,d]=M.useState("form"),[p,y]=M.useState(""),[x,S]=M.useState({}),w=M.useRef(new Set),A=M.useRef(new Set),C=M.useRef(null),[,T]=M.useState(0),j=M.useCallback(async()=>{e(!0),a(null);try{const K=await JT(),$=typeof K=="string"?K:JSON.stringify(K,null,2);y($);try{const ie=dx($);S(ie);const ge=new Set;Vu(ie,"",ge),w.current=ge}catch{S({}),w.current=new Set,d("raw")}A.current=new Set}catch(K){a(K instanceof Error?K.message:"Failed to load configuration")}finally{e(!1)}},[]),N=M.useRef(!1);M.useEffect(()=>{N.current||(N.current=!0,j())},[j]),M.useEffect(()=>()=>{C.current&&clearTimeout(C.current)},[]);const q=(K,$)=>K?`${K}.${$}`:$,B=(K,$)=>q(K,$).split(".").filter(Boolean),G=M.useCallback((K,$)=>{const ie=B(K,$);return oE(x,ie)},[x]),V=M.useCallback((K,$,ie)=>{const ge=q(K,$),D=B(K,$);S(P=>{const ee=aE(P);return cE(ee,D,ie),ee}),A.current.add(ge),T(P=>P+1)},[]),Q=M.useCallback((K,$)=>{const ie=q(K,$);return w.current.has(ie)&&!A.current.has(ie)},[]),Z=M.useCallback((K,$)=>{const ie=q(K,$);return A.current.has(ie)},[]),ue=M.useCallback(()=>{try{return sE(x)}catch{return p}},[x,p]),fe=M.useCallback(K=>{try{const $=dx(K);S($);const ie=new Set;return Vu($,"",ie),w.current=ie,!0}catch{return!1}},[]),ne=M.useCallback(K=>{if(K===f)return!0;if(K==="raw"){const $=ue();return y($),d("raw"),!0}else return fe(p)?(d("form"),!0):(a("Invalid TOML syntax. Fix errors before switching to Form view."),!1)},[f,ue,fe,p]),pe=M.useCallback(K=>{y(K)},[]),J=M.useCallback(async()=>{i(!0),a(null),u(null),C.current&&clearTimeout(C.current);try{let K;f==="form"?K=ue():K=p,await e3(K),u("Configuration saved successfully."),C.current=setTimeout(()=>u(null),4e3)}catch(K){a(K instanceof Error?K.message:"Failed to save configuration")}finally{i(!1)}},[f,ue,p]),ve=M.useCallback(async()=>{await j()},[j]),z=M.useCallback(()=>{a(null),u(null),C.current&&(clearTimeout(C.current),C.current=null)},[]);return{loading:n,saving:t,error:s,success:o,mode:f,rawToml:p,parsed:x,maskedPaths:w.current,dirtyPaths:A.current,setMode:ne,getFieldValue:G,setFieldValue:V,isFieldMasked:Q,isFieldDirty:Z,setRawToml:pe,save:J,reload:ve,clearMessages:z}}const nm=[{path:"",category:"general",title:"General",description:"Top-level model and provider settings",icon:Xp,fields:[{key:"api_key",label:"API Key",type:"password",sensitive:!0,description:"e.g. sk-abc123... or key-xyz..."},{key:"api_url",label:"API URL",type:"text",description:"e.g. https://api.openai.com/v1"},{key:"default_provider",label:"Default Provider",type:"text",description:"e.g. openrouter, openai, anthropic",defaultValue:"openrouter"},{key:"provider_api",label:"Provider API Mode",type:"select",options:[{value:"openai-chat-completions",label:"OpenAI Chat Completions"},{value:"openai-responses",label:"OpenAI Responses"}]},{key:"default_model",label:"Default Model",type:"text",description:"e.g. anthropic/claude-sonnet-4.6",defaultValue:"anthropic/claude-sonnet-4.6"},{key:"default_temperature",label:"Temperature",type:"number",min:0,max:2,step:.1,defaultValue:.7,description:"Default: 0.7 (range 0.02.0)"},{key:"model_support_vision",label:"Model Supports Vision",type:"toggle",description:"Whether the model supports image inputs"}]},{path:"provider",category:"general",title:"Provider",description:"Provider-specific settings",icon:Eu,defaultCollapsed:!0,fields:[{key:"reasoning_level",label:"Reasoning Level",type:"text",description:"e.g. low, medium, high"}]},{path:"observability",category:"advanced",title:"Observability",description:"Tracing, metrics, and telemetry",icon:O2,defaultCollapsed:!0,fields:[{key:"backend",label:"Backend",type:"select",defaultValue:"none",options:[{value:"none",label:"None"},{value:"otlp",label:"OpenTelemetry (OTLP)"}]},{key:"otel_endpoint",label:"OTEL Endpoint",type:"text",description:"e.g. http://localhost:4317"},{key:"otel_service_name",label:"OTEL Service Name",type:"text",description:"e.g. zeroclaw-prod"},{key:"runtime_trace_mode",label:"Runtime Trace Mode",type:"select",defaultValue:"none",options:[{value:"none",label:"None"},{value:"file",label:"File"}]},{key:"runtime_trace_path",label:"Runtime Trace Path",type:"text",defaultValue:"state/runtime-trace.jsonl",description:"Default: state/runtime-trace.jsonl"},{key:"runtime_trace_max_entries",label:"Max Trace Entries",type:"number",min:1,defaultValue:200,description:"Default: 200"}]},{path:"autonomy",category:"advanced",title:"Autonomy",description:"Agent autonomy level, action limits, and tool permissions",icon:zT,fields:[{key:"level",label:"Autonomy Level",type:"select",defaultValue:"supervised",options:[{value:"read_only",label:"Read Only"},{value:"supervised",label:"Supervised"},{value:"full",label:"Full"}]},{key:"workspace_only",label:"Workspace Only",type:"toggle",defaultValue:!0,description:"Restrict actions to workspace directory"},{key:"max_actions_per_hour",label:"Max Actions / Hour",type:"number",min:1,defaultValue:20,description:"Default: 20"},{key:"max_cost_per_day_cents",label:"Max Cost / Day (cents)",type:"number",min:0,defaultValue:500,description:"Default: 500 (= $5.00)"},{key:"require_approval_for_medium_risk",label:"Require Approval for Medium Risk",type:"toggle",defaultValue:!0},{key:"block_high_risk_commands",label:"Block High Risk Commands",type:"toggle",defaultValue:!0},{key:"allowed_commands",label:"Allowed Commands",type:"tag-list",tagPlaceholder:"Add command (e.g. git, npm, cargo)"},{key:"forbidden_paths",label:"Forbidden Paths",type:"tag-list",tagPlaceholder:"Add path (e.g. /etc, ~/.ssh)"},{key:"auto_approve",label:"Auto-Approve Tools",type:"tag-list",tagPlaceholder:"e.g. file_read, memory_recall"},{key:"always_ask",label:"Always Ask Tools",type:"tag-list",tagPlaceholder:"e.g. shell, file_write"},{key:"allowed_roots",label:"Allowed Roots",type:"tag-list",tagPlaceholder:"e.g. /home/user/projects"},{key:"shell_env_passthrough",label:"Shell Env Passthrough",type:"tag-list",tagPlaceholder:"e.g. PATH, HOME, EDITOR"}]},{path:"security.sandbox",category:"security",title:"Security: Sandbox",description:"Process sandboxing backend",icon:dT,defaultCollapsed:!0,fields:[{key:"enabled",label:"Enabled",type:"toggle",description:"Enable sandboxing (auto-detect if unset)"},{key:"backend",label:"Backend",type:"select",defaultValue:"auto",options:[{value:"auto",label:"Auto"},{value:"landlock",label:"Landlock"},{value:"firejail",label:"Firejail"},{value:"bubblewrap",label:"Bubblewrap"},{value:"docker",label:"Docker"},{value:"none",label:"None"}]},{key:"firejail_args",label:"Firejail Extra Args",type:"tag-list",tagPlaceholder:"e.g. --net=none, --private"}]},{path:"security.resources",category:"security",title:"Security: Resource Limits",description:"Memory, CPU, and subprocess limits",icon:bT,defaultCollapsed:!0,fields:[{key:"max_memory_mb",label:"Max Memory (MB)",type:"number",min:1,defaultValue:512,description:"Default: 512"},{key:"max_cpu_time_seconds",label:"Max CPU Time (s)",type:"number",min:1,defaultValue:60,description:"Default: 60"},{key:"max_subprocesses",label:"Max Subprocesses",type:"number",min:1,defaultValue:10,description:"Default: 10"},{key:"memory_monitoring",label:"Memory Monitoring",type:"toggle",defaultValue:!0}]},{path:"security.audit",category:"security",title:"Security: Audit",description:"Audit logging configuration",icon:R2,defaultCollapsed:!0,fields:[{key:"enabled",label:"Enabled",type:"toggle",defaultValue:!0},{key:"log_path",label:"Log Path",type:"text",defaultValue:"audit.log",description:"Default: audit.log"},{key:"max_size_mb",label:"Max Size (MB)",type:"number",min:1,defaultValue:100,description:"Default: 100"},{key:"sign_events",label:"Sign Events",type:"toggle",defaultValue:!1}]},{path:"security.otp",category:"security",title:"Security: OTP",description:"One-time password challenge settings",icon:j2,defaultCollapsed:!0,fields:[{key:"enabled",label:"Enabled",type:"toggle",defaultValue:!0},{key:"method",label:"Method",type:"select",defaultValue:"totp",options:[{value:"totp",label:"TOTP"},{value:"pairing",label:"Pairing"},{value:"cli-prompt",label:"CLI Prompt"}]},{key:"token_ttl_secs",label:"Token TTL (s)",type:"number",min:1,defaultValue:30,description:"Default: 30"},{key:"cache_valid_secs",label:"Cache Valid (s)",type:"number",min:0,defaultValue:300,description:"Default: 300 (5 min)"},{key:"gated_actions",label:"Gated Actions",type:"tag-list",tagPlaceholder:"e.g. shell, file_write, browser_open"},{key:"gated_domains",label:"Gated Domains",type:"tag-list",tagPlaceholder:"e.g. example.com"},{key:"challenge_delivery",label:"Challenge Delivery",type:"select",defaultValue:"dm",options:[{value:"dm",label:"Direct Message"},{value:"thread",label:"Thread"},{value:"ephemeral",label:"Ephemeral"}]},{key:"challenge_timeout_secs",label:"Challenge Timeout (s)",type:"number",min:1,defaultValue:120,description:"Default: 120 (2 min)"},{key:"challenge_max_attempts",label:"Max Attempts",type:"number",min:1,max:10,defaultValue:3,description:"Default: 3 (max 10)"}]},{path:"security.estop",category:"security",title:"Security: Emergency Stop",description:"Emergency stop configuration",icon:NT,defaultCollapsed:!0,fields:[{key:"enabled",label:"Enabled",type:"toggle",defaultValue:!1},{key:"state_file",label:"State File",type:"text",defaultValue:"~/.zeroclaw/estop-state.json",description:"Default: ~/.zeroclaw/estop-state.json"},{key:"require_otp_to_resume",label:"Require OTP to Resume",type:"toggle",defaultValue:!0}]},{path:"security.perplexity_filter",category:"security",title:"Security: Perplexity Filter",description:"Adversarial suffix detection",icon:Fp,defaultCollapsed:!0,fields:[{key:"enable_perplexity_filter",label:"Enabled",type:"toggle",defaultValue:!1},{key:"perplexity_threshold",label:"Perplexity Threshold",type:"number",min:0,step:.1,defaultValue:18,description:"Default: 18.0"},{key:"suffix_window_chars",label:"Suffix Window (chars)",type:"number",min:1,defaultValue:64,description:"Default: 64"},{key:"min_prompt_chars",label:"Min Prompt (chars)",type:"number",min:1,defaultValue:32,description:"Default: 32"},{key:"symbol_ratio_threshold",label:"Symbol Ratio Threshold",type:"number",min:0,max:1,step:.01,defaultValue:.2,description:"Default: 0.20 (range 01)"}]},{path:"security.url_access",category:"security",title:"Security: URL Access",description:"Network access controls for URLs",icon:Ya,defaultCollapsed:!0,fields:[{key:"block_private_ip",label:"Block Private IPs",type:"toggle",defaultValue:!0},{key:"allow_loopback",label:"Allow Loopback",type:"toggle",defaultValue:!1},{key:"allow_cidrs",label:"Allowed CIDRs",type:"tag-list",tagPlaceholder:"e.g. 10.0.0.0/8, 192.168.0.0/16"},{key:"allow_domains",label:"Allowed Domains",type:"tag-list",tagPlaceholder:"e.g. api.example.com"}]},{path:"runtime",category:"runtime",title:"Runtime",description:"Runtime execution environment",icon:LT,defaultCollapsed:!0,fields:[{key:"kind",label:"Kind",type:"select",defaultValue:"native",options:[{value:"native",label:"Native"},{value:"docker",label:"Docker"},{value:"wasm",label:"WASM"}]},{key:"reasoning_enabled",label:"Reasoning Enabled",type:"toggle",description:"Enable model reasoning mode"}]},{path:"runtime.docker",category:"runtime",title:"Runtime: Docker",description:"Docker container runtime settings",icon:gT,defaultCollapsed:!0,fields:[{key:"image",label:"Image",type:"text",defaultValue:"alpine:3.20",description:"e.g. alpine:3.20, ubuntu:22.04"},{key:"network",label:"Network",type:"text",defaultValue:"none",description:"e.g. none, bridge, host"},{key:"memory_limit_mb",label:"Memory Limit (MB)",type:"number",min:1,defaultValue:512,description:"Default: 512"},{key:"cpu_limit",label:"CPU Limit",type:"number",min:.1,step:.1,defaultValue:1,description:"Default: 1.0 (number of cores)"},{key:"read_only_rootfs",label:"Read-Only Root FS",type:"toggle",defaultValue:!0},{key:"mount_workspace",label:"Mount Workspace",type:"toggle",defaultValue:!0},{key:"allowed_workspace_roots",label:"Allowed Workspace Roots",type:"tag-list",tagPlaceholder:"e.g. /home/user/projects"}]},{path:"research",category:"runtime",title:"Research",description:"Research phase configuration",icon:fT,defaultCollapsed:!0,fields:[{key:"enabled",label:"Enabled",type:"toggle",defaultValue:!1},{key:"trigger",label:"Trigger",type:"select",defaultValue:"never",options:[{value:"never",label:"Never"},{value:"always",label:"Always"},{value:"keywords",label:"Keywords"},{value:"length",label:"Message Length"},{value:"question",label:"Question Mark"}]},{key:"keywords",label:"Trigger Keywords",type:"tag-list",tagPlaceholder:"e.g. find, search, investigate"},{key:"min_message_length",label:"Min Message Length",type:"number",min:1,defaultValue:50,description:"Default: 50 characters"},{key:"max_iterations",label:"Max Iterations",type:"number",min:1,defaultValue:5,description:"Default: 5"},{key:"show_progress",label:"Show Progress",type:"toggle",defaultValue:!0}]},{path:"reliability",category:"advanced",title:"Reliability",description:"Retry, fallback, and backoff settings",icon:B2,defaultCollapsed:!0,fields:[{key:"provider_retries",label:"Provider Retries",type:"number",min:0,defaultValue:2,description:"Default: 2"},{key:"provider_backoff_ms",label:"Backoff (ms)",type:"number",min:0,defaultValue:500,description:"Default: 500"},{key:"fallback_providers",label:"Fallback Providers",type:"tag-list",tagPlaceholder:"e.g. openai, anthropic"},{key:"api_keys",label:"Fallback API Keys",type:"tag-list",tagPlaceholder:"Add fallback API key"},{key:"channel_initial_backoff_secs",label:"Channel Initial Backoff (s)",type:"number",min:1,defaultValue:2,description:"Default: 2"},{key:"channel_max_backoff_secs",label:"Channel Max Backoff (s)",type:"number",min:1,defaultValue:60,description:"Default: 60"},{key:"scheduler_poll_secs",label:"Scheduler Poll (s)",type:"number",min:1,defaultValue:15,description:"Default: 15"},{key:"scheduler_retries",label:"Scheduler Retries",type:"number",min:0,defaultValue:2,description:"Default: 2"}]},{path:"scheduler",category:"advanced",title:"Scheduler",description:"Task scheduler settings",icon:Cr,defaultCollapsed:!0,fields:[{key:"enabled",label:"Enabled",type:"toggle",defaultValue:!0},{key:"max_tasks",label:"Max Tasks",type:"number",min:1,defaultValue:64,description:"Default: 64"},{key:"max_concurrent",label:"Max Concurrent",type:"number",min:1,defaultValue:4,description:"Default: 4"}]},{path:"agent",category:"general",title:"Agent",description:"Agent orchestration settings",icon:Tu,fields:[{key:"compact_context",label:"Compact Context",type:"toggle",defaultValue:!0,description:"Compress long conversation context"},{key:"max_tool_iterations",label:"Max Tool Iterations",type:"number",min:1,defaultValue:20,description:"Default: 20"},{key:"max_history_messages",label:"Max History Messages",type:"number",min:1,defaultValue:50,description:"Default: 50"},{key:"parallel_tools",label:"Parallel Tools",type:"toggle",defaultValue:!1,description:"Execute tools in parallel when possible"},{key:"tool_dispatcher",label:"Tool Dispatcher",type:"select",defaultValue:"auto",options:[{value:"auto",label:"Auto"},{value:"sequential",label:"Sequential"},{value:"parallel",label:"Parallel"}]}]},{path:"skills",category:"advanced",title:"Skills",description:"Open skills and script execution",icon:UT,defaultCollapsed:!0,fields:[{key:"open_skills_enabled",label:"Open Skills Enabled",type:"toggle",defaultValue:!1},{key:"open_skills_dir",label:"Open Skills Directory",type:"text",description:"e.g. ./skills or /opt/zeroclaw/skills"},{key:"allow_scripts",label:"Allow Scripts",type:"toggle",defaultValue:!1},{key:"prompt_injection_mode",label:"Prompt Injection Mode",type:"select",defaultValue:"full",options:[{value:"full",label:"Full"},{value:"compact",label:"Compact"}]},{key:"clawhub_token",label:"ClawHub Token",type:"password",sensitive:!0,description:"e.g. clh_abc123..."}]},{path:"heartbeat",category:"advanced",title:"Heartbeat",description:"Periodic heartbeat messages",icon:vT,defaultCollapsed:!0,fields:[{key:"enabled",label:"Enabled",type:"toggle",defaultValue:!1},{key:"interval_minutes",label:"Interval (min)",type:"number",min:1,defaultValue:30,description:"Default: 30"},{key:"message",label:"Message",type:"text",description:"e.g. Agent is alive and running"},{key:"target",label:"Target Channel",type:"text",description:"e.g. telegram, discord, slack"},{key:"to",label:"Recipient",type:"text",description:"e.g. channel ID or username"}]},{path:"cron",category:"advanced",title:"Cron",description:"Cron job settings",icon:KT,defaultCollapsed:!0,fields:[{key:"enabled",label:"Enabled",type:"toggle",defaultValue:!0},{key:"max_run_history",label:"Max Run History",type:"number",min:1,defaultValue:50,description:"Default: 50"}]},{path:"goal_loop",category:"advanced",title:"Goal Loop",description:"Autonomous goal pursuit loop",icon:qT,defaultCollapsed:!0,fields:[{key:"enabled",label:"Enabled",type:"toggle",defaultValue:!1},{key:"interval_minutes",label:"Interval (min)",type:"number",min:1,defaultValue:10,description:"Default: 10"},{key:"step_timeout_secs",label:"Step Timeout (s)",type:"number",min:1,defaultValue:120,description:"Default: 120 (2 min)"},{key:"max_steps_per_cycle",label:"Max Steps / Cycle",type:"number",min:1,defaultValue:3,description:"Default: 3"},{key:"channel",label:"Channel",type:"text",description:"e.g. telegram, discord"},{key:"target",label:"Target",type:"text",description:"e.g. channel ID or user ID"}]},{path:"channels_config",category:"channels",title:"Channels",description:"Channel transport settings",icon:kl,fields:[{key:"cli",label:"CLI Enabled",type:"toggle",defaultValue:!0},{key:"message_timeout_secs",label:"Message Timeout (s)",type:"number",min:1,defaultValue:300,description:"Default: 300 (5 min)"}]},{path:"channels_config.telegram",category:"channels",title:"Telegram",description:"Telegram bot channel",icon:z2,defaultCollapsed:!0,fields:[{key:"bot_token",label:"Bot Token",type:"password",sensitive:!0,description:"e.g. 123456:ABC-DEF1234ghIkl-zyx57W2v"},{key:"allowed_users",label:"Allowed Users",type:"tag-list",tagPlaceholder:"e.g. 123456789 or @username"},{key:"stream_mode",label:"Stream Mode",type:"select",defaultValue:"off",options:[{value:"off",label:"Off"},{value:"partial",label:"Partial"}]},{key:"draft_update_interval_ms",label:"Draft Update Interval (ms)",type:"number",min:100,defaultValue:1e3,description:"Default: 1000"},{key:"mention_only",label:"Mention Only",type:"toggle",defaultValue:!1},{key:"interrupt_on_new_message",label:"Interrupt on New Message",type:"toggle",defaultValue:!1},{key:"base_url",label:"Custom Base URL",type:"text",description:"e.g. https://api.telegram.org"}]},{path:"channels_config.discord",category:"channels",title:"Discord",description:"Discord bot channel",icon:Hm,defaultCollapsed:!0,fields:[{key:"bot_token",label:"Bot Token",type:"password",sensitive:!0,description:"e.g. MTIzNDU2Nzg5.AbCdEf..."},{key:"guild_id",label:"Guild ID",type:"text",description:"e.g. 123456789012345678"},{key:"allowed_users",label:"Allowed Users",type:"tag-list",tagPlaceholder:"e.g. 123456789012345678"},{key:"listen_to_bots",label:"Listen to Bots",type:"toggle",defaultValue:!1},{key:"mention_only",label:"Mention Only",type:"toggle",defaultValue:!1}]},{path:"channels_config.slack",category:"channels",title:"Slack",description:"Slack bot channel",icon:Hm,defaultCollapsed:!0,fields:[{key:"bot_token",label:"Bot Token",type:"password",sensitive:!0,description:"e.g. xoxb-1234567890-..."},{key:"app_token",label:"App Token",type:"password",sensitive:!0,description:"e.g. xapp-1-..."},{key:"channel_id",label:"Channel ID",type:"text",description:"e.g. C0123456789"},{key:"allowed_users",label:"Allowed Users",type:"tag-list",tagPlaceholder:"e.g. U0123456789"}]},{path:"channels_config.mattermost",category:"channels",title:"Mattermost",description:"Mattermost bot channel",icon:kl,defaultCollapsed:!0,fields:[{key:"url",label:"Server URL",type:"text",description:"e.g. https://mattermost.example.com"},{key:"bot_token",label:"Bot Token",type:"password",sensitive:!0,description:"e.g. abc123def456..."},{key:"channel_id",label:"Channel ID",type:"text",description:"e.g. abc123def456ghi789"},{key:"allowed_users",label:"Allowed Users",type:"tag-list",tagPlaceholder:"e.g. user_id or username"},{key:"mention_only",label:"Mention Only",type:"toggle"}]},{path:"channels_config.matrix",category:"channels",title:"Matrix",description:"Matrix chat channel",icon:kl,defaultCollapsed:!0,fields:[{key:"homeserver",label:"Homeserver URL",type:"text",description:"e.g. https://matrix.org"},{key:"access_token",label:"Access Token",type:"password",sensitive:!0,description:"e.g. syt_abc123..."},{key:"user_id",label:"User ID",type:"text",description:"e.g. @bot:matrix.org"},{key:"room_id",label:"Room ID",type:"text",description:"e.g. !abc123:matrix.org"},{key:"allowed_users",label:"Allowed Users",type:"tag-list",tagPlaceholder:"e.g. @user:matrix.org"},{key:"mention_only",label:"Mention Only",type:"toggle",defaultValue:!1}]},{path:"channels_config.signal",category:"channels",title:"Signal",description:"Signal messaging channel",icon:kl,defaultCollapsed:!0,fields:[{key:"http_url",label:"HTTP URL",type:"text",description:"e.g. http://localhost:8080"},{key:"account",label:"Account",type:"text",description:"e.g. +1234567890"},{key:"group_id",label:"Group ID",type:"text",description:"e.g. base64-encoded group ID"},{key:"allowed_from",label:"Allowed From",type:"tag-list",tagPlaceholder:"e.g. +1234567890"},{key:"ignore_attachments",label:"Ignore Attachments",type:"toggle",defaultValue:!1}]},{path:"channels_config.nostr",category:"channels",title:"Nostr",description:"Nostr relay channel",icon:kl,defaultCollapsed:!0,fields:[{key:"private_key",label:"Private Key",type:"password",sensitive:!0,description:"e.g. nsec1abc123..."},{key:"relays",label:"Relays",type:"tag-list",tagPlaceholder:"e.g. wss://relay.damus.io"},{key:"allowed_pubkeys",label:"Allowed Pubkeys",type:"tag-list",tagPlaceholder:"e.g. npub1abc123..."}]},{path:"channels_config.lark",category:"channels",title:"Lark",description:"Lark/Feishu bot channel",icon:kl,defaultCollapsed:!0,fields:[{key:"app_id",label:"App ID",type:"text",description:"e.g. cli_abc123..."},{key:"app_secret",label:"App Secret",type:"password",sensitive:!0,description:"e.g. abc123def456..."},{key:"encrypt_key",label:"Encrypt Key",type:"password",sensitive:!0,description:"Lark event encryption key"},{key:"verification_token",label:"Verification Token",type:"password",sensitive:!0,description:"Lark event verification token"},{key:"allowed_users",label:"Allowed Users",type:"tag-list",tagPlaceholder:"e.g. ou_abc123..."},{key:"mention_only",label:"Mention Only",type:"toggle",defaultValue:!1},{key:"receive_mode",label:"Receive Mode",type:"select",defaultValue:"websocket",options:[{value:"websocket",label:"WebSocket"},{value:"webhook",label:"Webhook"}]},{key:"port",label:"Webhook Port",type:"number",min:1,max:65535,description:"e.g. 8080 (range 165535)"}]},{path:"channels_config.dingtalk",category:"channels",title:"DingTalk",description:"DingTalk bot channel",icon:kl,defaultCollapsed:!0,fields:[{key:"client_id",label:"Client ID",type:"text",description:"e.g. dingabc123..."},{key:"client_secret",label:"Client Secret",type:"password",sensitive:!0,description:"e.g. abc123def456..."},{key:"allowed_users",label:"Allowed Users",type:"tag-list",tagPlaceholder:"e.g. user_id"}]},{path:"channels_config.qq",category:"channels",title:"QQ",description:"QQ bot channel",icon:kl,defaultCollapsed:!0,fields:[{key:"app_id",label:"App ID",type:"text",description:"e.g. 102012345"},{key:"app_secret",label:"App Secret",type:"password",sensitive:!0,description:"e.g. abc123def456..."},{key:"allowed_users",label:"Allowed Users",type:"tag-list",tagPlaceholder:"e.g. QQ user ID"},{key:"receive_mode",label:"Receive Mode",type:"select",defaultValue:"webhook",options:[{value:"websocket",label:"WebSocket"},{value:"webhook",label:"Webhook"}]},{key:"environment",label:"Environment",type:"select",defaultValue:"production",options:[{value:"production",label:"Production"},{value:"sandbox",label:"Sandbox"}]}]},{path:"memory",category:"memory",title:"Memory",description:"Memory backend and embedding settings",icon:zm,fields:[{key:"backend",label:"Backend",type:"select",defaultValue:"sqlite",options:[{value:"sqlite",label:"SQLite"},{value:"markdown",label:"Markdown"}]},{key:"auto_save",label:"Auto Save",type:"toggle",defaultValue:!0},{key:"hygiene_enabled",label:"Hygiene Enabled",type:"toggle",defaultValue:!0},{key:"archive_after_days",label:"Archive After (days)",type:"number",min:1,defaultValue:7,description:"Default: 7"},{key:"purge_after_days",label:"Purge After (days)",type:"number",min:1,defaultValue:30,description:"Default: 30"},{key:"conversation_retention_days",label:"Conversation Retention (days)",type:"number",min:1,defaultValue:30,description:"Default: 30"},{key:"embedding_provider",label:"Embedding Provider",type:"text",defaultValue:"none",description:"e.g. none, openai, local"},{key:"embedding_model",label:"Embedding Model",type:"text",defaultValue:"text-embedding-3-small",description:"e.g. text-embedding-3-small"},{key:"embedding_dimensions",label:"Embedding Dimensions",type:"number",min:1,defaultValue:1536,description:"Default: 1536"},{key:"vector_weight",label:"Vector Weight",type:"number",min:0,max:1,step:.1,defaultValue:.7,description:"Default: 0.7 (range 01)"},{key:"keyword_weight",label:"Keyword Weight",type:"number",min:0,max:1,step:.1,defaultValue:.3,description:"Default: 0.3 (range 01)"},{key:"min_relevance_score",label:"Min Relevance Score",type:"number",min:0,max:1,step:.05,defaultValue:.4,description:"Default: 0.4 (range 01)"},{key:"response_cache_enabled",label:"Response Cache",type:"toggle",defaultValue:!1},{key:"response_cache_ttl_minutes",label:"Cache TTL (min)",type:"number",min:1,defaultValue:60,description:"Default: 60"},{key:"snapshot_enabled",label:"Snapshots",type:"toggle",defaultValue:!1},{key:"auto_hydrate",label:"Auto Hydrate",type:"toggle",defaultValue:!0}]},{path:"memory.qdrant",category:"memory",title:"Memory: Qdrant",description:"Qdrant vector database connection",icon:zm,defaultCollapsed:!0,fields:[{key:"url",label:"URL",type:"text",description:"e.g. http://localhost:6334"},{key:"collection",label:"Collection",type:"text",defaultValue:"zeroclaw_memories",description:"Default: zeroclaw_memories"},{key:"api_key",label:"API Key",type:"password",sensitive:!0,description:"Qdrant Cloud API key"}]},{path:"gateway",category:"network",title:"Gateway",description:"HTTP gateway and webhook server",icon:tx,fields:[{key:"port",label:"Port",type:"number",min:1,max:65535,defaultValue:42617,description:"Default: 42617 (range 165535)"},{key:"host",label:"Host",type:"text",defaultValue:"127.0.0.1",description:"e.g. 127.0.0.1 or 0.0.0.0"},{key:"require_pairing",label:"Require Pairing",type:"toggle",defaultValue:!0},{key:"allow_public_bind",label:"Allow Public Bind",type:"toggle",defaultValue:!1},{key:"pair_rate_limit_per_minute",label:"Pair Rate Limit / min",type:"number",min:1,defaultValue:10,description:"Default: 10"},{key:"webhook_rate_limit_per_minute",label:"Webhook Rate Limit / min",type:"number",min:1,defaultValue:60,description:"Default: 60"},{key:"trust_forwarded_headers",label:"Trust Forwarded Headers",type:"toggle",defaultValue:!1},{key:"idempotency_ttl_secs",label:"Idempotency TTL (s)",type:"number",min:1,defaultValue:300,description:"Default: 300 (5 min)"}]},{path:"gateway.node_control",category:"network",title:"Gateway: Node Control",description:"Multi-node control plane",icon:tx,defaultCollapsed:!0,fields:[{key:"enabled",label:"Enabled",type:"toggle",defaultValue:!1},{key:"auth_token",label:"Auth Token",type:"password",sensitive:!0,description:"Shared secret for node auth"},{key:"allowed_node_ids",label:"Allowed Node IDs",type:"tag-list",tagPlaceholder:"e.g. node-1, node-us-east"}]},{path:"browser",category:"tools",title:"Browser",description:"Browser automation settings",icon:Ya,defaultCollapsed:!0,fields:[{key:"enabled",label:"Enabled",type:"toggle",defaultValue:!1},{key:"allowed_domains",label:"Allowed Domains",type:"tag-list",tagPlaceholder:"e.g. example.com, docs.rs"},{key:"session_name",label:"Session Name",type:"text",description:"e.g. default, research"},{key:"backend",label:"Backend",type:"select",defaultValue:"agent_browser",options:[{value:"agent_browser",label:"Agent Browser"},{value:"native",label:"Native"},{value:"computer_use",label:"Computer Use"}]},{key:"native_headless",label:"Native Headless",type:"toggle",defaultValue:!0},{key:"native_webdriver_url",label:"WebDriver URL",type:"text",defaultValue:"http://127.0.0.1:9515",description:"Default: http://127.0.0.1:9515"}]},{path:"http_request",category:"tools",title:"HTTP Request",description:"HTTP request tool settings",icon:Ya,defaultCollapsed:!0,fields:[{key:"enabled",label:"Enabled",type:"toggle",defaultValue:!1},{key:"allowed_domains",label:"Allowed Domains",type:"tag-list",tagPlaceholder:"e.g. api.example.com"},{key:"max_response_size",label:"Max Response Size (bytes)",type:"number",min:1,defaultValue:1e6,description:"Default: 1000000 (1 MB)"},{key:"timeout_secs",label:"Timeout (s)",type:"number",min:1,defaultValue:30,description:"Default: 30"},{key:"user_agent",label:"User Agent",type:"text",defaultValue:"ZeroClaw/1.0",description:"Default: ZeroClaw/1.0"}]},{path:"web_fetch",category:"tools",title:"Web Fetch",description:"Web page fetching and conversion",icon:Ya,defaultCollapsed:!0,fields:[{key:"enabled",label:"Enabled",type:"toggle",defaultValue:!1},{key:"provider",label:"Provider",type:"text",defaultValue:"fast_html2md",description:"e.g. fast_html2md, firecrawl"},{key:"api_key",label:"API Key",type:"password",sensitive:!0,description:"Provider API key (if required)"},{key:"api_url",label:"API URL",type:"text",description:"e.g. https://api.firecrawl.dev/v1"},{key:"allowed_domains",label:"Allowed Domains",type:"tag-list",tagPlaceholder:"e.g. * (all) or example.com"},{key:"blocked_domains",label:"Blocked Domains",type:"tag-list",tagPlaceholder:"e.g. malware.example.com"},{key:"max_response_size",label:"Max Response Size (bytes)",type:"number",min:1,defaultValue:5e5,description:"Default: 500000 (500 KB)"},{key:"timeout_secs",label:"Timeout (s)",type:"number",min:1,defaultValue:30,description:"Default: 30"},{key:"user_agent",label:"User Agent",type:"text",defaultValue:"ZeroClaw/1.0",description:"Default: ZeroClaw/1.0"}]},{path:"web_search",category:"tools",title:"Web Search",description:"Web search tool settings",icon:fh,defaultCollapsed:!0,fields:[{key:"enabled",label:"Enabled",type:"toggle",defaultValue:!1},{key:"provider",label:"Provider",type:"select",defaultValue:"duckduckgo",options:[{value:"duckduckgo",label:"DuckDuckGo"},{value:"brave",label:"Brave"},{value:"tavily",label:"Tavily"},{value:"serper",label:"Serper"}]},{key:"api_key",label:"API Key",type:"password",sensitive:!0,description:"Search provider API key"},{key:"api_url",label:"API URL",type:"text",description:"e.g. https://api.search.brave.com"},{key:"brave_api_key",label:"Brave API Key",type:"password",sensitive:!0,description:"Brave Search API key"},{key:"max_results",label:"Max Results",type:"number",min:1,defaultValue:5,description:"Default: 5"},{key:"timeout_secs",label:"Timeout (s)",type:"number",min:1,defaultValue:15,description:"Default: 15"}]},{path:"proxy",category:"network",title:"Proxy",description:"Network proxy settings",icon:ET,defaultCollapsed:!0,fields:[{key:"enabled",label:"Enabled",type:"toggle",defaultValue:!1},{key:"http_proxy",label:"HTTP Proxy",type:"text",description:"e.g. http://proxy.example.com:8080"},{key:"https_proxy",label:"HTTPS Proxy",type:"text",description:"e.g. http://proxy.example.com:8443"},{key:"all_proxy",label:"All Proxy",type:"text",description:"e.g. socks5://proxy.example.com:1080"},{key:"no_proxy",label:"No Proxy",type:"tag-list",tagPlaceholder:"e.g. localhost, 127.0.0.1, .internal"},{key:"scope",label:"Scope",type:"select",defaultValue:"zeroclaw",options:[{value:"environment",label:"Environment"},{value:"zeroclaw",label:"ZeroClaw Only"},{value:"services",label:"Services"}]},{key:"services",label:"Proxy Services",type:"tag-list",tagPlaceholder:"e.g. openai, anthropic"}]},{path:"identity",category:"advanced",title:"Identity",description:"Agent identity format",icon:pT,defaultCollapsed:!0,fields:[{key:"format",label:"Format",type:"text",defaultValue:"openclaw",description:"e.g. openclaw, aieos"},{key:"aieos_path",label:"AIEOS Path",type:"text",description:"e.g. ./identity.aieos"},{key:"aieos_inline",label:"AIEOS Inline",type:"text",description:"Inline AIEOS identity string"}]},{path:"cost",category:"advanced",title:"Cost",description:"Cost tracking and spending limits",icon:hh,defaultCollapsed:!0,fields:[{key:"enabled",label:"Enabled",type:"toggle",defaultValue:!1},{key:"daily_limit_usd",label:"Daily Limit (USD)",type:"number",min:0,step:.01,defaultValue:10,description:"Default: 10.00"},{key:"monthly_limit_usd",label:"Monthly Limit (USD)",type:"number",min:0,step:.01,defaultValue:100,description:"Default: 100.00"},{key:"warn_at_percent",label:"Warn at (%)",type:"number",min:0,max:100,defaultValue:80,description:"Default: 80 (range 0100)"},{key:"allow_override",label:"Allow Override",type:"toggle",defaultValue:!1}]},{path:"transcription",category:"advanced",title:"Transcription",description:"Audio transcription settings",icon:TT,defaultCollapsed:!0,fields:[{key:"enabled",label:"Enabled",type:"toggle",defaultValue:!1},{key:"api_url",label:"API URL",type:"text",defaultValue:"https://api.groq.com/openai/v1/audio/transcriptions",description:"Default: Groq Whisper endpoint"},{key:"model",label:"Model",type:"text",defaultValue:"whisper-large-v3-turbo",description:"e.g. whisper-large-v3-turbo"},{key:"language",label:"Language",type:"text",description:"e.g. en, ja, zh, fr"},{key:"max_duration_secs",label:"Max Duration (s)",type:"number",min:1,defaultValue:120,description:"Default: 120 (2 min)"}]},{path:"composio",category:"advanced",title:"Composio",description:"Composio integration",icon:lo,defaultCollapsed:!0,fields:[{key:"enabled",label:"Enabled",type:"toggle",defaultValue:!1},{key:"api_key",label:"API Key",type:"password",sensitive:!0,description:"Composio API key"},{key:"entity_id",label:"Entity ID",type:"text",defaultValue:"default",description:"Default: default"}]},{path:"secrets",category:"advanced",title:"Secrets",description:"Secret storage encryption",icon:_2,defaultCollapsed:!0,fields:[{key:"encrypt",label:"Encrypt",type:"toggle",defaultValue:!0}]},{path:"tunnel",category:"network",title:"Tunnel",description:"Tunnel provider for exposing gateway",icon:hT,defaultCollapsed:!0,fields:[{key:"provider",label:"Provider",type:"select",defaultValue:"none",options:[{value:"none",label:"None"},{value:"cloudflare",label:"Cloudflare"},{value:"tailscale",label:"Tailscale"},{value:"ngrok",label:"ngrok"},{value:"custom",label:"Custom"}]}]},{path:"hardware",category:"advanced",title:"Hardware",description:"Hardware integration settings",icon:Eu,defaultCollapsed:!0,fields:[{key:"enabled",label:"Enabled",type:"toggle",defaultValue:!1},{key:"transport",label:"Transport",type:"select",defaultValue:"None",options:[{value:"None",label:"None"},{value:"Native",label:"Native"},{value:"Serial",label:"Serial"},{value:"Probe",label:"Probe"}]},{key:"serial_port",label:"Serial Port",type:"text",description:"e.g. /dev/ttyUSB0 or COM3"},{key:"baud_rate",label:"Baud Rate",type:"number",min:1,defaultValue:115200,description:"Default: 115200"},{key:"probe_target",label:"Probe Target",type:"text",description:"e.g. STM32F411CEUx"}]},{path:"peripherals",category:"advanced",title:"Peripherals",description:"Hardware peripheral boards",icon:Eu,defaultCollapsed:!0,fields:[{key:"enabled",label:"Enabled",type:"toggle",defaultValue:!1},{key:"datasheet_dir",label:"Datasheet Directory",type:"text",description:"e.g. ./datasheets"}]},{path:"mcp",category:"advanced",title:"MCP",description:"Model Context Protocol servers",icon:RT,defaultCollapsed:!0,fields:[{key:"enabled",label:"Enabled",type:"toggle",defaultValue:!1}]},{path:"wasm",category:"runtime",title:"WASM Plugins",description:"WebAssembly plugin engine",icon:Wp,defaultCollapsed:!0,fields:[{key:"enabled",label:"Enabled",type:"toggle",defaultValue:!0},{key:"memory_limit_mb",label:"Memory Limit (MB)",type:"number",min:1,defaultValue:64,description:"Default: 64"},{key:"fuel_limit",label:"Fuel Limit",type:"number",min:1,defaultValue:1e9,description:"Default: 1000000000"},{key:"registry_url",label:"Registry URL",type:"text",defaultValue:"https://zeromarket.vercel.app/api",description:"Default: ZeroMarket registry"}]},{path:"multimodal",category:"advanced",title:"Multimodal",description:"Image and multimodal input settings",icon:ST,defaultCollapsed:!0,fields:[{key:"max_images",label:"Max Images",type:"number",min:1,defaultValue:4,description:"Default: 4"},{key:"max_image_size_mb",label:"Max Image Size (MB)",type:"number",min:1,defaultValue:5,description:"Default: 5"},{key:"allow_remote_fetch",label:"Allow Remote Fetch",type:"toggle",defaultValue:!1}]},{path:"storage.provider.config",category:"memory",title:"Storage",description:"External storage provider settings",icon:xT,defaultCollapsed:!0,fields:[{key:"provider",label:"Provider",type:"text",description:"e.g. postgres, mysql"},{key:"db_url",label:"Database URL",type:"password",sensitive:!0,description:"e.g. postgres://user:pass@host:5432/db"},{key:"schema",label:"Schema",type:"text",defaultValue:"public",description:"Default: public"},{key:"table",label:"Table",type:"text",defaultValue:"memories",description:"Default: memories"},{key:"tls",label:"TLS",type:"toggle",defaultValue:!1}]},{path:"hooks",category:"advanced",title:"Hooks",description:"Lifecycle hooks",icon:IT,defaultCollapsed:!0,fields:[{key:"enabled",label:"Enabled",type:"toggle",defaultValue:!0}]},{path:"plugins",category:"advanced",title:"Plugins",description:"Plugin system settings",icon:lo,defaultCollapsed:!0,fields:[{key:"enabled",label:"Enabled",type:"toggle",defaultValue:!0},{key:"allow",label:"Allow List",type:"tag-list",tagPlaceholder:"e.g. my-plugin, tools-extra"},{key:"deny",label:"Deny List",type:"tag-list",tagPlaceholder:"e.g. untrusted-plugin"},{key:"load_paths",label:"Load Paths",type:"tag-list",tagPlaceholder:"e.g. ./plugins, /opt/zeroclaw/plugins"}]},{path:"coordination",category:"advanced",title:"Coordination",description:"Multi-agent coordination",icon:nx,defaultCollapsed:!0,fields:[{key:"enabled",label:"Enabled",type:"toggle",defaultValue:!0},{key:"lead_agent",label:"Lead Agent",type:"text",defaultValue:"delegate-lead",description:"Default: delegate-lead"},{key:"max_inbox_messages_per_agent",label:"Max Inbox Messages",type:"number",min:1,defaultValue:256,description:"Default: 256"},{key:"max_dead_letters",label:"Max Dead Letters",type:"number",min:1,defaultValue:256,description:"Default: 256"},{key:"max_context_entries",label:"Max Context Entries",type:"number",min:1,defaultValue:512,description:"Default: 512"}]},{path:"agents_ipc",category:"advanced",title:"Agents IPC",description:"Inter-process agent communication",icon:nx,defaultCollapsed:!0,fields:[{key:"enabled",label:"Enabled",type:"toggle",defaultValue:!1},{key:"db_path",label:"Database Path",type:"text",defaultValue:"~/.zeroclaw/agents.db",description:"Default: ~/.zeroclaw/agents.db"},{key:"staleness_secs",label:"Staleness (s)",type:"number",min:1,defaultValue:300,description:"Default: 300 (5 min)"}]}];function mx({field:n,value:e,onChange:t,isMasked:i}){const[s,a]=M.useState(!1),o=n.type==="password",u=i?"":e??"";return b.jsxs("div",{className:"relative",children:[b.jsx("input",{type:o&&!s?"password":"text",value:u,onChange:f=>t(f.target.value),placeholder:i?"Configured (masked)":n.description??"",className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-3 py-2 text-sm text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500 pr-16"}),b.jsxs("div",{className:"absolute right-2 top-1/2 -translate-y-1/2 flex items-center gap-1",children:[i&&b.jsx(_2,{className:"h-3.5 w-3.5 text-yellow-500"}),o&&b.jsx("button",{type:"button",onClick:()=>a(!s),className:"p-1 text-gray-400 hover:text-gray-200 transition-colors",children:s?b.jsx(yT,{className:"h-3.5 w-3.5"}):b.jsx(O2,{className:"h-3.5 w-3.5"})})]})]})}function hE({field:n,value:e,onChange:t}){const i=e==null||e===""?"":Number(e);return b.jsx("input",{type:"number",value:i,onChange:s=>{const a=s.target.value;if(a===""){t(void 0);return}const o=Number(a);isNaN(o)||t(o)},onBlur:s=>{if(n.step!==void 0&&n.step<1)return;const a=s.target.value;if(a==="")return;const o=Number(a);isNaN(o)||t(Math.floor(o))},min:n.min,max:n.max,step:n.step??1,placeholder:n.description??"",className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-3 py-2 text-sm text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500"})}function fE({field:n,value:e,onChange:t}){const i=!!e;return b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx("button",{type:"button",role:"switch","aria-checked":i,"aria-label":n.label,onClick:()=>t(!i),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${i?"bg-blue-600":"bg-gray-700"}`,children:b.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${i?"translate-x-6":"translate-x-1"}`})}),b.jsx("span",{className:"text-sm text-gray-400",children:i?"Enabled":"Disabled"})]})}function dE({field:n,value:e,onChange:t}){var s;const i=e??"";return b.jsxs("select",{value:i,onChange:a=>t(a.target.value),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-3 py-2 text-sm text-white focus:outline-none focus:ring-2 focus:ring-blue-500",children:[b.jsx("option",{value:"",children:"Select..."}),(s=n.options)==null?void 0:s.map(a=>b.jsx("option",{value:a.value,children:a.label},a.value))]})}function mE({field:n,value:e,onChange:t}){const[i,s]=M.useState(""),a=Array.isArray(e)?e:[],o=d=>{const p=d.trim();p&&!a.includes(p)&&t([...a,p]),s("")},u=d=>{t(a.filter((p,y)=>y!==d))},f=d=>{d.key==="Enter"||d.key===","?(d.preventDefault(),o(i)):d.key==="Backspace"&&i===""&&a.length>0&&u(a.length-1)};return b.jsxs("div",{children:[b.jsx("div",{className:"flex flex-wrap gap-1.5 mb-2",children:a.map((d,p)=>b.jsxs("span",{className:"inline-flex items-center gap-1 bg-gray-700 text-gray-200 rounded-full px-2.5 py-0.5 text-xs",children:[d,b.jsx("button",{type:"button",onClick:()=>u(p),className:"text-gray-400 hover:text-white transition-colors",children:b.jsx(To,{className:"h-3 w-3"})})]},d))}),b.jsx("input",{type:"text",value:i,onChange:d=>s(d.target.value),onKeyDown:f,onBlur:()=>{i.trim()&&o(i)},placeholder:n.tagPlaceholder??"Type and press Enter to add",className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-3 py-2 text-sm text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500"})]})}function pE(n,e,t,i){const s={field:n,value:e,onChange:t,isMasked:i};switch(n.type){case"text":case"password":return b.jsx(mx,{...s});case"number":return b.jsx(hE,{...s});case"toggle":return b.jsx(fE,{...s});case"select":return b.jsx(dE,{...s});case"tag-list":return b.jsx(mE,{...s});default:return b.jsx(mx,{...s})}}function gE({section:n,getFieldValue:e,setFieldValue:t,isFieldMasked:i,visibleFields:s}){const[a,o]=M.useState(n.defaultCollapsed??!1),u=M.useMemo(()=>`config-section-${(n.path||"root").replace(/[^a-zA-Z0-9_-]/g,"-")}`,[n.path]),f=n.icon,d=s??n.fields;return M.useEffect(()=>{o(n.defaultCollapsed??!1)},[n.path,n.defaultCollapsed]),b.jsxs("div",{className:"bg-gray-900 rounded-xl border border-gray-800",children:[b.jsxs("button",{type:"button",onClick:()=>o(!a),"aria-expanded":!a,"aria-controls":u,className:"w-full flex items-center gap-3 px-4 py-3 hover:bg-gray-800/30 transition-colors rounded-t-xl",children:[a?b.jsx(N2,{className:"h-4 w-4 text-gray-500 flex-shrink-0"}):b.jsx(E2,{className:"h-4 w-4 text-gray-500 flex-shrink-0"}),b.jsx(f,{className:"h-4 w-4 text-blue-400 flex-shrink-0"}),b.jsx("span",{className:"text-sm font-medium text-white",children:n.title}),n.description&&b.jsxs("span",{className:"text-xs text-gray-500 hidden sm:inline",children:[" ",n.description]}),b.jsxs("span",{className:"ml-auto text-xs text-gray-600",children:[d.length," ",d.length===1?"field":"fields"]})]}),!a&&b.jsx("div",{id:u,className:"border-t border-gray-800 px-4 py-4 grid grid-cols-1 sm:grid-cols-2 gap-x-4 gap-y-4",children:d.map(p=>{const y=e(n.path,p.key),x=i(n.path,p.key),S=p.type==="tag-list";return b.jsxs("div",{className:`flex flex-col${S?" sm:col-span-2":""}`,children:[b.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-300 mb-1.5",children:[b.jsx("span",{children:p.label}),p.sensitive&&b.jsx("span",{className:"text-[10px] text-yellow-400 bg-yellow-900/30 border border-yellow-800/50 px-1.5 py-0.5 rounded",children:"sensitive"}),x&&b.jsx("span",{className:"text-[10px] text-blue-400 bg-blue-900/30 border border-blue-800/50 px-1.5 py-0.5 rounded",children:"masked"})]}),p.description&&p.type!=="text"&&p.type!=="password"&&p.type!=="number"&&b.jsx("p",{className:"text-xs text-gray-500 mb-1.5",children:p.description}),b.jsx("div",{className:"mt-auto",children:pE(p,y,w=>t(n.path,p.key,w),x)})]},p.key)})})]})}const yE=[{key:"all",label:"All"},{key:"general",label:"General"},{key:"security",label:"Security"},{key:"channels",label:"Channels"},{key:"runtime",label:"Runtime"},{key:"tools",label:"Tools"},{key:"memory",label:"Memory"},{key:"network",label:"Network"},{key:"advanced",label:"Advanced"}];function bE({getFieldValue:n,setFieldValue:e,isFieldMasked:t}){const[i,s]=M.useState(""),[a,o]=M.useState("all"),u=i.trim().length>0,f=M.useMemo(()=>{if(u){const p=i.toLowerCase();return nm.map(y=>{var A;const x=y.title.toLowerCase().includes(p),S=(A=y.description)==null?void 0:A.toLowerCase().includes(p);if(x||S)return{section:y,fields:void 0};const w=y.fields.filter(C=>{var T;return C.label.toLowerCase().includes(p)||C.key.toLowerCase().includes(p)||((T=C.description)==null?void 0:T.toLowerCase().includes(p))});return w.length>0?{section:y,fields:w}:null}).filter(Boolean)}return(a==="all"?nm:nm.filter(p=>p.category===a)).map(p=>({section:p,fields:void 0}))},[i,u,a]);return b.jsxs("div",{className:"space-y-3",children:[b.jsxs("div",{className:"relative",children:[b.jsx(fh,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-500"}),b.jsx("input",{type:"text",value:i,onChange:d=>s(d.target.value),placeholder:"Search config fields...",className:"w-full bg-gray-800 border border-gray-700 rounded-lg pl-9 pr-3 py-2 text-sm text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),!u&&b.jsx("div",{className:"flex flex-wrap gap-2",children:yE.map(({key:d,label:p})=>b.jsx("button",{onClick:()=>o(d),className:`px-3 py-1 rounded-lg text-sm font-medium transition-colors ${a===d?"bg-blue-600 text-white":"bg-gray-900 text-gray-400 border border-gray-700 hover:bg-gray-800 hover:text-gray-200"}`,children:p},d))}),f.length===0?b.jsx("div",{className:"text-center py-12 text-gray-500 text-sm",children:"No matching config fields found."}):f.map(({section:d,fields:p})=>b.jsx(gE,{section:p?{...d,defaultCollapsed:!1}:d,getFieldValue:n,setFieldValue:e,isFieldMasked:t,visibleFields:p},d.path||"_root"))]})}const xE=1024;let vE=0,im=class{constructor(e,t){this.from=e,this.to=t}};class Le{constructor(e={}){this.id=vE++,this.perNode=!!e.perNode,this.deserialize=e.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")}),this.combine=e.combine||null}add(e){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return typeof e!="function"&&(e=fn.match(e)),t=>{let i=e(t);return i===void 0?null:[this,i]}}}Le.closedBy=new Le({deserialize:n=>n.split(" ")});Le.openedBy=new Le({deserialize:n=>n.split(" ")});Le.group=new Le({deserialize:n=>n.split(" ")});Le.isolate=new Le({deserialize:n=>{if(n&&n!="rtl"&&n!="ltr"&&n!="auto")throw new RangeError("Invalid value for isolate: "+n);return n||"auto"}});Le.contextHash=new Le({perNode:!0});Le.lookAhead=new Le({perNode:!0});Le.mounted=new Le({perNode:!0});class Xa{constructor(e,t,i,s=!1){this.tree=e,this.overlay=t,this.parser=i,this.bracketed=s}static get(e){return e&&e.props&&e.props[Le.mounted.id]}}const SE=Object.create(null);class fn{constructor(e,t,i,s=0){this.name=e,this.props=t,this.id=i,this.flags=s}static define(e){let t=e.props&&e.props.length?Object.create(null):SE,i=(e.top?1:0)|(e.skipped?2:0)|(e.error?4:0)|(e.name==null?8:0),s=new fn(e.name||"",t,e.id,i);if(e.props){for(let a of e.props)if(Array.isArray(a)||(a=a(s)),a){if(a[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");t[a[0].id]=a[1]}}return s}prop(e){return this.props[e.id]}get isTop(){return(this.flags&1)>0}get isSkipped(){return(this.flags&2)>0}get isError(){return(this.flags&4)>0}get isAnonymous(){return(this.flags&8)>0}is(e){if(typeof e=="string"){if(this.name==e)return!0;let t=this.prop(Le.group);return t?t.indexOf(e)>-1:!1}return this.id==e}static match(e){let t=Object.create(null);for(let i in e)for(let s of i.split(" "))t[s]=e[i];return i=>{for(let s=i.prop(Le.group),a=-1;a<(s?s.length:0);a++){let o=t[a<0?i.name:s[a]];if(o)return o}}}}fn.none=new fn("",Object.create(null),0,8);class tg{constructor(e){this.types=e;for(let t=0;t<e.length;t++)if(e[t].id!=t)throw new RangeError("Node type ids should correspond to array positions when creating a node set")}extend(...e){let t=[];for(let i of this.types){let s=null;for(let a of e){let o=a(i);if(o){s||(s=Object.assign({},i.props));let u=o[1],f=o[0];f.combine&&f.id in s&&(u=f.combine(s[f.id],u)),s[f.id]=u}}t.push(s?new fn(i.name,s,i.id,i.flags):i)}return new tg(t)}}const nu=new WeakMap,px=new WeakMap;var gt;(function(n){n[n.ExcludeBuffers=1]="ExcludeBuffers",n[n.IncludeAnonymous=2]="IncludeAnonymous",n[n.IgnoreMounts=4]="IgnoreMounts",n[n.IgnoreOverlays=8]="IgnoreOverlays",n[n.EnterBracketed=16]="EnterBracketed"})(gt||(gt={}));class st{constructor(e,t,i,s,a){if(this.type=e,this.children=t,this.positions=i,this.length=s,this.props=null,a&&a.length){this.props=Object.create(null);for(let[o,u]of a)this.props[typeof o=="number"?o:o.id]=u}}toString(){let e=Xa.get(this);if(e&&!e.overlay)return e.tree.toString();let t="";for(let i of this.children){let s=i.toString();s&&(t&&(t+=","),t+=s)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(t.length?"("+t+")":""):t}cursor(e=0){return new Gm(this.topNode,e)}cursorAt(e,t=0,i=0){let s=nu.get(this)||this.topNode,a=new Gm(s);return a.moveTo(e,t),nu.set(this,a._tree),a}get topNode(){return new Un(this,0,0,null)}resolve(e,t=0){let i=so(nu.get(this)||this.topNode,e,t,!1);return nu.set(this,i),i}resolveInner(e,t=0){let i=so(px.get(this)||this.topNode,e,t,!0);return px.set(this,i),i}resolveStack(e,t=0){return CE(this,e,t)}iterate(e){let{enter:t,leave:i,from:s=0,to:a=this.length}=e,o=e.mode||0,u=(o&gt.IncludeAnonymous)>0;for(let f=this.cursor(o|gt.IncludeAnonymous);;){let d=!1;if(f.from<=a&&f.to>=s&&(!u&&f.type.isAnonymous||t(f)!==!1)){if(f.firstChild())continue;d=!0}for(;d&&i&&(u||!f.type.isAnonymous)&&i(f),!f.nextSibling();){if(!f.parent())return;d=!0}}}prop(e){return e.perNode?this.props?this.props[e.id]:void 0:this.type.prop(e)}get propValues(){let e=[];if(this.props)for(let t in this.props)e.push([+t,this.props[t]]);return e}balance(e={}){return this.children.length<=8?this:lg(fn.none,this.children,this.positions,0,this.children.length,0,this.length,(t,i,s)=>new st(this.type,t,i,s,this.propValues),e.makeTree||((t,i,s)=>new st(fn.none,t,i,s)))}static build(e){return AE(e)}}st.empty=new st(fn.none,[],[],0);class ng{constructor(e,t){this.buffer=e,this.index=t}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new ng(this.buffer,this.index)}}class Dl{constructor(e,t,i){this.buffer=e,this.length=t,this.set=i}get type(){return fn.none}toString(){let e=[];for(let t=0;t<this.buffer.length;)e.push(this.childString(t)),t=this.buffer[t+3];return e.join(",")}childString(e){let t=this.buffer[e],i=this.buffer[e+3],s=this.set.types[t],a=s.name;if(/\W/.test(a)&&!s.isError&&(a=JSON.stringify(a)),e+=4,i==e)return a;let o=[];for(;e<i;)o.push(this.childString(e)),e=this.buffer[e+3];return a+"("+o.join(",")+")"}findChild(e,t,i,s,a){let{buffer:o}=this,u=-1;for(let f=e;f!=t&&!(J2(a,s,o[f+1],o[f+2])&&(u=f,i>0));f=o[f+3]);return u}slice(e,t,i){let s=this.buffer,a=new Uint16Array(t-e),o=0;for(let u=e,f=0;u<t;){a[f++]=s[u++],a[f++]=s[u++]-i;let d=a[f++]=s[u++]-i;a[f++]=s[u++]-e,o=Math.max(o,d)}return new Dl(a,o,this.set)}}function J2(n,e,t,i){switch(n){case-2:return t<e;case-1:return i>=e&&t<e;case 0:return t<e&&i>e;case 1:return t<=e&&i>e;case 2:return i>e;case 4:return!0}}function so(n,e,t,i){for(var s;n.from==n.to||(t<1?n.from>=e:n.from>e)||(t>-1?n.to<=e:n.to<e);){let o=!i&&n instanceof Un&&n.index<0?null:n.parent;if(!o)return n;n=o}let a=i?0:gt.IgnoreOverlays;if(i)for(let o=n,u=o.parent;u;o=u,u=o.parent)o instanceof Un&&o.index<0&&((s=u.enter(e,t,a))===null||s===void 0?void 0:s.from)!=o.from&&(n=u);for(;;){let o=n.enter(e,t,a);if(!o)return n;n=o}}class eS{cursor(e=0){return new Gm(this,e)}getChild(e,t=null,i=null){let s=gx(this,e,t,i);return s.length?s[0]:null}getChildren(e,t=null,i=null){return gx(this,e,t,i)}resolve(e,t=0){return so(this,e,t,!1)}resolveInner(e,t=0){return so(this,e,t,!0)}matchContext(e){return Ym(this.parent,e)}enterUnfinishedNodesBefore(e){let t=this.childBefore(e),i=this;for(;t;){let s=t.lastChild;if(!s||s.to!=t.to)break;s.type.isError&&s.from==s.to?(i=t,t=s.prevSibling):t=s}return i}get node(){return this}get next(){return this.parent}}class Un extends eS{constructor(e,t,i,s){super(),this._tree=e,this.from=t,this.index=i,this._parent=s}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(e,t,i,s,a=0){for(let o=this;;){for(let{children:u,positions:f}=o._tree,d=t>0?u.length:-1;e!=d;e+=t){let p=u[e],y=f[e]+o.from,x;if(!(!(a&gt.EnterBracketed&&p instanceof st&&(x=Xa.get(p))&&!x.overlay&&x.bracketed&&i>=y&&i<=y+p.length)&&!J2(s,i,y,y+p.length))){if(p instanceof Dl){if(a&gt.ExcludeBuffers)continue;let S=p.findChild(0,p.buffer.length,t,i-y,s);if(S>-1)return new Tl(new wE(o,p,e,y),null,S)}else if(a&gt.IncludeAnonymous||!p.type.isAnonymous||ig(p)){let S;if(!(a&gt.IgnoreMounts)&&(S=Xa.get(p))&&!S.overlay)return new Un(S.tree,y,e,o);let w=new Un(p,y,e,o);return a&gt.IncludeAnonymous||!w.type.isAnonymous?w:w.nextChild(t<0?p.children.length-1:0,t,i,s,a)}}}if(a&gt.IncludeAnonymous||!o.type.isAnonymous||(o.index>=0?e=o.index+t:e=t<0?-1:o._parent._tree.children.length,o=o._parent,!o))return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(e){return this.nextChild(0,1,e,2)}childBefore(e){return this.nextChild(this._tree.children.length-1,-1,e,-2)}prop(e){return this._tree.prop(e)}enter(e,t,i=0){let s;if(!(i&gt.IgnoreOverlays)&&(s=Xa.get(this._tree))&&s.overlay){let a=e-this.from,o=i&gt.EnterBracketed&&s.bracketed;for(let{from:u,to:f}of s.overlay)if((t>0||o?u<=a:u<a)&&(t<0||o?f>=a:f>a))return new Un(s.tree,s.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,e,t,i)}nextSignificantParent(){let e=this;for(;e.type.isAnonymous&&e._parent;)e=e._parent;return e}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}get tree(){return this._tree}toTree(){return this._tree}toString(){return this._tree.toString()}}function gx(n,e,t,i){let s=n.cursor(),a=[];if(!s.firstChild())return a;if(t!=null){for(let o=!1;!o;)if(o=s.type.is(t),!s.nextSibling())return a}for(;;){if(i!=null&&s.type.is(i))return a;if(s.type.is(e)&&a.push(s.node),!s.nextSibling())return i==null?a:[]}}function Ym(n,e,t=e.length-1){for(let i=n;t>=0;i=i.parent){if(!i)return!1;if(!i.type.isAnonymous){if(e[t]&&e[t]!=i.name)return!1;t--}}return!0}class wE{constructor(e,t,i,s){this.parent=e,this.buffer=t,this.index=i,this.start=s}}class Tl extends eS{get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}constructor(e,t,i){super(),this.context=e,this._parent=t,this.index=i,this.type=e.buffer.set.types[e.buffer.buffer[i]]}child(e,t,i){let{buffer:s}=this.context,a=s.findChild(this.index+4,s.buffer[this.index+3],e,t-this.context.start,i);return a<0?null:new Tl(this.context,this,a)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(e){return this.child(1,e,2)}childBefore(e){return this.child(-1,e,-2)}prop(e){return this.type.prop(e)}enter(e,t,i=0){if(i&gt.ExcludeBuffers)return null;let{buffer:s}=this.context,a=s.findChild(this.index+4,s.buffer[this.index+3],t>0?1:-1,e-this.context.start,t);return a<0?null:new Tl(this.context,this,a)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(e){return this._parent?null:this.context.parent.nextChild(this.context.index+e,e,0,4)}get nextSibling(){let{buffer:e}=this.context,t=e.buffer[this.index+3];return t<(this._parent?e.buffer[this._parent.index+3]:e.buffer.length)?new Tl(this.context,this._parent,t):this.externalSibling(1)}get prevSibling(){let{buffer:e}=this.context,t=this._parent?this._parent.index+4:0;return this.index==t?this.externalSibling(-1):new Tl(this.context,this._parent,e.findChild(t,this.index,-1,0,4))}get tree(){return null}toTree(){let e=[],t=[],{buffer:i}=this.context,s=this.index+4,a=i.buffer[this.index+3];if(a>s){let o=i.buffer[this.index+1];e.push(i.slice(s,a,o)),t.push(0)}return new st(this.type,e,t,this.to-this.from)}toString(){return this.context.buffer.childString(this.index)}}function tS(n){if(!n.length)return null;let e=0,t=n[0];for(let a=1;a<n.length;a++){let o=n[a];(o.from>t.from||o.to<t.to)&&(t=o,e=a)}let i=t instanceof Un&&t.index<0?null:t.parent,s=n.slice();return i?s[e]=i:s.splice(e,1),new kE(s,t)}class kE{constructor(e,t){this.heads=e,this.node=t}get next(){return tS(this.heads)}}function CE(n,e,t){let i=n.resolveInner(e,t),s=null;for(let a=i instanceof Un?i:i.context.parent;a;a=a.parent)if(a.index<0){let o=a.parent;(s||(s=[i])).push(o.resolve(e,t)),a=o}else{let o=Xa.get(a.tree);if(o&&o.overlay&&o.overlay[0].from<=e&&o.overlay[o.overlay.length-1].to>=e){let u=new Un(o.tree,o.overlay[0].from+a.from,-1,a);(s||(s=[i])).push(so(u,e,t,!1))}}return s?tS(s):i}class Gm{get name(){return this.type.name}constructor(e,t=0){if(this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,this.mode=t&~gt.EnterBracketed,e instanceof Un)this.yieldNode(e);else{this._tree=e.context.parent,this.buffer=e.context;for(let i=e._parent;i;i=i._parent)this.stack.unshift(i.index);this.bufferNode=e,this.yieldBuf(e.index)}}yieldNode(e){return e?(this._tree=e,this.type=e.type,this.from=e.from,this.to=e.to,!0):!1}yieldBuf(e,t){this.index=e;let{start:i,buffer:s}=this.buffer;return this.type=t||s.set.types[s.buffer[e]],this.from=i+s.buffer[e+1],this.to=i+s.buffer[e+2],!0}yield(e){return e?e instanceof Un?(this.buffer=null,this.yieldNode(e)):(this.buffer=e.context,this.yieldBuf(e.index,e.type)):!1}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(e,t,i){if(!this.buffer)return this.yield(this._tree.nextChild(e<0?this._tree._tree.children.length-1:0,e,t,i,this.mode));let{buffer:s}=this.buffer,a=s.findChild(this.index+4,s.buffer[this.index+3],e,t-this.buffer.start,i);return a<0?!1:(this.stack.push(this.index),this.yieldBuf(a))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(e){return this.enterChild(1,e,2)}childBefore(e){return this.enterChild(-1,e,-2)}enter(e,t,i=this.mode){return this.buffer?i&gt.ExcludeBuffers?!1:this.enterChild(1,e,t):this.yield(this._tree.enter(e,t,i))}parent(){if(!this.buffer)return this.yieldNode(this.mode&gt.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let e=this.mode&gt.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(e)}sibling(e){if(!this.buffer)return this._tree._parent?this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+e,e,0,4,this.mode)):!1;let{buffer:t}=this.buffer,i=this.stack.length-1;if(e<0){let s=i<0?0:this.stack[i]+4;if(this.index!=s)return this.yieldBuf(t.findChild(s,this.index,-1,0,4))}else{let s=t.buffer[this.index+3];if(s<(i<0?t.buffer.length:t.buffer[this.stack[i]+3]))return this.yieldBuf(s)}return i<0?this.yield(this.buffer.parent.nextChild(this.buffer.index+e,e,0,4,this.mode)):!1}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(e){let t,i,{buffer:s}=this;if(s){if(e>0){if(this.index<s.buffer.buffer.length)return!1}else for(let a=0;a<this.index;a++)if(s.buffer.buffer[a+3]<this.index)return!1;({index:t,parent:i}=s)}else({index:t,_parent:i}=this._tree);for(;i;{index:t,_parent:i}=i)if(t>-1)for(let a=t+e,o=e<0?-1:i._tree.children.length;a!=o;a+=e){let u=i._tree.children[a];if(this.mode&gt.IncludeAnonymous||u instanceof Dl||!u.type.isAnonymous||ig(u))return!1}return!0}move(e,t){if(t&&this.enterChild(e,0,4))return!0;for(;;){if(this.sibling(e))return!0;if(this.atLastNode(e)||!this.parent())return!1}}next(e=!0){return this.move(1,e)}prev(e=!0){return this.move(-1,e)}moveTo(e,t=0){for(;(this.from==this.to||(t<1?this.from>=e:this.from>e)||(t>-1?this.to<=e:this.to<e))&&this.parent(););for(;this.enterChild(1,e,t););return this}get node(){if(!this.buffer)return this._tree;let e=this.bufferNode,t=null,i=0;if(e&&e.context==this.buffer)e:for(let s=this.index,a=this.stack.length;a>=0;){for(let o=e;o;o=o._parent)if(o.index==s){if(s==this.index)return o;t=o,i=a+1;break e}s=this.stack[--a]}for(let s=i;s<this.stack.length;s++)t=new Tl(this.buffer,t,this.stack[s]);return this.bufferNode=new Tl(this.buffer,t,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(e,t){for(let i=0;;){let s=!1;if(this.type.isAnonymous||e(this)!==!1){if(this.firstChild()){i++;continue}this.type.isAnonymous||(s=!0)}for(;;){if(s&&t&&t(this),s=this.type.isAnonymous,!i)return;if(this.nextSibling())break;this.parent(),i--,s=!0}}}matchContext(e){if(!this.buffer)return Ym(this.node.parent,e);let{buffer:t}=this.buffer,{types:i}=t.set;for(let s=e.length-1,a=this.stack.length-1;s>=0;a--){if(a<0)return Ym(this._tree,e,s);let o=i[t.buffer[this.stack[a]]];if(!o.isAnonymous){if(e[s]&&e[s]!=o.name)return!1;s--}}return!0}}function ig(n){return n.children.some(e=>e instanceof Dl||!e.type.isAnonymous||ig(e))}function AE(n){var e;let{buffer:t,nodeSet:i,maxBufferLength:s=xE,reused:a=[],minRepeatType:o=i.types.length}=n,u=Array.isArray(t)?new ng(t,t.length):t,f=i.types,d=0,p=0;function y(B,G,V,Q,Z,ue){let{id:fe,start:ne,end:pe,size:J}=u,ve=p,z=d;if(J<0)if(u.next(),J==-1){let D=a[fe];V.push(D),Q.push(ne-B);return}else if(J==-3){d=fe;return}else if(J==-4){p=fe;return}else throw new RangeError(`Unrecognized record size: ${J}`);let K=f[fe],$,ie,ge=ne-B;if(pe-ne<=s&&(ie=C(u.pos-G,Z))){let D=new Uint16Array(ie.size-ie.skip),P=u.pos-ie.size,ee=D.length;for(;u.pos>P;)ee=T(ie.start,D,ee);$=new Dl(D,pe-ie.start,i),ge=ie.start-B}else{let D=u.pos-J;u.next();let P=[],ee=[],se=fe>=o?fe:-1,ye=0,Ce=pe;for(;u.pos>D;)se>=0&&u.id==se&&u.size>=0?(u.end<=Ce-s&&(w(P,ee,ne,ye,u.end,Ce,se,ve,z),ye=P.length,Ce=u.end),u.next()):ue>2500?x(ne,D,P,ee):y(ne,D,P,ee,se,ue+1);if(se>=0&&ye>0&&ye<P.length&&w(P,ee,ne,ye,ne,Ce,se,ve,z),P.reverse(),ee.reverse(),se>-1&&ye>0){let Ne=S(K,z);$=lg(K,P,ee,0,P.length,0,pe-ne,Ne,Ne)}else $=A(K,P,ee,pe-ne,ve-pe,z)}V.push($),Q.push(ge)}function x(B,G,V,Q){let Z=[],ue=0,fe=-1;for(;u.pos>G;){let{id:ne,start:pe,end:J,size:ve}=u;if(ve>4)u.next();else{if(fe>-1&&pe<fe)break;fe<0&&(fe=J-s),Z.push(ne,pe,J),ue++,u.next()}}if(ue){let ne=new Uint16Array(ue*4),pe=Z[Z.length-2];for(let J=Z.length-3,ve=0;J>=0;J-=3)ne[ve++]=Z[J],ne[ve++]=Z[J+1]-pe,ne[ve++]=Z[J+2]-pe,ne[ve++]=ve;V.push(new Dl(ne,Z[2]-pe,i)),Q.push(pe-B)}}function S(B,G){return(V,Q,Z)=>{let ue=0,fe=V.length-1,ne,pe;if(fe>=0&&(ne=V[fe])instanceof st){if(!fe&&ne.type==B&&ne.length==Z)return ne;(pe=ne.prop(Le.lookAhead))&&(ue=Q[fe]+ne.length+pe)}return A(B,V,Q,Z,ue,G)}}function w(B,G,V,Q,Z,ue,fe,ne,pe){let J=[],ve=[];for(;B.length>Q;)J.push(B.pop()),ve.push(G.pop()+V-Z);B.push(A(i.types[fe],J,ve,ue-Z,ne-ue,pe)),G.push(Z-V)}function A(B,G,V,Q,Z,ue,fe){if(ue){let ne=[Le.contextHash,ue];fe=fe?[ne].concat(fe):[ne]}if(Z>25){let ne=[Le.lookAhead,Z];fe=fe?[ne].concat(fe):[ne]}return new st(B,G,V,Q,fe)}function C(B,G){let V=u.fork(),Q=0,Z=0,ue=0,fe=V.end-s,ne={size:0,start:0,skip:0};e:for(let pe=V.pos-B;V.pos>pe;){let J=V.size;if(V.id==G&&J>=0){ne.size=Q,ne.start=Z,ne.skip=ue,ue+=4,Q+=4,V.next();continue}let ve=V.pos-J;if(J<0||ve<pe||V.start<fe)break;let z=V.id>=o?4:0,K=V.start;for(V.next();V.pos>ve;){if(V.size<0)if(V.size==-3||V.size==-4)z+=4;else break e;else V.id>=o&&(z+=4);V.next()}Z=K,Q+=J,ue+=z}return(G<0||Q==B)&&(ne.size=Q,ne.start=Z,ne.skip=ue),ne.size>4?ne:void 0}function T(B,G,V){let{id:Q,start:Z,end:ue,size:fe}=u;if(u.next(),fe>=0&&Q<o){let ne=V;if(fe>4){let pe=u.pos-(fe-4);for(;u.pos>pe;)V=T(B,G,V)}G[--V]=ne,G[--V]=ue-B,G[--V]=Z-B,G[--V]=Q}else fe==-3?d=Q:fe==-4&&(p=Q);return V}let j=[],N=[];for(;u.pos>0;)y(n.start||0,n.bufferStart||0,j,N,-1,0);let q=(e=n.length)!==null&&e!==void 0?e:j.length?N[0]+j[0].length:0;return new st(f[n.topID],j.reverse(),N.reverse(),q)}const yx=new WeakMap;function Nu(n,e){if(!n.isAnonymous||e instanceof Dl||e.type!=n)return 1;let t=yx.get(e);if(t==null){t=1;for(let i of e.children){if(i.type!=n||!(i instanceof st)){t=1;break}t+=Nu(n,i)}yx.set(e,t)}return t}function lg(n,e,t,i,s,a,o,u,f){let d=0;for(let w=i;w<s;w++)d+=Nu(n,e[w]);let p=Math.ceil(d*1.5/8),y=[],x=[];function S(w,A,C,T,j){for(let N=C;N<T;){let q=N,B=A[N],G=Nu(n,w[N]);for(N++;N<T;N++){let V=Nu(n,w[N]);if(G+V>=p)break;G+=V}if(N==q+1){if(G>p){let V=w[q];S(V.children,V.positions,0,V.children.length,A[q]+j);continue}y.push(w[q])}else{let V=A[N-1]+w[N-1].length-B;y.push(lg(n,w,A,q,N,B,V,null,f))}x.push(B+j-a)}}return S(e,t,i,s,0),(u||f)(y,x,o)}class ms{constructor(e,t,i,s,a=!1,o=!1){this.from=e,this.to=t,this.tree=i,this.offset=s,this.open=(a?1:0)|(o?2:0)}get openStart(){return(this.open&1)>0}get openEnd(){return(this.open&2)>0}static addTree(e,t=[],i=!1){let s=[new ms(0,e.length,e,0,!1,i)];for(let a of t)a.to>e.length&&s.push(a);return s}static applyChanges(e,t,i=128){if(!t.length)return e;let s=[],a=1,o=e.length?e[0]:null;for(let u=0,f=0,d=0;;u++){let p=u<t.length?t[u]:null,y=p?p.fromA:1e9;if(y-f>=i)for(;o&&o.from<y;){let x=o;if(f>=x.from||y<=x.to||d){let S=Math.max(x.from,f)-d,w=Math.min(x.to,y)-d;x=S>=w?null:new ms(S,w,x.tree,x.offset+d,u>0,!!p)}if(x&&s.push(x),o.to>y)break;o=a<e.length?e[a++]:null}if(!p)break;f=p.toA,d=p.toA-p.toB}return s}}class nS{startParse(e,t,i){return typeof e=="string"&&(e=new ME(e)),i=i?i.length?i.map(s=>new im(s.from,s.to)):[new im(0,0)]:[new im(0,e.length)],this.createParse(e,t||[],i)}parse(e,t,i){let s=this.startParse(e,t,i);for(;;){let a=s.advance();if(a)return a}}}class ME{constructor(e){this.string=e}get length(){return this.string.length}chunk(e){return this.string.slice(e)}get lineChunks(){return!1}read(e,t){return this.string.slice(e,t)}}new Le({perNode:!0});let Im=[],iS=[];(()=>{let n="lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o".split(",").map(e=>e?parseInt(e,36):1);for(let e=0,t=0;e<n.length;e++)(e%2?iS:Im).push(t=t+n[e])})();function TE(n){if(n<768)return!1;for(let e=0,t=Im.length;;){let i=e+t>>1;if(n<Im[i])t=i;else if(n>=iS[i])e=i+1;else return!0;if(e==t)return!1}}function bx(n){return n>=127462&&n<=127487}const xx=8205;function EE(n,e,t=!0,i=!0){return(t?lS:NE)(n,e,i)}function lS(n,e,t){if(e==n.length)return e;e&&sS(n.charCodeAt(e))&&rS(n.charCodeAt(e-1))&&e--;let i=lm(n,e);for(e+=vx(i);e<n.length;){let s=lm(n,e);if(i==xx||s==xx||t&&TE(s))e+=vx(s),i=s;else if(bx(s)){let a=0,o=e-2;for(;o>=0&&bx(lm(n,o));)a++,o-=2;if(a%2==0)break;e+=2}else break}return e}function NE(n,e,t){for(;e>0;){let i=lS(n,e-2,t);if(i<e)return i;e--}return 0}function lm(n,e){let t=n.charCodeAt(e);if(!rS(t)||e+1==n.length)return t;let i=n.charCodeAt(e+1);return sS(i)?(t-55296<<10)+(i-56320)+65536:t}function sS(n){return n>=56320&&n<57344}function rS(n){return n>=55296&&n<56320}function vx(n){return n<65536?1:2}class qe{lineAt(e){if(e<0||e>this.length)throw new RangeError(`Invalid position ${e} in document of length ${this.length}`);return this.lineInner(e,!1,1,0)}line(e){if(e<1||e>this.lines)throw new RangeError(`Invalid line number ${e} in ${this.lines}-line document`);return this.lineInner(e,!0,1,0)}replace(e,t,i){[e,t]=Mr(this,e,t);let s=[];return this.decompose(0,e,s,2),i.length&&i.decompose(0,i.length,s,3),this.decompose(t,this.length,s,1),di.from(s,this.length-(t-e)+i.length)}append(e){return this.replace(this.length,this.length,e)}slice(e,t=this.length){[e,t]=Mr(this,e,t);let i=[];return this.decompose(e,t,i,0),di.from(i,t-e)}eq(e){if(e==this)return!0;if(e.length!=this.length||e.lines!=this.lines)return!1;let t=this.scanIdentical(e,1),i=this.length-this.scanIdentical(e,-1),s=new Qa(this),a=new Qa(e);for(let o=t,u=t;;){if(s.next(o),a.next(o),o=0,s.lineBreak!=a.lineBreak||s.done!=a.done||s.value!=a.value)return!1;if(u+=s.value.length,s.done||u>=i)return!0}}iter(e=1){return new Qa(this,e)}iterRange(e,t=this.length){return new aS(this,e,t)}iterLines(e,t){let i;if(e==null)i=this.iter();else{t==null&&(t=this.lines+1);let s=this.line(e).from;i=this.iterRange(s,Math.max(s,t==this.lines+1?this.length:t<=1?0:this.line(t-1).to))}return new oS(i)}toString(){return this.sliceString(0)}toJSON(){let e=[];return this.flatten(e),e}constructor(){}static of(e){if(e.length==0)throw new RangeError("A document must have at least one line");return e.length==1&&!e[0]?qe.empty:e.length<=32?new pt(e):di.from(pt.split(e,[]))}}class pt extends qe{constructor(e,t=DE(e)){super(),this.text=e,this.length=t}get lines(){return this.text.length}get children(){return null}lineInner(e,t,i,s){for(let a=0;;a++){let o=this.text[a],u=s+o.length;if((t?i:u)>=e)return new OE(s,u,i,o);s=u+1,i++}}decompose(e,t,i,s){let a=e<=0&&t>=this.length?this:new pt(Sx(this.text,e,t),Math.min(t,this.length)-Math.max(0,e));if(s&1){let o=i.pop(),u=Du(a.text,o.text.slice(),0,a.length);if(u.length<=32)i.push(new pt(u,o.length+a.length));else{let f=u.length>>1;i.push(new pt(u.slice(0,f)),new pt(u.slice(f)))}}else i.push(a)}replace(e,t,i){if(!(i instanceof pt))return super.replace(e,t,i);[e,t]=Mr(this,e,t);let s=Du(this.text,Du(i.text,Sx(this.text,0,e)),t),a=this.length+i.length-(t-e);return s.length<=32?new pt(s,a):di.from(pt.split(s,[]),a)}sliceString(e,t=this.length,i=`
`){[e,t]=Mr(this,e,t);let s="";for(let a=0,o=0;a<=t&&o<this.text.length;o++){let u=this.text[o],f=a+u.length;a>e&&o&&(s+=i),e<f&&t>a&&(s+=u.slice(Math.max(0,e-a),t-a)),a=f+1}return s}flatten(e){for(let t of this.text)e.push(t)}scanIdentical(){return 0}static split(e,t){let i=[],s=-1;for(let a of e)i.push(a),s+=a.length+1,i.length==32&&(t.push(new pt(i,s)),i=[],s=-1);return s>-1&&t.push(new pt(i,s)),t}}class di extends qe{constructor(e,t){super(),this.children=e,this.length=t,this.lines=0;for(let i of e)this.lines+=i.lines}lineInner(e,t,i,s){for(let a=0;;a++){let o=this.children[a],u=s+o.length,f=i+o.lines-1;if((t?f:u)>=e)return o.lineInner(e,t,i,s);s=u+1,i=f+1}}decompose(e,t,i,s){for(let a=0,o=0;o<=t&&a<this.children.length;a++){let u=this.children[a],f=o+u.length;if(e<=f&&t>=o){let d=s&((o<=e?1:0)|(f>=t?2:0));o>=e&&f<=t&&!d?i.push(u):u.decompose(e-o,t-o,i,d)}o=f+1}}replace(e,t,i){if([e,t]=Mr(this,e,t),i.lines<this.lines)for(let s=0,a=0;s<this.children.length;s++){let o=this.children[s],u=a+o.length;if(e>=a&&t<=u){let f=o.replace(e-a,t-a,i),d=this.lines-o.lines+f.lines;if(f.lines<d>>4&&f.lines>d>>6){let p=this.children.slice();return p[s]=f,new di(p,this.length-(t-e)+i.length)}return super.replace(a,u,f)}a=u+1}return super.replace(e,t,i)}sliceString(e,t=this.length,i=`
`){[e,t]=Mr(this,e,t);let s="";for(let a=0,o=0;a<this.children.length&&o<=t;a++){let u=this.children[a],f=o+u.length;o>e&&a&&(s+=i),e<f&&t>o&&(s+=u.sliceString(e-o,t-o,i)),o=f+1}return s}flatten(e){for(let t of this.children)t.flatten(e)}scanIdentical(e,t){if(!(e instanceof di))return 0;let i=0,[s,a,o,u]=t>0?[0,0,this.children.length,e.children.length]:[this.children.length-1,e.children.length-1,-1,-1];for(;;s+=t,a+=t){if(s==o||a==u)return i;let f=this.children[s],d=e.children[a];if(f!=d)return i+f.scanIdentical(d,t);i+=f.length+1}}static from(e,t=e.reduce((i,s)=>i+s.length+1,-1)){let i=0;for(let S of e)i+=S.lines;if(i<32){let S=[];for(let w of e)w.flatten(S);return new pt(S,t)}let s=Math.max(32,i>>5),a=s<<1,o=s>>1,u=[],f=0,d=-1,p=[];function y(S){let w;if(S.lines>a&&S instanceof di)for(let A of S.children)y(A);else S.lines>o&&(f>o||!f)?(x(),u.push(S)):S instanceof pt&&f&&(w=p[p.length-1])instanceof pt&&S.lines+w.lines<=32?(f+=S.lines,d+=S.length+1,p[p.length-1]=new pt(w.text.concat(S.text),w.length+1+S.length)):(f+S.lines>s&&x(),f+=S.lines,d+=S.length+1,p.push(S))}function x(){f!=0&&(u.push(p.length==1?p[0]:di.from(p,d)),d=-1,f=p.length=0)}for(let S of e)y(S);return x(),u.length==1?u[0]:new di(u,t)}}qe.empty=new pt([""],0);function DE(n){let e=-1;for(let t of n)e+=t.length+1;return e}function Du(n,e,t=0,i=1e9){for(let s=0,a=0,o=!0;a<n.length&&s<=i;a++){let u=n[a],f=s+u.length;f>=t&&(f>i&&(u=u.slice(0,i-s)),s<t&&(u=u.slice(t-s)),o?(e[e.length-1]+=u,o=!1):e.push(u)),s=f+1}return e}function Sx(n,e,t){return Du(n,[""],e,t)}class Qa{constructor(e,t=1){this.dir=t,this.done=!1,this.lineBreak=!1,this.value="",this.nodes=[e],this.offsets=[t>0?1:(e instanceof pt?e.text.length:e.children.length)<<1]}nextInner(e,t){for(this.done=this.lineBreak=!1;;){let i=this.nodes.length-1,s=this.nodes[i],a=this.offsets[i],o=a>>1,u=s instanceof pt?s.text.length:s.children.length;if(o==(t>0?u:0)){if(i==0)return this.done=!0,this.value="",this;t>0&&this.offsets[i-1]++,this.nodes.pop(),this.offsets.pop()}else if((a&1)==(t>0?0:1)){if(this.offsets[i]+=t,e==0)return this.lineBreak=!0,this.value=`
`,this;e--}else if(s instanceof pt){let f=s.text[o+(t<0?-1:0)];if(this.offsets[i]+=t,f.length>Math.max(0,e))return this.value=e==0?f:t>0?f.slice(e):f.slice(0,f.length-e),this;e-=f.length}else{let f=s.children[o+(t<0?-1:0)];e>f.length?(e-=f.length,this.offsets[i]+=t):(t<0&&this.offsets[i]--,this.nodes.push(f),this.offsets.push(t>0?1:(f instanceof pt?f.text.length:f.children.length)<<1))}}}next(e=0){return e<0&&(this.nextInner(-e,-this.dir),e=this.value.length),this.nextInner(e,this.dir)}}class aS{constructor(e,t,i){this.value="",this.done=!1,this.cursor=new Qa(e,t>i?-1:1),this.pos=t>i?e.length:0,this.from=Math.min(t,i),this.to=Math.max(t,i)}nextInner(e,t){if(t<0?this.pos<=this.from:this.pos>=this.to)return this.value="",this.done=!0,this;e+=Math.max(0,t<0?this.pos-this.to:this.from-this.pos);let i=t<0?this.pos-this.from:this.to-this.pos;e>i&&(e=i),i-=e;let{value:s}=this.cursor.next(e);return this.pos+=(s.length+e)*t,this.value=s.length<=i?s:t<0?s.slice(s.length-i):s.slice(0,i),this.done=!this.value,this}next(e=0){return e<0?e=Math.max(e,this.from-this.pos):e>0&&(e=Math.min(e,this.to-this.pos)),this.nextInner(e,this.cursor.dir)}get lineBreak(){return this.cursor.lineBreak&&this.value!=""}}class oS{constructor(e){this.inner=e,this.afterBreak=!0,this.value="",this.done=!1}next(e=0){let{done:t,lineBreak:i,value:s}=this.inner.next(e);return t&&this.afterBreak?(this.value="",this.afterBreak=!1):t?(this.done=!0,this.value=""):i?this.afterBreak?this.value="":(this.afterBreak=!0,this.next()):(this.value=s,this.afterBreak=!1),this}get lineBreak(){return!1}}typeof Symbol<"u"&&(qe.prototype[Symbol.iterator]=function(){return this.iter()},Qa.prototype[Symbol.iterator]=aS.prototype[Symbol.iterator]=oS.prototype[Symbol.iterator]=function(){return this});class OE{constructor(e,t,i,s){this.from=e,this.to=t,this.number=i,this.text=s}get length(){return this.to-this.from}}function Mr(n,e,t){return e=Math.max(0,Math.min(n.length,e)),[e,Math.max(e,Math.min(n.length,t))]}function Rt(n,e,t=!0,i=!0){return EE(n,e,t,i)}function RE(n){return n>=56320&&n<57344}function jE(n){return n>=55296&&n<56320}function an(n,e){let t=n.charCodeAt(e);if(!jE(t)||e+1==n.length)return t;let i=n.charCodeAt(e+1);return RE(i)?(t-55296<<10)+(i-56320)+65536:t}function sg(n){return n<=65535?String.fromCharCode(n):(n-=65536,String.fromCharCode((n>>10)+55296,(n&1023)+56320))}function mi(n){return n<65536?1:2}const Fm=/\r\n?|\n/;var Qt=(function(n){return n[n.Simple=0]="Simple",n[n.TrackDel=1]="TrackDel",n[n.TrackBefore=2]="TrackBefore",n[n.TrackAfter=3]="TrackAfter",n})(Qt||(Qt={}));class vi{constructor(e){this.sections=e}get length(){let e=0;for(let t=0;t<this.sections.length;t+=2)e+=this.sections[t];return e}get newLength(){let e=0;for(let t=0;t<this.sections.length;t+=2){let i=this.sections[t+1];e+=i<0?this.sections[t]:i}return e}get empty(){return this.sections.length==0||this.sections.length==2&&this.sections[1]<0}iterGaps(e){for(let t=0,i=0,s=0;t<this.sections.length;){let a=this.sections[t++],o=this.sections[t++];o<0?(e(i,s,a),s+=a):s+=o,i+=a}}iterChangedRanges(e,t=!1){Wm(this,e,t)}get invertedDesc(){let e=[];for(let t=0;t<this.sections.length;){let i=this.sections[t++],s=this.sections[t++];s<0?e.push(i,s):e.push(s,i)}return new vi(e)}composeDesc(e){return this.empty?e:e.empty?this:cS(this,e)}mapDesc(e,t=!1){return e.empty?this:Xm(this,e,t)}mapPos(e,t=-1,i=Qt.Simple){let s=0,a=0;for(let o=0;o<this.sections.length;){let u=this.sections[o++],f=this.sections[o++],d=s+u;if(f<0){if(d>e)return a+(e-s);a+=u}else{if(i!=Qt.Simple&&d>=e&&(i==Qt.TrackDel&&s<e&&d>e||i==Qt.TrackBefore&&s<e||i==Qt.TrackAfter&&d>e))return null;if(d>e||d==e&&t<0&&!u)return e==s||t<0?a:a+f;a+=f}s=d}if(e>s)throw new RangeError(`Position ${e} is out of range for changeset of length ${s}`);return a}touchesRange(e,t=e){for(let i=0,s=0;i<this.sections.length&&s<=t;){let a=this.sections[i++],o=this.sections[i++],u=s+a;if(o>=0&&s<=t&&u>=e)return s<e&&u>t?"cover":!0;s=u}return!1}toString(){let e="";for(let t=0;t<this.sections.length;){let i=this.sections[t++],s=this.sections[t++];e+=(e?" ":"")+i+(s>=0?":"+s:"")}return e}toJSON(){return this.sections}static fromJSON(e){if(!Array.isArray(e)||e.length%2||e.some(t=>typeof t!="number"))throw new RangeError("Invalid JSON representation of ChangeDesc");return new vi(e)}static create(e){return new vi(e)}}class Ct extends vi{constructor(e,t){super(e),this.inserted=t}apply(e){if(this.length!=e.length)throw new RangeError("Applying change set to a document with the wrong length");return Wm(this,(t,i,s,a,o)=>e=e.replace(s,s+(i-t),o),!1),e}mapDesc(e,t=!1){return Xm(this,e,t,!0)}invert(e){let t=this.sections.slice(),i=[];for(let s=0,a=0;s<t.length;s+=2){let o=t[s],u=t[s+1];if(u>=0){t[s]=u,t[s+1]=o;let f=s>>1;for(;i.length<f;)i.push(qe.empty);i.push(o?e.slice(a,a+o):qe.empty)}a+=o}return new Ct(t,i)}compose(e){return this.empty?e:e.empty?this:cS(this,e,!0)}map(e,t=!1){return e.empty?this:Xm(this,e,t,!0)}iterChanges(e,t=!1){Wm(this,e,t)}get desc(){return vi.create(this.sections)}filter(e){let t=[],i=[],s=[],a=new ro(this);e:for(let o=0,u=0;;){let f=o==e.length?1e9:e[o++];for(;u<f||u==f&&a.len==0;){if(a.done)break e;let p=Math.min(a.len,f-u);Kt(s,p,-1);let y=a.ins==-1?-1:a.off==0?a.ins:0;Kt(t,p,y),y>0&&El(i,t,a.text),a.forward(p),u+=p}let d=e[o++];for(;u<d;){if(a.done)break e;let p=Math.min(a.len,d-u);Kt(t,p,-1),Kt(s,p,a.ins==-1?-1:a.off==0?a.ins:0),a.forward(p),u+=p}}return{changes:new Ct(t,i),filtered:vi.create(s)}}toJSON(){let e=[];for(let t=0;t<this.sections.length;t+=2){let i=this.sections[t],s=this.sections[t+1];s<0?e.push(i):s==0?e.push([i]):e.push([i].concat(this.inserted[t>>1].toJSON()))}return e}static of(e,t,i){let s=[],a=[],o=0,u=null;function f(p=!1){if(!p&&!s.length)return;o<t&&Kt(s,t-o,-1);let y=new Ct(s,a);u=u?u.compose(y.map(u)):y,s=[],a=[],o=0}function d(p){if(Array.isArray(p))for(let y of p)d(y);else if(p instanceof Ct){if(p.length!=t)throw new RangeError(`Mismatched change set length (got ${p.length}, expected ${t})`);f(),u=u?u.compose(p.map(u)):p}else{let{from:y,to:x=y,insert:S}=p;if(y>x||y<0||x>t)throw new RangeError(`Invalid change range ${y} to ${x} (in doc of length ${t})`);let w=S?typeof S=="string"?qe.of(S.split(i||Fm)):S:qe.empty,A=w.length;if(y==x&&A==0)return;y<o&&f(),y>o&&Kt(s,y-o,-1),Kt(s,x-y,A),El(a,s,w),o=x}}return d(e),f(!u),u}static empty(e){return new Ct(e?[e,-1]:[],[])}static fromJSON(e){if(!Array.isArray(e))throw new RangeError("Invalid JSON representation of ChangeSet");let t=[],i=[];for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")t.push(a,-1);else{if(!Array.isArray(a)||typeof a[0]!="number"||a.some((o,u)=>u&&typeof o!="string"))throw new RangeError("Invalid JSON representation of ChangeSet");if(a.length==1)t.push(a[0],0);else{for(;i.length<s;)i.push(qe.empty);i[s]=qe.of(a.slice(1)),t.push(a[0],i[s].length)}}}return new Ct(t,i)}static createSet(e,t){return new Ct(e,t)}}function Kt(n,e,t,i=!1){if(e==0&&t<=0)return;let s=n.length-2;s>=0&&t<=0&&t==n[s+1]?n[s]+=e:s>=0&&e==0&&n[s]==0?n[s+1]+=t:i?(n[s]+=e,n[s+1]+=t):n.push(e,t)}function El(n,e,t){if(t.length==0)return;let i=e.length-2>>1;if(i<n.length)n[n.length-1]=n[n.length-1].append(t);else{for(;n.length<i;)n.push(qe.empty);n.push(t)}}function Wm(n,e,t){let i=n.inserted;for(let s=0,a=0,o=0;o<n.sections.length;){let u=n.sections[o++],f=n.sections[o++];if(f<0)s+=u,a+=u;else{let d=s,p=a,y=qe.empty;for(;d+=u,p+=f,f&&i&&(y=y.append(i[o-2>>1])),!(t||o==n.sections.length||n.sections[o+1]<0);)u=n.sections[o++],f=n.sections[o++];e(s,d,a,p,y),s=d,a=p}}}function Xm(n,e,t,i=!1){let s=[],a=i?[]:null,o=new ro(n),u=new ro(e);for(let f=-1;;){if(o.done&&u.len||u.done&&o.len)throw new Error("Mismatched change set lengths");if(o.ins==-1&&u.ins==-1){let d=Math.min(o.len,u.len);Kt(s,d,-1),o.forward(d),u.forward(d)}else if(u.ins>=0&&(o.ins<0||f==o.i||o.off==0&&(u.len<o.len||u.len==o.len&&!t))){let d=u.len;for(Kt(s,u.ins,-1);d;){let p=Math.min(o.len,d);o.ins>=0&&f<o.i&&o.len<=p&&(Kt(s,0,o.ins),a&&El(a,s,o.text),f=o.i),o.forward(p),d-=p}u.next()}else if(o.ins>=0){let d=0,p=o.len;for(;p;)if(u.ins==-1){let y=Math.min(p,u.len);d+=y,p-=y,u.forward(y)}else if(u.ins==0&&u.len<p)p-=u.len,u.next();else break;Kt(s,d,f<o.i?o.ins:0),a&&f<o.i&&El(a,s,o.text),f=o.i,o.forward(o.len-p)}else{if(o.done&&u.done)return a?Ct.createSet(s,a):vi.create(s);throw new Error("Mismatched change set lengths")}}}function cS(n,e,t=!1){let i=[],s=t?[]:null,a=new ro(n),o=new ro(e);for(let u=!1;;){if(a.done&&o.done)return s?Ct.createSet(i,s):vi.create(i);if(a.ins==0)Kt(i,a.len,0,u),a.next();else if(o.len==0&&!o.done)Kt(i,0,o.ins,u),s&&El(s,i,o.text),o.next();else{if(a.done||o.done)throw new Error("Mismatched change set lengths");{let f=Math.min(a.len2,o.len),d=i.length;if(a.ins==-1){let p=o.ins==-1?-1:o.off?0:o.ins;Kt(i,f,p,u),s&&p&&El(s,i,o.text)}else o.ins==-1?(Kt(i,a.off?0:a.len,f,u),s&&El(s,i,a.textBit(f))):(Kt(i,a.off?0:a.len,o.off?0:o.ins,u),s&&!o.off&&El(s,i,o.text));u=(a.ins>f||o.ins>=0&&o.len>f)&&(u||i.length>d),a.forward2(f),o.forward(f)}}}}class ro{constructor(e){this.set=e,this.i=0,this.next()}next(){let{sections:e}=this.set;this.i<e.length?(this.len=e[this.i++],this.ins=e[this.i++]):(this.len=0,this.ins=-2),this.off=0}get done(){return this.ins==-2}get len2(){return this.ins<0?this.len:this.ins}get text(){let{inserted:e}=this.set,t=this.i-2>>1;return t>=e.length?qe.empty:e[t]}textBit(e){let{inserted:t}=this.set,i=this.i-2>>1;return i>=t.length&&!e?qe.empty:t[i].slice(this.off,e==null?void 0:this.off+e)}forward(e){e==this.len?this.next():(this.len-=e,this.off+=e)}forward2(e){this.ins==-1?this.forward(e):e==this.ins?this.next():(this.ins-=e,this.off+=e)}}class hs{constructor(e,t,i){this.from=e,this.to=t,this.flags=i}get anchor(){return this.flags&32?this.to:this.from}get head(){return this.flags&32?this.from:this.to}get empty(){return this.from==this.to}get assoc(){return this.flags&8?-1:this.flags&16?1:0}get bidiLevel(){let e=this.flags&7;return e==7?null:e}get goalColumn(){let e=this.flags>>6;return e==16777215?void 0:e}map(e,t=-1){let i,s;return this.empty?i=s=e.mapPos(this.from,t):(i=e.mapPos(this.from,1),s=e.mapPos(this.to,-1)),i==this.from&&s==this.to?this:new hs(i,s,this.flags)}extend(e,t=e){if(e<=this.anchor&&t>=this.anchor)return X.range(e,t);let i=Math.abs(e-this.anchor)>Math.abs(t-this.anchor)?e:t;return X.range(this.anchor,i)}eq(e,t=!1){return this.anchor==e.anchor&&this.head==e.head&&this.goalColumn==e.goalColumn&&(!t||!this.empty||this.assoc==e.assoc)}toJSON(){return{anchor:this.anchor,head:this.head}}static fromJSON(e){if(!e||typeof e.anchor!="number"||typeof e.head!="number")throw new RangeError("Invalid JSON representation for SelectionRange");return X.range(e.anchor,e.head)}static create(e,t,i){return new hs(e,t,i)}}class X{constructor(e,t){this.ranges=e,this.mainIndex=t}map(e,t=-1){return e.empty?this:X.create(this.ranges.map(i=>i.map(e,t)),this.mainIndex)}eq(e,t=!1){if(this.ranges.length!=e.ranges.length||this.mainIndex!=e.mainIndex)return!1;for(let i=0;i<this.ranges.length;i++)if(!this.ranges[i].eq(e.ranges[i],t))return!1;return!0}get main(){return this.ranges[this.mainIndex]}asSingle(){return this.ranges.length==1?this:new X([this.main],0)}addRange(e,t=!0){return X.create([e].concat(this.ranges),t?0:this.mainIndex+1)}replaceRange(e,t=this.mainIndex){let i=this.ranges.slice();return i[t]=e,X.create(i,this.mainIndex)}toJSON(){return{ranges:this.ranges.map(e=>e.toJSON()),main:this.mainIndex}}static fromJSON(e){if(!e||!Array.isArray(e.ranges)||typeof e.main!="number"||e.main>=e.ranges.length)throw new RangeError("Invalid JSON representation for EditorSelection");return new X(e.ranges.map(t=>hs.fromJSON(t)),e.main)}static single(e,t=e){return new X([X.range(e,t)],0)}static create(e,t=0){if(e.length==0)throw new RangeError("A selection needs at least one range");for(let i=0,s=0;s<e.length;s++){let a=e[s];if(a.empty?a.from<=i:a.from<i)return X.normalized(e.slice(),t);i=a.to}return new X(e,t)}static cursor(e,t=0,i,s){return hs.create(e,e,(t==0?0:t<0?8:16)|(i==null?7:Math.min(6,i))|(s??16777215)<<6)}static range(e,t,i,s){let a=(i??16777215)<<6|(s==null?7:Math.min(6,s));return t<e?hs.create(t,e,48|a):hs.create(e,t,(t>e?8:0)|a)}static normalized(e,t=0){let i=e[t];e.sort((s,a)=>s.from-a.from),t=e.indexOf(i);for(let s=1;s<e.length;s++){let a=e[s],o=e[s-1];if(a.empty?a.from<=o.to:a.from<o.to){let u=o.from,f=Math.max(a.to,o.to);s<=t&&t--,e.splice(--s,2,a.anchor>a.head?X.range(f,u):X.range(u,f))}}return new X(e,t)}}function uS(n,e){for(let t of n.ranges)if(t.to>e)throw new RangeError("Selection points outside of document")}let rg=0;class ce{constructor(e,t,i,s,a){this.combine=e,this.compareInput=t,this.compare=i,this.isStatic=s,this.id=rg++,this.default=e([]),this.extensions=typeof a=="function"?a(this):a}get reader(){return this}static define(e={}){return new ce(e.combine||(t=>t),e.compareInput||((t,i)=>t===i),e.compare||(e.combine?(t,i)=>t===i:ag),!!e.static,e.enables)}of(e){return new Ou([],this,0,e)}compute(e,t){if(this.isStatic)throw new Error("Can't compute a static facet");return new Ou(e,this,1,t)}computeN(e,t){if(this.isStatic)throw new Error("Can't compute a static facet");return new Ou(e,this,2,t)}from(e,t){return t||(t=i=>i),this.compute([e],i=>t(i.field(e)))}}function ag(n,e){return n==e||n.length==e.length&&n.every((t,i)=>t===e[i])}class Ou{constructor(e,t,i,s){this.dependencies=e,this.facet=t,this.type=i,this.value=s,this.id=rg++}dynamicSlot(e){var t;let i=this.value,s=this.facet.compareInput,a=this.id,o=e[a]>>1,u=this.type==2,f=!1,d=!1,p=[];for(let y of this.dependencies)y=="doc"?f=!0:y=="selection"?d=!0:(((t=e[y.id])!==null&&t!==void 0?t:1)&1)==0&&p.push(e[y.id]);return{create(y){return y.values[o]=i(y),1},update(y,x){if(f&&x.docChanged||d&&(x.docChanged||x.selection)||Qm(y,p)){let S=i(y);if(u?!wx(S,y.values[o],s):!s(S,y.values[o]))return y.values[o]=S,1}return 0},reconfigure:(y,x)=>{let S,w=x.config.address[a];if(w!=null){let A=qu(x,w);if(this.dependencies.every(C=>C instanceof ce?x.facet(C)===y.facet(C):C instanceof Gt?x.field(C,!1)==y.field(C,!1):!0)||(u?wx(S=i(y),A,s):s(S=i(y),A)))return y.values[o]=A,0}else S=i(y);return y.values[o]=S,1}}}}function wx(n,e,t){if(n.length!=e.length)return!1;for(let i=0;i<n.length;i++)if(!t(n[i],e[i]))return!1;return!0}function Qm(n,e){let t=!1;for(let i of e)Za(n,i)&1&&(t=!0);return t}function _E(n,e,t){let i=t.map(f=>n[f.id]),s=t.map(f=>f.type),a=i.filter(f=>!(f&1)),o=n[e.id]>>1;function u(f){let d=[];for(let p=0;p<i.length;p++){let y=qu(f,i[p]);if(s[p]==2)for(let x of y)d.push(x);else d.push(y)}return e.combine(d)}return{create(f){for(let d of i)Za(f,d);return f.values[o]=u(f),1},update(f,d){if(!Qm(f,a))return 0;let p=u(f);return e.compare(p,f.values[o])?0:(f.values[o]=p,1)},reconfigure(f,d){let p=Qm(f,i),y=d.config.facets[e.id],x=d.facet(e);if(y&&!p&&ag(t,y))return f.values[o]=x,0;let S=u(f);return e.compare(S,x)?(f.values[o]=x,0):(f.values[o]=S,1)}}}const iu=ce.define({static:!0});class Gt{constructor(e,t,i,s,a){this.id=e,this.createF=t,this.updateF=i,this.compareF=s,this.spec=a,this.provides=void 0}static define(e){let t=new Gt(rg++,e.create,e.update,e.compare||((i,s)=>i===s),e);return e.provide&&(t.provides=e.provide(t)),t}create(e){let t=e.facet(iu).find(i=>i.field==this);return((t==null?void 0:t.create)||this.createF)(e)}slot(e){let t=e[this.id]>>1;return{create:i=>(i.values[t]=this.create(i),1),update:(i,s)=>{let a=i.values[t],o=this.updateF(a,s);return this.compareF(a,o)?0:(i.values[t]=o,1)},reconfigure:(i,s)=>{let a=i.facet(iu),o=s.facet(iu),u;return(u=a.find(f=>f.field==this))&&u!=o.find(f=>f.field==this)?(i.values[t]=u.create(i),1):s.config.address[this.id]!=null?(i.values[t]=s.field(this),0):(i.values[t]=this.create(i),1)}}}init(e){return[this,iu.of({field:this,create:e})]}get extension(){return this}}const cs={lowest:4,low:3,default:2,high:1,highest:0};function Ha(n){return e=>new hS(e,n)}const ws={highest:Ha(cs.highest),high:Ha(cs.high),default:Ha(cs.default),low:Ha(cs.low),lowest:Ha(cs.lowest)};class hS{constructor(e,t){this.inner=e,this.prec=t}}class mh{of(e){return new Zm(this,e)}reconfigure(e){return mh.reconfigure.of({compartment:this,extension:e})}get(e){return e.config.compartments.get(this)}}class Zm{constructor(e,t){this.compartment=e,this.inner=t}}class Uu{constructor(e,t,i,s,a,o){for(this.base=e,this.compartments=t,this.dynamicSlots=i,this.address=s,this.staticValues=a,this.facets=o,this.statusTemplate=[];this.statusTemplate.length<i.length;)this.statusTemplate.push(0)}staticFacet(e){let t=this.address[e.id];return t==null?e.default:this.staticValues[t>>1]}static resolve(e,t,i){let s=[],a=Object.create(null),o=new Map;for(let x of LE(e,t,o))x instanceof Gt?s.push(x):(a[x.facet.id]||(a[x.facet.id]=[])).push(x);let u=Object.create(null),f=[],d=[];for(let x of s)u[x.id]=d.length<<1,d.push(S=>x.slot(S));let p=i==null?void 0:i.config.facets;for(let x in a){let S=a[x],w=S[0].facet,A=p&&p[x]||[];if(S.every(C=>C.type==0))if(u[w.id]=f.length<<1|1,ag(A,S))f.push(i.facet(w));else{let C=w.combine(S.map(T=>T.value));f.push(i&&w.compare(C,i.facet(w))?i.facet(w):C)}else{for(let C of S)C.type==0?(u[C.id]=f.length<<1|1,f.push(C.value)):(u[C.id]=d.length<<1,d.push(T=>C.dynamicSlot(T)));u[w.id]=d.length<<1,d.push(C=>_E(C,w,S))}}let y=d.map(x=>x(u));return new Uu(e,o,y,u,f,a)}}function LE(n,e,t){let i=[[],[],[],[],[]],s=new Map;function a(o,u){let f=s.get(o);if(f!=null){if(f<=u)return;let d=i[f].indexOf(o);d>-1&&i[f].splice(d,1),o instanceof Zm&&t.delete(o.compartment)}if(s.set(o,u),Array.isArray(o))for(let d of o)a(d,u);else if(o instanceof Zm){if(t.has(o.compartment))throw new RangeError("Duplicate use of compartment in extensions");let d=e.get(o.compartment)||o.inner;t.set(o.compartment,d),a(d,u)}else if(o instanceof hS)a(o.inner,o.prec);else if(o instanceof Gt)i[u].push(o),o.provides&&a(o.provides,u);else if(o instanceof Ou)i[u].push(o),o.facet.extensions&&a(o.facet.extensions,cs.default);else{let d=o.extension;if(!d)throw new Error(`Unrecognized extension value in extension set (${o}). This sometimes happens because multiple instances of @codemirror/state are loaded, breaking instanceof checks.`);a(d,u)}}return a(n,cs.default),i.reduce((o,u)=>o.concat(u))}function Za(n,e){if(e&1)return 2;let t=e>>1,i=n.status[t];if(i==4)throw new Error("Cyclic dependency between fields and/or facets");if(i&2)return i;n.status[t]=4;let s=n.computeSlot(n,n.config.dynamicSlots[t]);return n.status[t]=2|s}function qu(n,e){return e&1?n.config.staticValues[e>>1]:n.values[e>>1]}const fS=ce.define(),$m=ce.define({combine:n=>n.some(e=>e),static:!0}),dS=ce.define({combine:n=>n.length?n[0]:void 0,static:!0}),mS=ce.define(),pS=ce.define(),gS=ce.define(),yS=ce.define({combine:n=>n.length?n[0]:!1});class Si{constructor(e,t){this.type=e,this.value=t}static define(){return new BE}}class BE{of(e){return new Si(this,e)}}class zE{constructor(e){this.map=e}of(e){return new Me(this,e)}}class Me{constructor(e,t){this.type=e,this.value=t}map(e){let t=this.type.map(this.value,e);return t===void 0?void 0:t==this.value?this:new Me(this.type,t)}is(e){return this.type==e}static define(e={}){return new zE(e.map||(t=>t))}static mapEffects(e,t){if(!e.length)return e;let i=[];for(let s of e){let a=s.map(t);a&&i.push(a)}return i}}Me.reconfigure=Me.define();Me.appendConfig=Me.define();class At{constructor(e,t,i,s,a,o){this.startState=e,this.changes=t,this.selection=i,this.effects=s,this.annotations=a,this.scrollIntoView=o,this._doc=null,this._state=null,i&&uS(i,t.newLength),a.some(u=>u.type==At.time)||(this.annotations=a.concat(At.time.of(Date.now())))}static create(e,t,i,s,a,o){return new At(e,t,i,s,a,o)}get newDoc(){return this._doc||(this._doc=this.changes.apply(this.startState.doc))}get newSelection(){return this.selection||this.startState.selection.map(this.changes)}get state(){return this._state||this.startState.applyTransaction(this),this._state}annotation(e){for(let t of this.annotations)if(t.type==e)return t.value}get docChanged(){return!this.changes.empty}get reconfigured(){return this.startState.config!=this.state.config}isUserEvent(e){let t=this.annotation(At.userEvent);return!!(t&&(t==e||t.length>e.length&&t.slice(0,e.length)==e&&t[e.length]=="."))}}At.time=Si.define();At.userEvent=Si.define();At.addToHistory=Si.define();At.remote=Si.define();function HE(n,e){let t=[];for(let i=0,s=0;;){let a,o;if(i<n.length&&(s==e.length||e[s]>=n[i]))a=n[i++],o=n[i++];else if(s<e.length)a=e[s++],o=e[s++];else return t;!t.length||t[t.length-1]<a?t.push(a,o):t[t.length-1]<o&&(t[t.length-1]=o)}}function bS(n,e,t){var i;let s,a,o;return t?(s=e.changes,a=Ct.empty(e.changes.length),o=n.changes.compose(e.changes)):(s=e.changes.map(n.changes),a=n.changes.mapDesc(e.changes,!0),o=n.changes.compose(s)),{changes:o,selection:e.selection?e.selection.map(a):(i=n.selection)===null||i===void 0?void 0:i.map(s),effects:Me.mapEffects(n.effects,s).concat(Me.mapEffects(e.effects,a)),annotations:n.annotations.length?n.annotations.concat(e.annotations):e.annotations,scrollIntoView:n.scrollIntoView||e.scrollIntoView}}function Jm(n,e,t){let i=e.selection,s=br(e.annotations);return e.userEvent&&(s=s.concat(At.userEvent.of(e.userEvent))),{changes:e.changes instanceof Ct?e.changes:Ct.of(e.changes||[],t,n.facet(dS)),selection:i&&(i instanceof X?i:X.single(i.anchor,i.head)),effects:br(e.effects),annotations:s,scrollIntoView:!!e.scrollIntoView}}function xS(n,e,t){let i=Jm(n,e.length?e[0]:{},n.doc.length);e.length&&e[0].filter===!1&&(t=!1);for(let a=1;a<e.length;a++){e[a].filter===!1&&(t=!1);let o=!!e[a].sequential;i=bS(i,Jm(n,e[a],o?i.changes.newLength:n.doc.length),o)}let s=At.create(n,i.changes,i.selection,i.effects,i.annotations,i.scrollIntoView);return UE(t?VE(s):s)}function VE(n){let e=n.startState,t=!0;for(let s of e.facet(mS)){let a=s(n);if(a===!1){t=!1;break}Array.isArray(a)&&(t=t===!0?a:HE(t,a))}if(t!==!0){let s,a;if(t===!1)a=n.changes.invertedDesc,s=Ct.empty(e.doc.length);else{let o=n.changes.filter(t);s=o.changes,a=o.filtered.mapDesc(o.changes).invertedDesc}n=At.create(e,s,n.selection&&n.selection.map(a),Me.mapEffects(n.effects,a),n.annotations,n.scrollIntoView)}let i=e.facet(pS);for(let s=i.length-1;s>=0;s--){let a=i[s](n);a instanceof At?n=a:Array.isArray(a)&&a.length==1&&a[0]instanceof At?n=a[0]:n=xS(e,br(a),!1)}return n}function UE(n){let e=n.startState,t=e.facet(gS),i=n;for(let s=t.length-1;s>=0;s--){let a=t[s](n);a&&Object.keys(a).length&&(i=bS(i,Jm(e,a,n.changes.newLength),!0))}return i==n?n:At.create(e,n.changes,n.selection,i.effects,i.annotations,i.scrollIntoView)}const qE=[];function br(n){return n==null?qE:Array.isArray(n)?n:[n]}var rt=(function(n){return n[n.Word=0]="Word",n[n.Space=1]="Space",n[n.Other=2]="Other",n})(rt||(rt={}));const PE=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;let ep;try{ep=new RegExp("[\\p{Alphabetic}\\p{Number}_]","u")}catch{}function KE(n){if(ep)return ep.test(n);for(let e=0;e<n.length;e++){let t=n[e];if(/\w/.test(t)||t>""&&(t.toUpperCase()!=t.toLowerCase()||PE.test(t)))return!0}return!1}function YE(n){return e=>{if(!/\S/.test(e))return rt.Space;if(KE(e))return rt.Word;for(let t=0;t<n.length;t++)if(e.indexOf(n[t])>-1)return rt.Word;return rt.Other}}class ze{constructor(e,t,i,s,a,o){this.config=e,this.doc=t,this.selection=i,this.values=s,this.status=e.statusTemplate.slice(),this.computeSlot=a,o&&(o._state=this);for(let u=0;u<this.config.dynamicSlots.length;u++)Za(this,u<<1);this.computeSlot=null}field(e,t=!0){let i=this.config.address[e.id];if(i==null){if(t)throw new RangeError("Field is not present in this state");return}return Za(this,i),qu(this,i)}update(...e){return xS(this,e,!0)}applyTransaction(e){let t=this.config,{base:i,compartments:s}=t;for(let u of e.effects)u.is(mh.reconfigure)?(t&&(s=new Map,t.compartments.forEach((f,d)=>s.set(d,f)),t=null),s.set(u.value.compartment,u.value.extension)):u.is(Me.reconfigure)?(t=null,i=u.value):u.is(Me.appendConfig)&&(t=null,i=br(i).concat(u.value));let a;t?a=e.startState.values.slice():(t=Uu.resolve(i,s,this),a=new ze(t,this.doc,this.selection,t.dynamicSlots.map(()=>null),(f,d)=>d.reconfigure(f,this),null).values);let o=e.startState.facet($m)?e.newSelection:e.newSelection.asSingle();new ze(t,e.newDoc,o,a,(u,f)=>f.update(u,e),e)}replaceSelection(e){return typeof e=="string"&&(e=this.toText(e)),this.changeByRange(t=>({changes:{from:t.from,to:t.to,insert:e},range:X.cursor(t.from+e.length)}))}changeByRange(e){let t=this.selection,i=e(t.ranges[0]),s=this.changes(i.changes),a=[i.range],o=br(i.effects);for(let u=1;u<t.ranges.length;u++){let f=e(t.ranges[u]),d=this.changes(f.changes),p=d.map(s);for(let x=0;x<u;x++)a[x]=a[x].map(p);let y=s.mapDesc(d,!0);a.push(f.range.map(y)),s=s.compose(p),o=Me.mapEffects(o,p).concat(Me.mapEffects(br(f.effects),y))}return{changes:s,selection:X.create(a,t.mainIndex),effects:o}}changes(e=[]){return e instanceof Ct?e:Ct.of(e,this.doc.length,this.facet(ze.lineSeparator))}toText(e){return qe.of(e.split(this.facet(ze.lineSeparator)||Fm))}sliceDoc(e=0,t=this.doc.length){return this.doc.sliceString(e,t,this.lineBreak)}facet(e){let t=this.config.address[e.id];return t==null?e.default:(Za(this,t),qu(this,t))}toJSON(e){let t={doc:this.sliceDoc(),selection:this.selection.toJSON()};if(e)for(let i in e){let s=e[i];s instanceof Gt&&this.config.address[s.id]!=null&&(t[i]=s.spec.toJSON(this.field(e[i]),this))}return t}static fromJSON(e,t={},i){if(!e||typeof e.doc!="string")throw new RangeError("Invalid JSON representation for EditorState");let s=[];if(i){for(let a in i)if(Object.prototype.hasOwnProperty.call(e,a)){let o=i[a],u=e[a];s.push(o.init(f=>o.spec.fromJSON(u,f)))}}return ze.create({doc:e.doc,selection:X.fromJSON(e.selection),extensions:t.extensions?s.concat([t.extensions]):s})}static create(e={}){let t=Uu.resolve(e.extensions||[],new Map),i=e.doc instanceof qe?e.doc:qe.of((e.doc||"").split(t.staticFacet(ze.lineSeparator)||Fm)),s=e.selection?e.selection instanceof X?e.selection:X.single(e.selection.anchor,e.selection.head):X.single(0);return uS(s,i.length),t.staticFacet($m)||(s=s.asSingle()),new ze(t,i,s,t.dynamicSlots.map(()=>null),(a,o)=>o.create(a),null)}get tabSize(){return this.facet(ze.tabSize)}get lineBreak(){return this.facet(ze.lineSeparator)||`
`}get readOnly(){return this.facet(yS)}phrase(e,...t){for(let i of this.facet(ze.phrases))if(Object.prototype.hasOwnProperty.call(i,e)){e=i[e];break}return t.length&&(e=e.replace(/\$(\$|\d*)/g,(i,s)=>{if(s=="$")return"$";let a=+(s||1);return!a||a>t.length?i:t[a-1]})),e}languageDataAt(e,t,i=-1){let s=[];for(let a of this.facet(fS))for(let o of a(this,t,i))Object.prototype.hasOwnProperty.call(o,e)&&s.push(o[e]);return s}charCategorizer(e){let t=this.languageDataAt("wordChars",e);return YE(t.length?t[0]:"")}wordAt(e){let{text:t,from:i,length:s}=this.doc.lineAt(e),a=this.charCategorizer(e),o=e-i,u=e-i;for(;o>0;){let f=Rt(t,o,!1);if(a(t.slice(f,o))!=rt.Word)break;o=f}for(;u<s;){let f=Rt(t,u);if(a(t.slice(u,f))!=rt.Word)break;u=f}return o==u?null:X.range(o+i,u+i)}}ze.allowMultipleSelections=$m;ze.tabSize=ce.define({combine:n=>n.length?n[0]:4});ze.lineSeparator=dS;ze.readOnly=yS;ze.phrases=ce.define({compare(n,e){let t=Object.keys(n),i=Object.keys(e);return t.length==i.length&&t.every(s=>n[s]==e[s])}});ze.languageData=fS;ze.changeFilter=mS;ze.transactionFilter=pS;ze.transactionExtender=gS;mh.reconfigure=Me.define();function wi(n,e,t={}){let i={};for(let s of n)for(let a of Object.keys(s)){let o=s[a],u=i[a];if(u===void 0)i[a]=o;else if(!(u===o||o===void 0))if(Object.hasOwnProperty.call(t,a))i[a]=t[a](u,o);else throw new Error("Config merge conflict for field "+a)}for(let s in e)i[s]===void 0&&(i[s]=e[s]);return i}class Ol{eq(e){return this==e}range(e,t=e){return ao.create(e,t,this)}}Ol.prototype.startSide=Ol.prototype.endSide=0;Ol.prototype.point=!1;Ol.prototype.mapMode=Qt.TrackDel;function og(n,e){return n==e||n.constructor==e.constructor&&n.eq(e)}class ao{constructor(e,t,i){this.from=e,this.to=t,this.value=i}static create(e,t,i){return new ao(e,t,i)}}function tp(n,e){return n.from-e.from||n.value.startSide-e.value.startSide}class cg{constructor(e,t,i,s){this.from=e,this.to=t,this.value=i,this.maxPoint=s}get length(){return this.to[this.to.length-1]}findIndex(e,t,i,s=0){let a=i?this.to:this.from;for(let o=s,u=a.length;;){if(o==u)return o;let f=o+u>>1,d=a[f]-e||(i?this.value[f].endSide:this.value[f].startSide)-t;if(f==o)return d>=0?o:u;d>=0?u=f:o=f+1}}between(e,t,i,s){for(let a=this.findIndex(t,-1e9,!0),o=this.findIndex(i,1e9,!1,a);a<o;a++)if(s(this.from[a]+e,this.to[a]+e,this.value[a])===!1)return!1}map(e,t){let i=[],s=[],a=[],o=-1,u=-1;for(let f=0;f<this.value.length;f++){let d=this.value[f],p=this.from[f]+e,y=this.to[f]+e,x,S;if(p==y){let w=t.mapPos(p,d.startSide,d.mapMode);if(w==null||(x=S=w,d.startSide!=d.endSide&&(S=t.mapPos(p,d.endSide),S<x)))continue}else if(x=t.mapPos(p,d.startSide),S=t.mapPos(y,d.endSide),x>S||x==S&&d.startSide>0&&d.endSide<=0)continue;(S-x||d.endSide-d.startSide)<0||(o<0&&(o=x),d.point&&(u=Math.max(u,S-x)),i.push(d),s.push(x-o),a.push(S-o))}return{mapped:i.length?new cg(s,a,i,u):null,pos:o}}}class Re{constructor(e,t,i,s){this.chunkPos=e,this.chunk=t,this.nextLayer=i,this.maxPoint=s}static create(e,t,i,s){return new Re(e,t,i,s)}get length(){let e=this.chunk.length-1;return e<0?0:Math.max(this.chunkEnd(e),this.nextLayer.length)}get size(){if(this.isEmpty)return 0;let e=this.nextLayer.size;for(let t of this.chunk)e+=t.value.length;return e}chunkEnd(e){return this.chunkPos[e]+this.chunk[e].length}update(e){let{add:t=[],sort:i=!1,filterFrom:s=0,filterTo:a=this.length}=e,o=e.filter;if(t.length==0&&!o)return this;if(i&&(t=t.slice().sort(tp)),this.isEmpty)return t.length?Re.of(t):this;let u=new vS(this,null,-1).goto(0),f=0,d=[],p=new Fi;for(;u.value||f<t.length;)if(f<t.length&&(u.from-t[f].from||u.startSide-t[f].value.startSide)>=0){let y=t[f++];p.addInner(y.from,y.to,y.value)||d.push(y)}else u.rangeIndex==1&&u.chunkIndex<this.chunk.length&&(f==t.length||this.chunkEnd(u.chunkIndex)<t[f].from)&&(!o||s>this.chunkEnd(u.chunkIndex)||a<this.chunkPos[u.chunkIndex])&&p.addChunk(this.chunkPos[u.chunkIndex],this.chunk[u.chunkIndex])?u.nextChunk():((!o||s>u.to||a<u.from||o(u.from,u.to,u.value))&&(p.addInner(u.from,u.to,u.value)||d.push(ao.create(u.from,u.to,u.value))),u.next());return p.finishInner(this.nextLayer.isEmpty&&!d.length?Re.empty:this.nextLayer.update({add:d,filter:o,filterFrom:s,filterTo:a}))}map(e){if(e.empty||this.isEmpty)return this;let t=[],i=[],s=-1;for(let o=0;o<this.chunk.length;o++){let u=this.chunkPos[o],f=this.chunk[o],d=e.touchesRange(u,u+f.length);if(d===!1)s=Math.max(s,f.maxPoint),t.push(f),i.push(e.mapPos(u));else if(d===!0){let{mapped:p,pos:y}=f.map(u,e);p&&(s=Math.max(s,p.maxPoint),t.push(p),i.push(y))}}let a=this.nextLayer.map(e);return t.length==0?a:new Re(i,t,a||Re.empty,s)}between(e,t,i){if(!this.isEmpty){for(let s=0;s<this.chunk.length;s++){let a=this.chunkPos[s],o=this.chunk[s];if(t>=a&&e<=a+o.length&&o.between(a,e-a,t-a,i)===!1)return}this.nextLayer.between(e,t,i)}}iter(e=0){return oo.from([this]).goto(e)}get isEmpty(){return this.nextLayer==this}static iter(e,t=0){return oo.from(e).goto(t)}static compare(e,t,i,s,a=-1){let o=e.filter(y=>y.maxPoint>0||!y.isEmpty&&y.maxPoint>=a),u=t.filter(y=>y.maxPoint>0||!y.isEmpty&&y.maxPoint>=a),f=kx(o,u,i),d=new Va(o,f,a),p=new Va(u,f,a);i.iterGaps((y,x,S)=>Cx(d,y,p,x,S,s)),i.empty&&i.length==0&&Cx(d,0,p,0,0,s)}static eq(e,t,i=0,s){s==null&&(s=999999999);let a=e.filter(p=>!p.isEmpty&&t.indexOf(p)<0),o=t.filter(p=>!p.isEmpty&&e.indexOf(p)<0);if(a.length!=o.length)return!1;if(!a.length)return!0;let u=kx(a,o),f=new Va(a,u,0).goto(i),d=new Va(o,u,0).goto(i);for(;;){if(f.to!=d.to||!np(f.active,d.active)||f.point&&(!d.point||!og(f.point,d.point)))return!1;if(f.to>s)return!0;f.next(),d.next()}}static spans(e,t,i,s,a=-1){let o=new Va(e,null,a).goto(t),u=t,f=o.openStart;for(;;){let d=Math.min(o.to,i);if(o.point){let p=o.activeForPoint(o.to),y=o.pointFrom<t?p.length+1:o.point.startSide<0?p.length:Math.min(p.length,f);s.point(u,d,o.point,p,y,o.pointRank),f=Math.min(o.openEnd(d),p.length)}else d>u&&(s.span(u,d,o.active,f),f=o.openEnd(d));if(o.to>i)return f+(o.point&&o.to>i?1:0);u=o.to,o.next()}}static of(e,t=!1){let i=new Fi;for(let s of e instanceof ao?[e]:t?GE(e):e)i.add(s.from,s.to,s.value);return i.finish()}static join(e){if(!e.length)return Re.empty;let t=e[e.length-1];for(let i=e.length-2;i>=0;i--)for(let s=e[i];s!=Re.empty;s=s.nextLayer)t=new Re(s.chunkPos,s.chunk,t,Math.max(s.maxPoint,t.maxPoint));return t}}Re.empty=new Re([],[],null,-1);function GE(n){if(n.length>1)for(let e=n[0],t=1;t<n.length;t++){let i=n[t];if(tp(e,i)>0)return n.slice().sort(tp);e=i}return n}Re.empty.nextLayer=Re.empty;class Fi{finishChunk(e){this.chunks.push(new cg(this.from,this.to,this.value,this.maxPoint)),this.chunkPos.push(this.chunkStart),this.chunkStart=-1,this.setMaxPoint=Math.max(this.setMaxPoint,this.maxPoint),this.maxPoint=-1,e&&(this.from=[],this.to=[],this.value=[])}constructor(){this.chunks=[],this.chunkPos=[],this.chunkStart=-1,this.last=null,this.lastFrom=-1e9,this.lastTo=-1e9,this.from=[],this.to=[],this.value=[],this.maxPoint=-1,this.setMaxPoint=-1,this.nextLayer=null}add(e,t,i){this.addInner(e,t,i)||(this.nextLayer||(this.nextLayer=new Fi)).add(e,t,i)}addInner(e,t,i){let s=e-this.lastTo||i.startSide-this.last.endSide;if(s<=0&&(e-this.lastFrom||i.startSide-this.last.startSide)<0)throw new Error("Ranges must be added sorted by `from` position and `startSide`");return s<0?!1:(this.from.length==250&&this.finishChunk(!0),this.chunkStart<0&&(this.chunkStart=e),this.from.push(e-this.chunkStart),this.to.push(t-this.chunkStart),this.last=i,this.lastFrom=e,this.lastTo=t,this.value.push(i),i.point&&(this.maxPoint=Math.max(this.maxPoint,t-e)),!0)}addChunk(e,t){if((e-this.lastTo||t.value[0].startSide-this.last.endSide)<0)return!1;this.from.length&&this.finishChunk(!0),this.setMaxPoint=Math.max(this.setMaxPoint,t.maxPoint),this.chunks.push(t),this.chunkPos.push(e);let i=t.value.length-1;return this.last=t.value[i],this.lastFrom=t.from[i]+e,this.lastTo=t.to[i]+e,!0}finish(){return this.finishInner(Re.empty)}finishInner(e){if(this.from.length&&this.finishChunk(!1),this.chunks.length==0)return e;let t=Re.create(this.chunkPos,this.chunks,this.nextLayer?this.nextLayer.finishInner(e):e,this.setMaxPoint);return this.from=null,t}}function kx(n,e,t){let i=new Map;for(let a of n)for(let o=0;o<a.chunk.length;o++)a.chunk[o].maxPoint<=0&&i.set(a.chunk[o],a.chunkPos[o]);let s=new Set;for(let a of e)for(let o=0;o<a.chunk.length;o++){let u=i.get(a.chunk[o]);u!=null&&(t?t.mapPos(u):u)==a.chunkPos[o]&&!(t!=null&&t.touchesRange(u,u+a.chunk[o].length))&&s.add(a.chunk[o])}return s}class vS{constructor(e,t,i,s=0){this.layer=e,this.skip=t,this.minPoint=i,this.rank=s}get startSide(){return this.value?this.value.startSide:0}get endSide(){return this.value?this.value.endSide:0}goto(e,t=-1e9){return this.chunkIndex=this.rangeIndex=0,this.gotoInner(e,t,!1),this}gotoInner(e,t,i){for(;this.chunkIndex<this.layer.chunk.length;){let s=this.layer.chunk[this.chunkIndex];if(!(this.skip&&this.skip.has(s)||this.layer.chunkEnd(this.chunkIndex)<e||s.maxPoint<this.minPoint))break;this.chunkIndex++,i=!1}if(this.chunkIndex<this.layer.chunk.length){let s=this.layer.chunk[this.chunkIndex].findIndex(e-this.layer.chunkPos[this.chunkIndex],t,!0);(!i||this.rangeIndex<s)&&this.setRangeIndex(s)}this.next()}forward(e,t){(this.to-e||this.endSide-t)<0&&this.gotoInner(e,t,!0)}next(){for(;;)if(this.chunkIndex==this.layer.chunk.length){this.from=this.to=1e9,this.value=null;break}else{let e=this.layer.chunkPos[this.chunkIndex],t=this.layer.chunk[this.chunkIndex],i=e+t.from[this.rangeIndex];if(this.from=i,this.to=e+t.to[this.rangeIndex],this.value=t.value[this.rangeIndex],this.setRangeIndex(this.rangeIndex+1),this.minPoint<0||this.value.point&&this.to-this.from>=this.minPoint)break}}setRangeIndex(e){if(e==this.layer.chunk[this.chunkIndex].value.length){if(this.chunkIndex++,this.skip)for(;this.chunkIndex<this.layer.chunk.length&&this.skip.has(this.layer.chunk[this.chunkIndex]);)this.chunkIndex++;this.rangeIndex=0}else this.rangeIndex=e}nextChunk(){this.chunkIndex++,this.rangeIndex=0,this.next()}compare(e){return this.from-e.from||this.startSide-e.startSide||this.rank-e.rank||this.to-e.to||this.endSide-e.endSide}}class oo{constructor(e){this.heap=e}static from(e,t=null,i=-1){let s=[];for(let a=0;a<e.length;a++)for(let o=e[a];!o.isEmpty;o=o.nextLayer)o.maxPoint>=i&&s.push(new vS(o,t,i,a));return s.length==1?s[0]:new oo(s)}get startSide(){return this.value?this.value.startSide:0}goto(e,t=-1e9){for(let i of this.heap)i.goto(e,t);for(let i=this.heap.length>>1;i>=0;i--)sm(this.heap,i);return this.next(),this}forward(e,t){for(let i of this.heap)i.forward(e,t);for(let i=this.heap.length>>1;i>=0;i--)sm(this.heap,i);(this.to-e||this.value.endSide-t)<0&&this.next()}next(){if(this.heap.length==0)this.from=this.to=1e9,this.value=null,this.rank=-1;else{let e=this.heap[0];this.from=e.from,this.to=e.to,this.value=e.value,this.rank=e.rank,e.value&&e.next(),sm(this.heap,0)}}}function sm(n,e){for(let t=n[e];;){let i=(e<<1)+1;if(i>=n.length)break;let s=n[i];if(i+1<n.length&&s.compare(n[i+1])>=0&&(s=n[i+1],i++),t.compare(s)<0)break;n[i]=t,n[e]=s,e=i}}class Va{constructor(e,t,i){this.minPoint=i,this.active=[],this.activeTo=[],this.activeRank=[],this.minActive=-1,this.point=null,this.pointFrom=0,this.pointRank=0,this.to=-1e9,this.endSide=0,this.openStart=-1,this.cursor=oo.from(e,t,i)}goto(e,t=-1e9){return this.cursor.goto(e,t),this.active.length=this.activeTo.length=this.activeRank.length=0,this.minActive=-1,this.to=e,this.endSide=t,this.openStart=-1,this.next(),this}forward(e,t){for(;this.minActive>-1&&(this.activeTo[this.minActive]-e||this.active[this.minActive].endSide-t)<0;)this.removeActive(this.minActive);this.cursor.forward(e,t)}removeActive(e){lu(this.active,e),lu(this.activeTo,e),lu(this.activeRank,e),this.minActive=Ax(this.active,this.activeTo)}addActive(e){let t=0,{value:i,to:s,rank:a}=this.cursor;for(;t<this.activeRank.length&&(a-this.activeRank[t]||s-this.activeTo[t])>0;)t++;su(this.active,t,i),su(this.activeTo,t,s),su(this.activeRank,t,a),e&&su(e,t,this.cursor.from),this.minActive=Ax(this.active,this.activeTo)}next(){let e=this.to,t=this.point;this.point=null;let i=this.openStart<0?[]:null;for(;;){let s=this.minActive;if(s>-1&&(this.activeTo[s]-this.cursor.from||this.active[s].endSide-this.cursor.startSide)<0){if(this.activeTo[s]>e){this.to=this.activeTo[s],this.endSide=this.active[s].endSide;break}this.removeActive(s),i&&lu(i,s)}else if(this.cursor.value)if(this.cursor.from>e){this.to=this.cursor.from,this.endSide=this.cursor.startSide;break}else{let a=this.cursor.value;if(!a.point)this.addActive(i),this.cursor.next();else if(t&&this.cursor.to==this.to&&this.cursor.from<this.cursor.to)this.cursor.next();else{this.point=a,this.pointFrom=this.cursor.from,this.pointRank=this.cursor.rank,this.to=this.cursor.to,this.endSide=a.endSide,this.cursor.next(),this.forward(this.to,this.endSide);break}}else{this.to=this.endSide=1e9;break}}if(i){this.openStart=0;for(let s=i.length-1;s>=0&&i[s]<e;s--)this.openStart++}}activeForPoint(e){if(!this.active.length)return this.active;let t=[];for(let i=this.active.length-1;i>=0&&!(this.activeRank[i]<this.pointRank);i--)(this.activeTo[i]>e||this.activeTo[i]==e&&this.active[i].endSide>=this.point.endSide)&&t.push(this.active[i]);return t.reverse()}openEnd(e){let t=0;for(let i=this.activeTo.length-1;i>=0&&this.activeTo[i]>e;i--)t++;return t}}function Cx(n,e,t,i,s,a){n.goto(e),t.goto(i);let o=i+s,u=i,f=i-e,d=!!a.boundChange;for(let p=!1;;){let y=n.to+f-t.to,x=y||n.endSide-t.endSide,S=x<0?n.to+f:t.to,w=Math.min(S,o);if(n.point||t.point?(n.point&&t.point&&og(n.point,t.point)&&np(n.activeForPoint(n.to),t.activeForPoint(t.to))||a.comparePoint(u,w,n.point,t.point),p=!1):(p&&a.boundChange(u),w>u&&!np(n.active,t.active)&&a.compareRange(u,w,n.active,t.active),d&&w<o&&(y||n.openEnd(S)!=t.openEnd(S))&&(p=!0)),S>o)break;u=S,x<=0&&n.next(),x>=0&&t.next()}}function np(n,e){if(n.length!=e.length)return!1;for(let t=0;t<n.length;t++)if(n[t]!=e[t]&&!og(n[t],e[t]))return!1;return!0}function lu(n,e){for(let t=e,i=n.length-1;t<i;t++)n[t]=n[t+1];n.pop()}function su(n,e,t){for(let i=n.length-1;i>=e;i--)n[i+1]=n[i];n[e]=t}function Ax(n,e){let t=-1,i=1e9;for(let s=0;s<e.length;s++)(e[s]-i||n[s].endSide-n[t].endSide)<0&&(t=s,i=e[s]);return t}function Br(n,e,t=n.length){let i=0;for(let s=0;s<t&&s<n.length;)n.charCodeAt(s)==9?(i+=e-i%e,s++):(i++,s=Rt(n,s));return i}function ip(n,e,t,i){for(let s=0,a=0;;){if(a>=e)return s;if(s==n.length)break;a+=n.charCodeAt(s)==9?t-a%t:1,s=Rt(n,s)}return i===!0?-1:n.length}const lp="",Mx=typeof Symbol>"u"?"__"+lp:Symbol.for(lp),sp=typeof Symbol>"u"?"__styleSet"+Math.floor(Math.random()*1e8):Symbol("styleSet"),Tx=typeof globalThis<"u"?globalThis:typeof window<"u"?window:{};class Rl{constructor(e,t){this.rules=[];let{finish:i}=t||{};function s(o){return/^@/.test(o)?[o]:o.split(/,\s*/)}function a(o,u,f,d){let p=[],y=/^@(\w+)\b/.exec(o[0]),x=y&&y[1]=="keyframes";if(y&&u==null)return f.push(o[0]+";");for(let S in u){let w=u[S];if(/&/.test(S))a(S.split(/,\s*/).map(A=>o.map(C=>A.replace(/&/,C))).reduce((A,C)=>A.concat(C)),w,f);else if(w&&typeof w=="object"){if(!y)throw new RangeError("The value of a property ("+S+") should be a primitive value.");a(s(S),w,p,x)}else w!=null&&p.push(S.replace(/_.*/,"").replace(/[A-Z]/g,A=>"-"+A.toLowerCase())+": "+w+";")}(p.length||x)&&f.push((i&&!y&&!d?o.map(i):o).join(", ")+" {"+p.join(" ")+"}")}for(let o in e)a(s(o),e[o],this.rules)}getRules(){return this.rules.join(`
`)}static newName(){let e=Tx[Mx]||1;return Tx[Mx]=e+1,lp+e.toString(36)}static mount(e,t,i){let s=e[sp],a=i&&i.nonce;s?a&&s.setNonce(a):s=new IE(e,a),s.mount(Array.isArray(t)?t:[t],e)}}let Ex=new Map;class IE{constructor(e,t){let i=e.ownerDocument||e,s=i.defaultView;if(!e.head&&e.adoptedStyleSheets&&s.CSSStyleSheet){let a=Ex.get(i);if(a)return e[sp]=a;this.sheet=new s.CSSStyleSheet,Ex.set(i,this)}else this.styleTag=i.createElement("style"),t&&this.styleTag.setAttribute("nonce",t);this.modules=[],e[sp]=this}mount(e,t){let i=this.sheet,s=0,a=0;for(let o=0;o<e.length;o++){let u=e[o],f=this.modules.indexOf(u);if(f<a&&f>-1&&(this.modules.splice(f,1),a--,f=-1),f==-1){if(this.modules.splice(a++,0,u),i)for(let d=0;d<u.rules.length;d++)i.insertRule(u.rules[d],s++)}else{for(;a<f;)s+=this.modules[a++].rules.length;s+=u.rules.length,a++}}if(i)t.adoptedStyleSheets.indexOf(this.sheet)<0&&(t.adoptedStyleSheets=[this.sheet,...t.adoptedStyleSheets]);else{let o="";for(let f=0;f<this.modules.length;f++)o+=this.modules[f].getRules()+`
`;this.styleTag.textContent=o;let u=t.head||t;this.styleTag.parentNode!=u&&u.insertBefore(this.styleTag,u.firstChild)}}setNonce(e){this.styleTag&&this.styleTag.getAttribute("nonce")!=e&&this.styleTag.setAttribute("nonce",e)}}var jl={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},co={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},FE=typeof navigator<"u"&&/Mac/.test(navigator.platform),WE=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var Ut=0;Ut<10;Ut++)jl[48+Ut]=jl[96+Ut]=String(Ut);for(var Ut=1;Ut<=24;Ut++)jl[Ut+111]="F"+Ut;for(var Ut=65;Ut<=90;Ut++)jl[Ut]=String.fromCharCode(Ut+32),co[Ut]=String.fromCharCode(Ut);for(var rm in jl)co.hasOwnProperty(rm)||(co[rm]=jl[rm]);function XE(n){var e=FE&&n.metaKey&&n.shiftKey&&!n.ctrlKey&&!n.altKey||WE&&n.shiftKey&&n.key&&n.key.length==1||n.key=="Unidentified",t=!e&&n.key||(n.shiftKey?co:jl)[n.keyCode]||n.key||"Unidentified";return t=="Esc"&&(t="Escape"),t=="Del"&&(t="Delete"),t=="Left"&&(t="ArrowLeft"),t=="Up"&&(t="ArrowUp"),t=="Right"&&(t="ArrowRight"),t=="Down"&&(t="ArrowDown"),t}function Qe(){var n=arguments[0];typeof n=="string"&&(n=document.createElement(n));var e=1,t=arguments[1];if(t&&typeof t=="object"&&t.nodeType==null&&!Array.isArray(t)){for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var s=t[i];typeof s=="string"?n.setAttribute(i,s):s!=null&&(n[i]=s)}e++}for(;e<arguments.length;e++)SS(n,arguments[e]);return n}function SS(n,e){if(typeof e=="string")n.appendChild(document.createTextNode(e));else if(e!=null)if(e.nodeType!=null)n.appendChild(e);else if(Array.isArray(e))for(var t=0;t<e.length;t++)SS(n,e[t]);else throw new RangeError("Unsupported child node: "+e)}let Xt=typeof navigator<"u"?navigator:{userAgent:"",vendor:"",platform:""},rp=typeof document<"u"?document:{documentElement:{style:{}}};const ap=/Edge\/(\d+)/.exec(Xt.userAgent),wS=/MSIE \d/.test(Xt.userAgent),op=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Xt.userAgent),ph=!!(wS||op||ap),Nx=!ph&&/gecko\/(\d+)/i.test(Xt.userAgent),am=!ph&&/Chrome\/(\d+)/.exec(Xt.userAgent),QE="webkitFontSmoothing"in rp.documentElement.style,cp=!ph&&/Apple Computer/.test(Xt.vendor),Dx=cp&&(/Mobile\/\w+/.test(Xt.userAgent)||Xt.maxTouchPoints>2);var oe={mac:Dx||/Mac/.test(Xt.platform),windows:/Win/.test(Xt.platform),linux:/Linux|X11/.test(Xt.platform),ie:ph,ie_version:wS?rp.documentMode||6:op?+op[1]:ap?+ap[1]:0,gecko:Nx,gecko_version:Nx?+(/Firefox\/(\d+)/.exec(Xt.userAgent)||[0,0])[1]:0,chrome:!!am,chrome_version:am?+am[1]:0,ios:Dx,android:/Android\b/.test(Xt.userAgent),webkit_version:QE?+(/\bAppleWebKit\/(\d+)/.exec(Xt.userAgent)||[0,0])[1]:0,safari:cp,safari_version:cp?+(/\bVersion\/(\d+(\.\d+)?)/.exec(Xt.userAgent)||[0,0])[1]:0,tabSize:rp.documentElement.style.tabSize!=null?"tab-size":"-moz-tab-size"};function ug(n,e){for(let t in n)t=="class"&&e.class?e.class+=" "+n.class:t=="style"&&e.style?e.style+=";"+n.style:e[t]=n[t];return e}const Pu=Object.create(null);function hg(n,e,t){if(n==e)return!0;n||(n=Pu),e||(e=Pu);let i=Object.keys(n),s=Object.keys(e);if(i.length-0!=s.length-0)return!1;for(let a of i)if(a!=t&&(s.indexOf(a)==-1||n[a]!==e[a]))return!1;return!0}function ZE(n,e){for(let t=n.attributes.length-1;t>=0;t--){let i=n.attributes[t].name;e[i]==null&&n.removeAttribute(i)}for(let t in e){let i=e[t];t=="style"?n.style.cssText=i:n.getAttribute(t)!=i&&n.setAttribute(t,i)}}function Ox(n,e,t){let i=!1;if(e)for(let s in e)t&&s in t||(i=!0,s=="style"?n.style.cssText="":n.removeAttribute(s));if(t)for(let s in t)e&&e[s]==t[s]||(i=!0,s=="style"?n.style.cssText=t[s]:n.setAttribute(s,t[s]));return i}function $E(n){let e=Object.create(null);for(let t=0;t<n.attributes.length;t++){let i=n.attributes[t];e[i.name]=i.value}return e}class ki{eq(e){return!1}updateDOM(e,t){return!1}compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}get estimatedHeight(){return-1}get lineBreaks(){return 0}ignoreEvent(e){return!0}coordsAt(e,t,i){return null}get isHidden(){return!1}get editable(){return!1}destroy(e){}}var qt=(function(n){return n[n.Text=0]="Text",n[n.WidgetBefore=1]="WidgetBefore",n[n.WidgetAfter=2]="WidgetAfter",n[n.WidgetRange=3]="WidgetRange",n})(qt||(qt={}));class Se extends Ol{constructor(e,t,i,s){super(),this.startSide=e,this.endSide=t,this.widget=i,this.spec=s}get heightRelevant(){return!1}static mark(e){return new No(e)}static widget(e){let t=Math.max(-1e4,Math.min(1e4,e.side||0)),i=!!e.block;return t+=i&&!e.inlineOrder?t>0?3e8:-4e8:t>0?1e8:-1e8,new gs(e,t,t,i,e.widget||null,!1)}static replace(e){let t=!!e.block,i,s;if(e.isBlockGap)i=-5e8,s=4e8;else{let{start:a,end:o}=kS(e,t);i=(a?t?-3e8:-1:5e8)-1,s=(o?t?2e8:1:-6e8)+1}return new gs(e,i,s,t,e.widget||null,!0)}static line(e){return new Do(e)}static set(e,t=!1){return Re.of(e,t)}hasHeight(){return this.widget?this.widget.estimatedHeight>-1:!1}}Se.none=Re.empty;class No extends Se{constructor(e){let{start:t,end:i}=kS(e);super(t?-1:5e8,i?1:-6e8,null,e),this.tagName=e.tagName||"span",this.attrs=e.class&&e.attributes?ug(e.attributes,{class:e.class}):e.class?{class:e.class}:e.attributes||Pu}eq(e){return this==e||e instanceof No&&this.tagName==e.tagName&&hg(this.attrs,e.attrs)}range(e,t=e){if(e>=t)throw new RangeError("Mark decorations may not be empty");return super.range(e,t)}}No.prototype.point=!1;class Do extends Se{constructor(e){super(-2e8,-2e8,null,e)}eq(e){return e instanceof Do&&this.spec.class==e.spec.class&&hg(this.spec.attributes,e.spec.attributes)}range(e,t=e){if(t!=e)throw new RangeError("Line decoration ranges must be zero-length");return super.range(e,t)}}Do.prototype.mapMode=Qt.TrackBefore;Do.prototype.point=!0;class gs extends Se{constructor(e,t,i,s,a,o){super(t,i,a,e),this.block=s,this.isReplace=o,this.mapMode=s?t<=0?Qt.TrackBefore:Qt.TrackAfter:Qt.TrackDel}get type(){return this.startSide!=this.endSide?qt.WidgetRange:this.startSide<=0?qt.WidgetBefore:qt.WidgetAfter}get heightRelevant(){return this.block||!!this.widget&&(this.widget.estimatedHeight>=5||this.widget.lineBreaks>0)}eq(e){return e instanceof gs&&JE(this.widget,e.widget)&&this.block==e.block&&this.startSide==e.startSide&&this.endSide==e.endSide}range(e,t=e){if(this.isReplace&&(e>t||e==t&&this.startSide>0&&this.endSide<=0))throw new RangeError("Invalid range for replacement decoration");if(!this.isReplace&&t!=e)throw new RangeError("Widget decorations can only have zero-length ranges");return super.range(e,t)}}gs.prototype.point=!0;function kS(n,e=!1){let{inclusiveStart:t,inclusiveEnd:i}=n;return t==null&&(t=n.inclusive),i==null&&(i=n.inclusive),{start:t??e,end:i??e}}function JE(n,e){return n==e||!!(n&&e&&n.compare(e))}function xr(n,e,t,i=0){let s=t.length-1;s>=0&&t[s]+i>=n?t[s]=Math.max(t[s],e):t.push(n,e)}class uo extends Ol{constructor(e,t){super(),this.tagName=e,this.attributes=t}eq(e){return e==this||e instanceof uo&&this.tagName==e.tagName&&hg(this.attributes,e.attributes)}static create(e){return new uo(e.tagName,e.attributes||Pu)}static set(e,t=!1){return Re.of(e,t)}}uo.prototype.startSide=uo.prototype.endSide=-1;function ho(n){let e;return n.nodeType==11?e=n.getSelection?n:n.ownerDocument:e=n,e.getSelection()}function up(n,e){return e?n==e||n.contains(e.nodeType!=1?e.parentNode:e):!1}function $a(n,e){if(!e.anchorNode)return!1;try{return up(n,e.anchorNode)}catch{return!1}}function Ja(n){return n.nodeType==3?mo(n,0,n.nodeValue.length).getClientRects():n.nodeType==1?n.getClientRects():[]}function eo(n,e,t,i){return t?Rx(n,e,t,i,-1)||Rx(n,e,t,i,1):!1}function _l(n){for(var e=0;;e++)if(n=n.previousSibling,!n)return e}function Ku(n){return n.nodeType==1&&/^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\d|SECTION|PRE)$/.test(n.nodeName)}function Rx(n,e,t,i,s){for(;;){if(n==t&&e==i)return!0;if(e==(s<0?0:Wi(n))){if(n.nodeName=="DIV")return!1;let a=n.parentNode;if(!a||a.nodeType!=1)return!1;e=_l(n)+(s<0?0:1),n=a}else if(n.nodeType==1){if(n=n.childNodes[e+(s<0?-1:0)],n.nodeType==1&&n.contentEditable=="false")return!1;e=s<0?Wi(n):0}else return!1}}function Wi(n){return n.nodeType==3?n.nodeValue.length:n.childNodes.length}function fo(n,e){let t=e?n.left:n.right;return{left:t,right:t,top:n.top,bottom:n.bottom}}function eN(n){let e=n.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:n.innerWidth,top:0,bottom:n.innerHeight}}function CS(n,e){let t=e.width/n.offsetWidth,i=e.height/n.offsetHeight;return(t>.995&&t<1.005||!isFinite(t)||Math.abs(e.width-n.offsetWidth)<1)&&(t=1),(i>.995&&i<1.005||!isFinite(i)||Math.abs(e.height-n.offsetHeight)<1)&&(i=1),{scaleX:t,scaleY:i}}function tN(n,e,t,i,s,a,o,u){let f=n.ownerDocument,d=f.defaultView||window;for(let p=n,y=!1;p&&!y;)if(p.nodeType==1){let x,S=p==f.body,w=1,A=1;if(S)x=eN(d);else{if(/^(fixed|sticky)$/.test(getComputedStyle(p).position)&&(y=!0),p.scrollHeight<=p.clientHeight&&p.scrollWidth<=p.clientWidth){p=p.assignedSlot||p.parentNode;continue}let j=p.getBoundingClientRect();({scaleX:w,scaleY:A}=CS(p,j)),x={left:j.left,right:j.left+p.clientWidth*w,top:j.top,bottom:j.top+p.clientHeight*A}}let C=0,T=0;if(s=="nearest")e.top<x.top?(T=e.top-(x.top+o),t>0&&e.bottom>x.bottom+T&&(T=e.bottom-x.bottom+o)):e.bottom>x.bottom&&(T=e.bottom-x.bottom+o,t<0&&e.top-T<x.top&&(T=e.top-(x.top+o)));else{let j=e.bottom-e.top,N=x.bottom-x.top;T=(s=="center"&&j<=N?e.top+j/2-N/2:s=="start"||s=="center"&&t<0?e.top-o:e.bottom-N+o)-x.top}if(i=="nearest"?e.left<x.left?(C=e.left-(x.left+a),t>0&&e.right>x.right+C&&(C=e.right-x.right+a)):e.right>x.right&&(C=e.right-x.right+a,t<0&&e.left<x.left+C&&(C=e.left-(x.left+a))):C=(i=="center"?e.left+(e.right-e.left)/2-(x.right-x.left)/2:i=="start"==u?e.left-a:e.right-(x.right-x.left)+a)-x.left,C||T)if(S)d.scrollBy(C,T);else{let j=0,N=0;if(T){let q=p.scrollTop;p.scrollTop+=T/A,N=(p.scrollTop-q)*A}if(C){let q=p.scrollLeft;p.scrollLeft+=C/w,j=(p.scrollLeft-q)*w}e={left:e.left-j,top:e.top-N,right:e.right-j,bottom:e.bottom-N},j&&Math.abs(j-C)<1&&(i="nearest"),N&&Math.abs(N-T)<1&&(s="nearest")}if(S)break;(e.top<x.top||e.bottom>x.bottom||e.left<x.left||e.right>x.right)&&(e={left:Math.max(e.left,x.left),right:Math.min(e.right,x.right),top:Math.max(e.top,x.top),bottom:Math.min(e.bottom,x.bottom)}),p=p.assignedSlot||p.parentNode}else if(p.nodeType==11)p=p.host;else break}function nN(n){let e=n.ownerDocument,t,i;for(let s=n.parentNode;s&&!(s==e.body||t&&i);)if(s.nodeType==1)!i&&s.scrollHeight>s.clientHeight&&(i=s),!t&&s.scrollWidth>s.clientWidth&&(t=s),s=s.assignedSlot||s.parentNode;else if(s.nodeType==11)s=s.host;else break;return{x:t,y:i}}class iN{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}eq(e){return this.anchorNode==e.anchorNode&&this.anchorOffset==e.anchorOffset&&this.focusNode==e.focusNode&&this.focusOffset==e.focusOffset}setRange(e){let{anchorNode:t,focusNode:i}=e;this.set(t,Math.min(e.anchorOffset,t?Wi(t):0),i,Math.min(e.focusOffset,i?Wi(i):0))}set(e,t,i,s){this.anchorNode=e,this.anchorOffset=t,this.focusNode=i,this.focusOffset=s}}let as=null;oe.safari&&oe.safari_version>=26&&(as=!1);function AS(n){if(n.setActive)return n.setActive();if(as)return n.focus(as);let e=[];for(let t=n;t&&(e.push(t,t.scrollTop,t.scrollLeft),t!=t.ownerDocument);t=t.parentNode);if(n.focus(as==null?{get preventScroll(){return as={preventScroll:!0},!0}}:void 0),!as){as=!1;for(let t=0;t<e.length;){let i=e[t++],s=e[t++],a=e[t++];i.scrollTop!=s&&(i.scrollTop=s),i.scrollLeft!=a&&(i.scrollLeft=a)}}}let jx;function mo(n,e,t=e){let i=jx||(jx=document.createRange());return i.setEnd(n,t),i.setStart(n,e),i}function vr(n,e,t,i){let s={key:e,code:e,keyCode:t,which:t,cancelable:!0};i&&({altKey:s.altKey,ctrlKey:s.ctrlKey,shiftKey:s.shiftKey,metaKey:s.metaKey}=i);let a=new KeyboardEvent("keydown",s);a.synthetic=!0,n.dispatchEvent(a);let o=new KeyboardEvent("keyup",s);return o.synthetic=!0,n.dispatchEvent(o),a.defaultPrevented||o.defaultPrevented}function lN(n){for(;n;){if(n&&(n.nodeType==9||n.nodeType==11&&n.host))return n;n=n.assignedSlot||n.parentNode}return null}function sN(n,e){let t=e.focusNode,i=e.focusOffset;if(!t||e.anchorNode!=t||e.anchorOffset!=i)return!1;for(i=Math.min(i,Wi(t));;)if(i){if(t.nodeType!=1)return!1;let s=t.childNodes[i-1];s.contentEditable=="false"?i--:(t=s,i=Wi(t))}else{if(t==n)return!0;i=_l(t),t=t.parentNode}}function MS(n){return n.scrollTop>Math.max(1,n.scrollHeight-n.clientHeight-4)}function TS(n,e){for(let t=n,i=e;;){if(t.nodeType==3&&i>0)return{node:t,offset:i};if(t.nodeType==1&&i>0){if(t.contentEditable=="false")return null;t=t.childNodes[i-1],i=Wi(t)}else if(t.parentNode&&!Ku(t))i=_l(t),t=t.parentNode;else return null}}function ES(n,e){for(let t=n,i=e;;){if(t.nodeType==3&&i<t.nodeValue.length)return{node:t,offset:i};if(t.nodeType==1&&i<t.childNodes.length){if(t.contentEditable=="false")return null;t=t.childNodes[i],i=0}else if(t.parentNode&&!Ku(t))i=_l(t)+1,t=t.parentNode;else return null}}class Fn{constructor(e,t,i=!0){this.node=e,this.offset=t,this.precise=i}static before(e,t){return new Fn(e.parentNode,_l(e),t)}static after(e,t){return new Fn(e.parentNode,_l(e)+1,t)}}var Je=(function(n){return n[n.LTR=0]="LTR",n[n.RTL=1]="RTL",n})(Je||(Je={}));const ys=Je.LTR,fg=Je.RTL;function NS(n){let e=[];for(let t=0;t<n.length;t++)e.push(1<<+n[t]);return e}const rN=NS("88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008"),aN=NS("4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333"),hp=Object.create(null),ai=[];for(let n of["()","[]","{}"]){let e=n.charCodeAt(0),t=n.charCodeAt(1);hp[e]=t,hp[t]=-e}function DS(n){return n<=247?rN[n]:1424<=n&&n<=1524?2:1536<=n&&n<=1785?aN[n-1536]:1774<=n&&n<=2220?4:8192<=n&&n<=8204?256:64336<=n&&n<=65023?4:1}const oN=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\ufb50-\ufdff]/;class gi{get dir(){return this.level%2?fg:ys}constructor(e,t,i){this.from=e,this.to=t,this.level=i}side(e,t){return this.dir==t==e?this.to:this.from}forward(e,t){return e==(this.dir==t)}static find(e,t,i,s){let a=-1;for(let o=0;o<e.length;o++){let u=e[o];if(u.from<=t&&u.to>=t){if(u.level==i)return o;(a<0||(s!=0?s<0?u.from<t:u.to>t:e[a].level>u.level))&&(a=o)}}if(a<0)throw new RangeError("Index out of range");return a}}function OS(n,e){if(n.length!=e.length)return!1;for(let t=0;t<n.length;t++){let i=n[t],s=e[t];if(i.from!=s.from||i.to!=s.to||i.direction!=s.direction||!OS(i.inner,s.inner))return!1}return!0}const $e=[];function cN(n,e,t,i,s){for(let a=0;a<=i.length;a++){let o=a?i[a-1].to:e,u=a<i.length?i[a].from:t,f=a?256:s;for(let d=o,p=f,y=f;d<u;d++){let x=DS(n.charCodeAt(d));x==512?x=p:x==8&&y==4&&(x=16),$e[d]=x==4?2:x,x&7&&(y=x),p=x}for(let d=o,p=f,y=f;d<u;d++){let x=$e[d];if(x==128)d<u-1&&p==$e[d+1]&&p&24?x=$e[d]=p:$e[d]=256;else if(x==64){let S=d+1;for(;S<u&&$e[S]==64;)S++;let w=d&&p==8||S<t&&$e[S]==8?y==1?1:8:256;for(let A=d;A<S;A++)$e[A]=w;d=S-1}else x==8&&y==1&&($e[d]=1);p=x,x&7&&(y=x)}}}function uN(n,e,t,i,s){let a=s==1?2:1;for(let o=0,u=0,f=0;o<=i.length;o++){let d=o?i[o-1].to:e,p=o<i.length?i[o].from:t;for(let y=d,x,S,w;y<p;y++)if(S=hp[x=n.charCodeAt(y)])if(S<0){for(let A=u-3;A>=0;A-=3)if(ai[A+1]==-S){let C=ai[A+2],T=C&2?s:C&4?C&1?a:s:0;T&&($e[y]=$e[ai[A]]=T),u=A;break}}else{if(ai.length==189)break;ai[u++]=y,ai[u++]=x,ai[u++]=f}else if((w=$e[y])==2||w==1){let A=w==s;f=A?0:1;for(let C=u-3;C>=0;C-=3){let T=ai[C+2];if(T&2)break;if(A)ai[C+2]|=2;else{if(T&4)break;ai[C+2]|=4}}}}}function hN(n,e,t,i){for(let s=0,a=i;s<=t.length;s++){let o=s?t[s-1].to:n,u=s<t.length?t[s].from:e;for(let f=o;f<u;){let d=$e[f];if(d==256){let p=f+1;for(;;)if(p==u){if(s==t.length)break;p=t[s++].to,u=s<t.length?t[s].from:e}else if($e[p]==256)p++;else break;let y=a==1,x=(p<e?$e[p]:i)==1,S=y==x?y?1:2:i;for(let w=p,A=s,C=A?t[A-1].to:n;w>f;)w==C&&(w=t[--A].from,C=A?t[A-1].to:n),$e[--w]=S;f=p}else a=d,f++}}}function fp(n,e,t,i,s,a,o){let u=i%2?2:1;if(i%2==s%2)for(let f=e,d=0;f<t;){let p=!0,y=!1;if(d==a.length||f<a[d].from){let A=$e[f];A!=u&&(p=!1,y=A==16)}let x=!p&&u==1?[]:null,S=p?i:i+1,w=f;e:for(;;)if(d<a.length&&w==a[d].from){if(y)break e;let A=a[d];if(!p)for(let C=A.to,T=d+1;;){if(C==t)break e;if(T<a.length&&a[T].from==C)C=a[T++].to;else{if($e[C]==u)break e;break}}if(d++,x)x.push(A);else{A.from>f&&o.push(new gi(f,A.from,S));let C=A.direction==ys!=!(S%2);dp(n,C?i+1:i,s,A.inner,A.from,A.to,o),f=A.to}w=A.to}else{if(w==t||(p?$e[w]!=u:$e[w]==u))break;w++}x?fp(n,f,w,i+1,s,x,o):f<w&&o.push(new gi(f,w,S)),f=w}else for(let f=t,d=a.length;f>e;){let p=!0,y=!1;if(!d||f>a[d-1].to){let A=$e[f-1];A!=u&&(p=!1,y=A==16)}let x=!p&&u==1?[]:null,S=p?i:i+1,w=f;e:for(;;)if(d&&w==a[d-1].to){if(y)break e;let A=a[--d];if(!p)for(let C=A.from,T=d;;){if(C==e)break e;if(T&&a[T-1].to==C)C=a[--T].from;else{if($e[C-1]==u)break e;break}}if(x)x.push(A);else{A.to<f&&o.push(new gi(A.to,f,S));let C=A.direction==ys!=!(S%2);dp(n,C?i+1:i,s,A.inner,A.from,A.to,o),f=A.from}w=A.from}else{if(w==e||(p?$e[w-1]!=u:$e[w-1]==u))break;w--}x?fp(n,w,f,i+1,s,x,o):w<f&&o.push(new gi(w,f,S)),f=w}}function dp(n,e,t,i,s,a,o){let u=e%2?2:1;cN(n,s,a,i,u),uN(n,s,a,i,u),hN(s,a,i,u),fp(n,s,a,e,t,i,o)}function fN(n,e,t){if(!n)return[new gi(0,0,e==fg?1:0)];if(e==ys&&!t.length&&!oN.test(n))return RS(n.length);if(t.length)for(;n.length>$e.length;)$e[$e.length]=256;let i=[],s=e==ys?0:1;return dp(n,s,s,t,0,n.length,i),i}function RS(n){return[new gi(0,n,0)]}let jS="";function dN(n,e,t,i,s){var a;let o=i.head-n.from,u=gi.find(e,o,(a=i.bidiLevel)!==null&&a!==void 0?a:-1,i.assoc),f=e[u],d=f.side(s,t);if(o==d){let x=u+=s?1:-1;if(x<0||x>=e.length)return null;f=e[u=x],o=f.side(!s,t),d=f.side(s,t)}let p=Rt(n.text,o,f.forward(s,t));(p<f.from||p>f.to)&&(p=d),jS=n.text.slice(Math.min(o,p),Math.max(o,p));let y=u==(s?e.length-1:0)?null:e[u+(s?1:-1)];return y&&p==d&&y.level+(s?0:1)<f.level?X.cursor(y.side(!s,t)+n.from,y.forward(s,t)?1:-1,y.level):X.cursor(p+n.from,f.forward(s,t)?-1:1,f.level)}function mN(n,e,t){for(let i=e;i<t;i++){let s=DS(n.charCodeAt(i));if(s==1)return ys;if(s==2||s==4)return fg}return ys}const _S=ce.define(),LS=ce.define(),BS=ce.define(),zS=ce.define(),mp=ce.define(),HS=ce.define(),VS=ce.define(),dg=ce.define(),mg=ce.define(),US=ce.define({combine:n=>n.some(e=>e)}),qS=ce.define({combine:n=>n.some(e=>e)}),PS=ce.define();class Sr{constructor(e,t="nearest",i="nearest",s=5,a=5,o=!1){this.range=e,this.y=t,this.x=i,this.yMargin=s,this.xMargin=a,this.isSnapshot=o}map(e){return e.empty?this:new Sr(this.range.map(e),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}clip(e){return this.range.to<=e.doc.length?this:new Sr(X.cursor(e.doc.length),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}}const ru=Me.define({map:(n,e)=>n.map(e)}),KS=Me.define();function un(n,e,t){let i=n.facet(zS);i.length?i[0](e):window.onerror&&window.onerror(String(e),t,void 0,void 0,e)||(t?console.error(t+":",e):console.error(e))}const Pi=ce.define({combine:n=>n.length?n[0]:!0});let pN=0;const dr=ce.define({combine(n){return n.filter((e,t)=>{for(let i=0;i<t;i++)if(n[i].plugin==e.plugin)return!1;return!0})}});class ft{constructor(e,t,i,s,a){this.id=e,this.create=t,this.domEventHandlers=i,this.domEventObservers=s,this.baseExtensions=a(this),this.extension=this.baseExtensions.concat(dr.of({plugin:this,arg:void 0}))}of(e){return this.baseExtensions.concat(dr.of({plugin:this,arg:e}))}static define(e,t){const{eventHandlers:i,eventObservers:s,provide:a,decorations:o}=t||{};return new ft(pN++,e,i,s,u=>{let f=[];return o&&f.push(gh.of(d=>{let p=d.plugin(u);return p?o(p):Se.none})),a&&f.push(a(u)),f})}static fromClass(e,t){return ft.define((i,s)=>new e(i,s),t)}}class om{constructor(e){this.spec=e,this.mustUpdate=null,this.value=null}get plugin(){return this.spec&&this.spec.plugin}update(e){if(this.value){if(this.mustUpdate){let t=this.mustUpdate;if(this.mustUpdate=null,this.value.update)try{this.value.update(t)}catch(i){if(un(t.state,i,"CodeMirror plugin crashed"),this.value.destroy)try{this.value.destroy()}catch{}this.deactivate()}}}else if(this.spec)try{this.value=this.spec.plugin.create(e,this.spec.arg)}catch(t){un(e.state,t,"CodeMirror plugin crashed"),this.deactivate()}return this}destroy(e){var t;if(!((t=this.value)===null||t===void 0)&&t.destroy)try{this.value.destroy()}catch(i){un(e.state,i,"CodeMirror plugin crashed")}}deactivate(){this.spec=this.value=null}}const YS=ce.define(),pg=ce.define(),gh=ce.define(),GS=ce.define(),gg=ce.define(),Oo=ce.define(),IS=ce.define();function _x(n,e){let t=n.state.facet(IS);if(!t.length)return t;let i=t.map(a=>a instanceof Function?a(n):a),s=[];return Re.spans(i,e.from,e.to,{point(){},span(a,o,u,f){let d=a-e.from,p=o-e.from,y=s;for(let x=u.length-1;x>=0;x--,f--){let S=u[x].spec.bidiIsolate,w;if(S==null&&(S=mN(e.text,d,p)),f>0&&y.length&&(w=y[y.length-1]).to==d&&w.direction==S)w.to=p,y=w.inner;else{let A={from:d,to:p,direction:S,inner:[]};y.push(A),y=A.inner}}}}),s}const FS=ce.define();function yg(n){let e=0,t=0,i=0,s=0;for(let a of n.state.facet(FS)){let o=a(n);o&&(o.left!=null&&(e=Math.max(e,o.left)),o.right!=null&&(t=Math.max(t,o.right)),o.top!=null&&(i=Math.max(i,o.top)),o.bottom!=null&&(s=Math.max(s,o.bottom)))}return{left:e,right:t,top:i,bottom:s}}const Ga=ce.define();class zn{constructor(e,t,i,s){this.fromA=e,this.toA=t,this.fromB=i,this.toB=s}join(e){return new zn(Math.min(this.fromA,e.fromA),Math.max(this.toA,e.toA),Math.min(this.fromB,e.fromB),Math.max(this.toB,e.toB))}addToSet(e){let t=e.length,i=this;for(;t>0;t--){let s=e[t-1];if(!(s.fromA>i.toA)){if(s.toA<i.fromA)break;i=i.join(s),e.splice(t-1,1)}}return e.splice(t,0,i),e}static extendWithRanges(e,t){if(t.length==0)return e;let i=[];for(let s=0,a=0,o=0;;){let u=s<e.length?e[s].fromB:1e9,f=a<t.length?t[a]:1e9,d=Math.min(u,f);if(d==1e9)break;let p=d+o,y=d,x=p;for(;;)if(a<t.length&&t[a]<=y){let S=t[a+1];a+=2,y=Math.max(y,S);for(let w=s;w<e.length&&e[w].fromB<=y;w++)o=e[w].toA-e[w].toB;x=Math.max(x,S+o)}else if(s<e.length&&e[s].fromB<=y){let S=e[s++];y=Math.max(y,S.toB),x=Math.max(x,S.toA),o=S.toA-S.toB}else break;i.push(new zn(p,x,d,y))}return i}}class Yu{constructor(e,t,i){this.view=e,this.state=t,this.transactions=i,this.flags=0,this.startState=e.state,this.changes=Ct.empty(this.startState.doc.length);for(let a of i)this.changes=this.changes.compose(a.changes);let s=[];this.changes.iterChangedRanges((a,o,u,f)=>s.push(new zn(a,o,u,f))),this.changedRanges=s}static create(e,t,i){return new Yu(e,t,i)}get viewportChanged(){return(this.flags&4)>0}get viewportMoved(){return(this.flags&8)>0}get heightChanged(){return(this.flags&2)>0}get geometryChanged(){return this.docChanged||(this.flags&18)>0}get focusChanged(){return(this.flags&1)>0}get docChanged(){return!this.changes.empty}get selectionSet(){return this.transactions.some(e=>e.selection)}get empty(){return this.flags==0&&this.transactions.length==0}}const gN=[];class St{constructor(e,t,i=0){this.dom=e,this.length=t,this.flags=i,this.parent=null,e.cmTile=this}get breakAfter(){return this.flags&1}get children(){return gN}isWidget(){return!1}get isHidden(){return!1}isComposite(){return!1}isLine(){return!1}isText(){return!1}isBlock(){return!1}get domAttrs(){return null}sync(e){if(this.flags|=2,this.flags&4){this.flags&=-5;let t=this.domAttrs;t&&ZE(this.dom,t)}}toString(){return this.constructor.name+(this.children.length?`(${this.children})`:"")+(this.breakAfter?"#":"")}destroy(){this.parent=null}setDOM(e){this.dom=e,e.cmTile=this}get posAtStart(){return this.parent?this.parent.posBefore(this):0}get posAtEnd(){return this.posAtStart+this.length}posBefore(e,t=this.posAtStart){let i=t;for(let s of this.children){if(s==e)return i;i+=s.length+s.breakAfter}throw new RangeError("Invalid child in posBefore")}posAfter(e){return this.posBefore(e)+e.length}covers(e){return!0}coordsIn(e,t){return null}domPosFor(e,t){let i=_l(this.dom),s=this.length?e>0:t>0;return new Fn(this.parent.dom,i+(s?1:0),e==0||e==this.length)}markDirty(e){this.flags&=-3,e&&(this.flags|=4),this.parent&&this.parent.flags&2&&this.parent.markDirty(!1)}get overrideDOMText(){return null}get root(){for(let e=this;e;e=e.parent)if(e instanceof bh)return e;return null}static get(e){return e.cmTile}}class yh extends St{constructor(e){super(e,0),this._children=[]}isComposite(){return!0}get children(){return this._children}get lastChild(){return this.children.length?this.children[this.children.length-1]:null}append(e){this.children.push(e),e.parent=this}sync(e){if(this.flags&2)return;super.sync(e);let t=this.dom,i=null,s,a=(e==null?void 0:e.node)==t?e:null,o=0;for(let u of this.children){if(u.sync(e),o+=u.length+u.breakAfter,s=i?i.nextSibling:t.firstChild,a&&s!=u.dom&&(a.written=!0),u.dom.parentNode==t)for(;s&&s!=u.dom;)s=Lx(s);else t.insertBefore(u.dom,s);i=u.dom}for(s=i?i.nextSibling:t.firstChild,a&&s&&(a.written=!0);s;)s=Lx(s);this.length=o}}function Lx(n){let e=n.nextSibling;return n.parentNode.removeChild(n),e}class bh extends yh{constructor(e,t){super(t),this.view=e}owns(e){for(;e;e=e.parent)if(e==this)return!0;return!1}isBlock(){return!0}nearest(e){for(;;){if(!e)return null;let t=St.get(e);if(t&&this.owns(t))return t;e=e.parentNode}}blockTiles(e){for(let t=[],i=this,s=0,a=0;;)if(s==i.children.length){if(!t.length)return;i=i.parent,i.breakAfter&&a++,s=t.pop()}else{let o=i.children[s++];if(o instanceof Gi)t.push(s),i=o,s=0;else{let u=a+o.length,f=e(o,a);if(f!==void 0)return f;a=u+o.breakAfter}}}resolveBlock(e,t){let i,s=-1,a,o=-1;if(this.blockTiles((u,f)=>{let d=f+u.length;if(e>=f&&e<=d){if(u.isWidget()&&t>=-1&&t<=1){if(u.flags&32)return!0;u.flags&16&&(i=void 0)}(f<e||e==d&&(t<-1?u.length:u.covers(1)))&&(!i||!u.isWidget()&&i.isWidget())&&(i=u,s=e-f),(d>e||e==f&&(t>1?u.length:u.covers(-1)))&&(!a||!u.isWidget()&&a.isWidget())&&(a=u,o=e-f)}}),!i&&!a)throw new Error("No tile at position "+e);return i&&t<0||!a?{tile:i,offset:s}:{tile:a,offset:o}}}class Gi extends yh{constructor(e,t){super(e),this.wrapper=t}isBlock(){return!0}covers(e){return this.children.length?e<0?this.children[0].covers(-1):this.lastChild.covers(1):!1}get domAttrs(){return this.wrapper.attributes}static of(e,t){let i=new Gi(t||document.createElement(e.tagName),e);return t||(i.flags|=4),i}}class Tr extends yh{constructor(e,t){super(e),this.attrs=t}isLine(){return!0}static start(e,t,i){let s=new Tr(t||document.createElement("div"),e);return(!t||!i)&&(s.flags|=4),s}get domAttrs(){return this.attrs}resolveInline(e,t,i){let s=null,a=-1,o=null,u=-1;function f(p,y){for(let x=0,S=0;x<p.children.length&&S<=y;x++){let w=p.children[x],A=S+w.length;A>=y&&(w.isComposite()?f(w,y-S):(!o||o.isHidden&&(t>0||i&&bN(o,w)))&&(A>y||w.flags&32)?(o=w,u=y-S):(S<y||w.flags&16&&!w.isHidden)&&(s=w,a=y-S)),S=A}}f(this,e);let d=(t<0?s:o)||s||o;return d?{tile:d,offset:d==s?a:u}:null}coordsIn(e,t){let i=this.resolveInline(e,t,!0);return i?i.tile.coordsIn(Math.max(0,i.offset),t):yN(this)}domIn(e,t){let i=this.resolveInline(e,t);if(i){let{tile:s,offset:a}=i;if(this.dom.contains(s.dom))return s.isText()?new Fn(s.dom,Math.min(s.dom.nodeValue.length,a)):s.domPosFor(a,s.flags&16?1:s.flags&32?-1:t);let o=i.tile.parent,u=!1;for(let f of o.children){if(u)return new Fn(f.dom,0);f==i.tile&&(u=!0)}}return new Fn(this.dom,0)}}function yN(n){let e=n.dom.lastChild;if(!e)return n.dom.getBoundingClientRect();let t=Ja(e);return t[t.length-1]||null}function bN(n,e){let t=n.coordsIn(0,1),i=e.coordsIn(0,1);return t&&i&&i.top<t.bottom}class cn extends yh{constructor(e,t){super(e),this.mark=t}get domAttrs(){return this.mark.attrs}static of(e,t){let i=new cn(t||document.createElement(e.tagName),e);return t||(i.flags|=4),i}}class fs extends St{constructor(e,t){super(e,t.length),this.text=t}sync(e){this.flags&2||(super.sync(e),this.dom.nodeValue!=this.text&&(e&&e.node==this.dom&&(e.written=!0),this.dom.nodeValue=this.text))}isText(){return!0}toString(){return JSON.stringify(this.text)}coordsIn(e,t){let i=this.dom.nodeValue.length;e>i&&(e=i);let s=e,a=e,o=0;e==0&&t<0||e==i&&t>=0?oe.chrome||oe.gecko||(e?(s--,o=1):a<i&&(a++,o=-1)):t<0?s--:a<i&&a++;let u=mo(this.dom,s,a).getClientRects();if(!u.length)return null;let f=u[(o?o<0:t>=0)?0:u.length-1];return oe.safari&&!o&&f.width==0&&(f=Array.prototype.find.call(u,d=>d.width)||f),o?fo(f,o<0):f||null}static of(e,t){let i=new fs(t||document.createTextNode(e),e);return t||(i.flags|=2),i}}class bs extends St{constructor(e,t,i,s){super(e,t,s),this.widget=i}isWidget(){return!0}get isHidden(){return this.widget.isHidden}covers(e){return this.flags&48?!1:(this.flags&(e<0?64:128))>0}coordsIn(e,t){return this.coordsInWidget(e,t,!1)}coordsInWidget(e,t,i){let s=this.widget.coordsAt(this.dom,e,t);if(s)return s;if(i)return fo(this.dom.getBoundingClientRect(),this.length?e==0:t<=0);{let a=this.dom.getClientRects(),o=null;if(!a.length)return null;let u=this.flags&16?!0:this.flags&32?!1:e>0;for(let f=u?a.length-1:0;o=a[f],!(e>0?f==0:f==a.length-1||o.top<o.bottom);f+=u?-1:1);return fo(o,!u)}}get overrideDOMText(){if(!this.length)return qe.empty;let{root:e}=this;if(!e)return qe.empty;let t=this.posAtStart;return e.view.state.doc.slice(t,t+this.length)}destroy(){super.destroy(),this.widget.destroy(this.dom)}static of(e,t,i,s,a){return a||(a=e.toDOM(t),e.editable||(a.contentEditable="false")),new bs(a,i,e,s)}}class Gu extends St{constructor(e){let t=document.createElement("img");t.className="cm-widgetBuffer",t.setAttribute("aria-hidden","true"),super(t,0,e)}get isHidden(){return!0}get overrideDOMText(){return qe.empty}coordsIn(e){return this.dom.getBoundingClientRect()}}class xN{constructor(e){this.index=0,this.beforeBreak=!1,this.parents=[],this.tile=e}advance(e,t,i){let{tile:s,index:a,beforeBreak:o,parents:u}=this;for(;e||t>0;)if(s.isComposite())if(o){if(!e)break;i&&i.break(),e--,o=!1}else if(a==s.children.length){if(!e&&!u.length)break;i&&i.leave(s),o=!!s.breakAfter,{tile:s,index:a}=u.pop(),a++}else{let f=s.children[a],d=f.breakAfter;(t>0?f.length<=e:f.length<e)&&(!i||i.skip(f,0,f.length)!==!1||!f.isComposite)?(o=!!d,a++,e-=f.length):(u.push({tile:s,index:a}),s=f,a=0,i&&f.isComposite()&&i.enter(f))}else if(a==s.length)o=!!s.breakAfter,{tile:s,index:a}=u.pop(),a++;else if(e){let f=Math.min(e,s.length-a);i&&i.skip(s,a,a+f),e-=f,a+=f}else break;return this.tile=s,this.index=a,this.beforeBreak=o,this}get root(){return this.parents.length?this.parents[0].tile:this.tile}}class vN{constructor(e,t,i,s){this.from=e,this.to=t,this.wrapper=i,this.rank=s}}class SN{constructor(e,t,i){this.cache=e,this.root=t,this.blockWrappers=i,this.curLine=null,this.lastBlock=null,this.afterWidget=null,this.pos=0,this.wrappers=[],this.wrapperPos=0}addText(e,t,i,s){var a;this.flushBuffer();let o=this.ensureMarks(t,i),u=o.lastChild;if(u&&u.isText()&&!(u.flags&8)&&u.length+e.length<512){this.cache.reused.set(u,2);let f=o.children[o.children.length-1]=new fs(u.dom,u.text+e);f.parent=o}else o.append(s||fs.of(e,(a=this.cache.find(fs))===null||a===void 0?void 0:a.dom));this.pos+=e.length,this.afterWidget=null}addComposition(e,t){let i=this.curLine;i.dom!=t.line.dom&&(i.setDOM(this.cache.reused.has(t.line)?cm(t.line.dom):t.line.dom),this.cache.reused.set(t.line,2));let s=i;for(let u=t.marks.length-1;u>=0;u--){let f=t.marks[u],d=s.lastChild;if(d instanceof cn&&d.mark.eq(f.mark))d.dom!=f.dom&&d.setDOM(cm(f.dom)),s=d;else{if(this.cache.reused.get(f)){let y=St.get(f.dom);y&&y.setDOM(cm(f.dom))}let p=cn.of(f.mark,f.dom);s.append(p),s=p}this.cache.reused.set(f,2)}let a=St.get(e.text);a&&this.cache.reused.set(a,2);let o=new fs(e.text,e.text.nodeValue);o.flags|=8,s.append(o)}addInlineWidget(e,t,i){let s=this.afterWidget&&e.flags&48&&(this.afterWidget.flags&48)==(e.flags&48);s||this.flushBuffer();let a=this.ensureMarks(t,i);!s&&!(e.flags&16)&&a.append(this.getBuffer(1)),a.append(e),this.pos+=e.length,this.afterWidget=e}addMark(e,t,i){this.flushBuffer(),this.ensureMarks(t,i).append(e),this.pos+=e.length,this.afterWidget=null}addBlockWidget(e){this.getBlockPos().append(e),this.pos+=e.length,this.lastBlock=e,this.endLine()}continueWidget(e){let t=this.afterWidget||this.lastBlock;t.length+=e,this.pos+=e}addLineStart(e,t){var i;e||(e=WS);let s=Tr.start(e,t||((i=this.cache.find(Tr))===null||i===void 0?void 0:i.dom),!!t);this.getBlockPos().append(this.lastBlock=this.curLine=s)}addLine(e){this.getBlockPos().append(e),this.pos+=e.length,this.lastBlock=e,this.endLine()}addBreak(){this.lastBlock.flags|=1,this.endLine(),this.pos++}addLineStartIfNotCovered(e){this.blockPosCovered()||this.addLineStart(e)}ensureLine(e){this.curLine||this.addLineStart(e)}ensureMarks(e,t){var i;let s=this.curLine;for(let a=e.length-1;a>=0;a--){let o=e[a],u;if(t>0&&(u=s.lastChild)&&u instanceof cn&&u.mark.eq(o))s=u,t--;else{let f=cn.of(o,(i=this.cache.find(cn,d=>d.mark.eq(o)))===null||i===void 0?void 0:i.dom);s.append(f),s=f,t=0}}return s}endLine(){if(this.curLine){this.flushBuffer();let e=this.curLine.lastChild;(!e||!Bx(this.curLine,!1)||e.dom.nodeName!="BR"&&e.isWidget()&&!(oe.ios&&Bx(this.curLine,!0)))&&this.curLine.append(this.cache.findWidget(um,0,32)||new bs(um.toDOM(),0,um,32)),this.curLine=this.afterWidget=null}}updateBlockWrappers(){this.wrapperPos>this.pos+1e4&&(this.blockWrappers.goto(this.pos),this.wrappers.length=0);for(let e=this.wrappers.length-1;e>=0;e--)this.wrappers[e].to<this.pos&&this.wrappers.splice(e,1);for(let e=this.blockWrappers;e.value&&e.from<=this.pos;e.next())if(e.to>=this.pos){let t=new vN(e.from,e.to,e.value,e.rank),i=this.wrappers.length;for(;i>0&&(this.wrappers[i-1].rank-t.rank||this.wrappers[i-1].to-t.to)<0;)i--;this.wrappers.splice(i,0,t)}this.wrapperPos=this.pos}getBlockPos(){var e;this.updateBlockWrappers();let t=this.root;for(let i of this.wrappers){let s=t.lastChild;if(i.from<this.pos&&s instanceof Gi&&s.wrapper.eq(i.wrapper))t=s;else{let a=Gi.of(i.wrapper,(e=this.cache.find(Gi,o=>o.wrapper.eq(i.wrapper)))===null||e===void 0?void 0:e.dom);t.append(a),t=a}}return t}blockPosCovered(){let e=this.lastBlock;return e!=null&&!e.breakAfter&&(!e.isWidget()||(e.flags&160)>0)}getBuffer(e){let t=2|(e<0?16:32),i=this.cache.find(Gu,void 0,1);return i&&(i.flags=t),i||new Gu(t)}flushBuffer(){this.afterWidget&&!(this.afterWidget.flags&32)&&(this.afterWidget.parent.append(this.getBuffer(-1)),this.afterWidget=null)}}class wN{constructor(e){this.skipCount=0,this.text="",this.textOff=0,this.cursor=e.iter()}skip(e){this.textOff+e<=this.text.length?this.textOff+=e:(this.skipCount+=e-(this.text.length-this.textOff),this.text="",this.textOff=0)}next(e){if(this.textOff==this.text.length){let{value:s,lineBreak:a,done:o}=this.cursor.next(this.skipCount);if(this.skipCount=0,o)throw new Error("Ran out of text content when drawing inline views");this.text=s;let u=this.textOff=Math.min(e,s.length);return a?null:s.slice(0,u)}let t=Math.min(this.text.length,this.textOff+e),i=this.text.slice(this.textOff,t);return this.textOff=t,i}}const Iu=[bs,Tr,fs,cn,Gu,Gi,bh];for(let n=0;n<Iu.length;n++)Iu[n].bucket=n;class kN{constructor(e){this.view=e,this.buckets=Iu.map(()=>[]),this.index=Iu.map(()=>0),this.reused=new Map}add(e){let t=e.constructor.bucket,i=this.buckets[t];i.length<6?i.push(e):i[this.index[t]=(this.index[t]+1)%6]=e}find(e,t,i=2){let s=e.bucket,a=this.buckets[s],o=this.index[s];for(let u=a.length-1;u>=0;u--){let f=(u+o)%a.length,d=a[f];if((!t||t(d))&&!this.reused.has(d))return a.splice(f,1),f<o&&this.index[s]--,this.reused.set(d,i),d}return null}findWidget(e,t,i){let s=this.buckets[0];if(s.length)for(let a=0,o=0;;a++){if(a==s.length){if(o)return null;o=1,a=0}let u=s[a];if(!this.reused.has(u)&&(o==0?u.widget.compare(e):u.widget.constructor==e.constructor&&e.updateDOM(u.dom,this.view)))return s.splice(a,1),a<this.index[0]&&this.index[0]--,u.widget==e&&u.length==t&&(u.flags&497)==i?(this.reused.set(u,1),u):(this.reused.set(u,2),new bs(u.dom,t,e,u.flags&-498|i))}}reuse(e){return this.reused.set(e,1),e}maybeReuse(e,t=2){if(!this.reused.has(e))return this.reused.set(e,t),e.dom}clear(){for(let e=0;e<this.buckets.length;e++)this.buckets[e].length=this.index[e]=0}}class CN{constructor(e,t,i,s,a){this.view=e,this.decorations=s,this.disallowBlockEffectsFor=a,this.openWidget=!1,this.openMarks=0,this.cache=new kN(e),this.text=new wN(e.state.doc),this.builder=new SN(this.cache,new bh(e,e.contentDOM),Re.iter(i)),this.cache.reused.set(t,2),this.old=new xN(t),this.reuseWalker={skip:(o,u,f)=>{if(this.cache.add(o),o.isComposite())return!1},enter:o=>this.cache.add(o),leave:()=>{},break:()=>{}}}run(e,t){let i=t&&this.getCompositionContext(t.text);for(let s=0,a=0,o=0;;){let u=o<e.length?e[o++]:null,f=u?u.fromA:this.old.root.length;if(f>s){let d=f-s;this.preserve(d,!o,!u),s=f,a+=d}if(!u)break;t&&u.fromA<=t.range.fromA&&u.toA>=t.range.toA?(this.forward(u.fromA,t.range.fromA,t.range.fromA<t.range.toA?1:-1),this.emit(a,t.range.fromB),this.cache.clear(),this.builder.addComposition(t,i),this.text.skip(t.range.toB-t.range.fromB),this.forward(t.range.fromA,u.toA),this.emit(t.range.toB,u.toB)):(this.forward(u.fromA,u.toA),this.emit(a,u.toB)),a=u.toB,s=u.toA}return this.builder.curLine&&this.builder.endLine(),this.builder.root}preserve(e,t,i){let s=TN(this.old),a=this.openMarks;this.old.advance(e,i?1:-1,{skip:(o,u,f)=>{if(o.isWidget())if(this.openWidget)this.builder.continueWidget(f-u);else{let d=f>0||u<o.length?bs.of(o.widget,this.view,f-u,o.flags&496,this.cache.maybeReuse(o)):this.cache.reuse(o);d.flags&256?(d.flags&=-2,this.builder.addBlockWidget(d)):(this.builder.ensureLine(null),this.builder.addInlineWidget(d,s,a),a=s.length)}else if(o.isText())this.builder.ensureLine(null),!u&&f==o.length?this.builder.addText(o.text,s,a,this.cache.reuse(o)):(this.cache.add(o),this.builder.addText(o.text.slice(u,f),s,a)),a=s.length;else if(o.isLine())o.flags&=-2,this.cache.reused.set(o,1),this.builder.addLine(o);else if(o instanceof Gu)this.cache.add(o);else if(o instanceof cn)this.builder.ensureLine(null),this.builder.addMark(o,s,a),this.cache.reused.set(o,1),a=s.length;else return!1;this.openWidget=!1},enter:o=>{o.isLine()?this.builder.addLineStart(o.attrs,this.cache.maybeReuse(o)):(this.cache.add(o),o instanceof cn&&s.unshift(o.mark)),this.openWidget=!1},leave:o=>{o.isLine()?s.length&&(s.length=a=0):o instanceof cn&&(s.shift(),a=Math.min(a,s.length))},break:()=>{this.builder.addBreak(),this.openWidget=!1}}),this.text.skip(e)}emit(e,t){let i=null,s=this.builder,a=0,o=Re.spans(this.decorations,e,t,{point:(u,f,d,p,y,x)=>{if(d instanceof gs){if(this.disallowBlockEffectsFor[x]){if(d.block)throw new RangeError("Block decorations may not be specified via plugins");if(f>this.view.state.doc.lineAt(u).to)throw new RangeError("Decorations that replace line breaks may not be specified via plugins")}if(a=p.length,y>p.length)s.continueWidget(f-u);else{let S=d.widget||(d.block?Er.block:Er.inline),w=AN(d),A=this.cache.findWidget(S,f-u,w)||bs.of(S,this.view,f-u,w);d.block?(d.startSide>0&&s.addLineStartIfNotCovered(i),s.addBlockWidget(A)):(s.ensureLine(i),s.addInlineWidget(A,p,y))}i=null}else i=MN(i,d);f>u&&this.text.skip(f-u)},span:(u,f,d,p)=>{for(let y=u;y<f;){let x=this.text.next(Math.min(512,f-y));x==null?(s.addLineStartIfNotCovered(i),s.addBreak(),y++):(s.ensureLine(i),s.addText(x,d,y==u?p:d.length),y+=x.length),i=null}}});s.addLineStartIfNotCovered(i),this.openWidget=o>a,this.openMarks=o}forward(e,t,i=1){t-e<=10?this.old.advance(t-e,i,this.reuseWalker):(this.old.advance(5,-1,this.reuseWalker),this.old.advance(t-e-10,-1),this.old.advance(5,i,this.reuseWalker))}getCompositionContext(e){let t=[],i=null;for(let s=e.parentNode;;s=s.parentNode){let a=St.get(s);if(s==this.view.contentDOM)break;a instanceof cn?t.push(a):a!=null&&a.isLine()?i=a:a instanceof Gi||(s.nodeName=="DIV"&&!i&&s!=this.view.contentDOM?i=new Tr(s,WS):i||t.push(cn.of(new No({tagName:s.nodeName.toLowerCase(),attributes:$E(s)}),s)))}return{line:i,marks:t}}}function Bx(n,e){let t=i=>{for(let s of i.children)if((e?s.isText():s.length)||t(s))return!0;return!1};return t(n)}function AN(n){let e=n.isReplace?(n.startSide<0?64:0)|(n.endSide>0?128:0):n.startSide>0?32:16;return n.block&&(e|=256),e}const WS={class:"cm-line"};function MN(n,e){let t=e.spec.attributes,i=e.spec.class;return!t&&!i||(n||(n={class:"cm-line"}),t&&ug(t,n),i&&(n.class+=" "+i)),n}function TN(n){let e=[];for(let t=n.parents.length;t>1;t--){let i=t==n.parents.length?n.tile:n.parents[t].tile;i instanceof cn&&e.push(i.mark)}return e}function cm(n){let e=St.get(n);return e&&e.setDOM(n.cloneNode()),n}class Er extends ki{constructor(e){super(),this.tag=e}eq(e){return e.tag==this.tag}toDOM(){return document.createElement(this.tag)}updateDOM(e){return e.nodeName.toLowerCase()==this.tag}get isHidden(){return!0}}Er.inline=new Er("span");Er.block=new Er("div");const um=new class extends ki{toDOM(){return document.createElement("br")}get isHidden(){return!0}get editable(){return!0}};class zx{constructor(e){this.view=e,this.decorations=[],this.blockWrappers=[],this.dynamicDecorationMap=[!1],this.domChanged=null,this.hasComposition=null,this.editContextFormatting=Se.none,this.lastCompositionAfterCursor=!1,this.minWidth=0,this.minWidthFrom=0,this.minWidthTo=0,this.impreciseAnchor=null,this.impreciseHead=null,this.forceSelection=!1,this.lastUpdate=Date.now(),this.updateDeco(),this.tile=new bh(e,e.contentDOM),this.updateInner([new zn(0,0,0,e.state.doc.length)],null)}update(e){var t;let i=e.changedRanges;this.minWidth>0&&i.length&&(i.every(({fromA:p,toA:y})=>y<this.minWidthFrom||p>this.minWidthTo)?(this.minWidthFrom=e.changes.mapPos(this.minWidthFrom,1),this.minWidthTo=e.changes.mapPos(this.minWidthTo,1)):this.minWidth=this.minWidthFrom=this.minWidthTo=0),this.updateEditContextFormatting(e);let s=-1;this.view.inputState.composing>=0&&!this.view.observer.editContext&&(!((t=this.domChanged)===null||t===void 0)&&t.newSel?s=this.domChanged.newSel.head:!BN(e.changes,this.hasComposition)&&!e.selectionSet&&(s=e.state.selection.main.head));let a=s>-1?NN(this.view,e.changes,s):null;if(this.domChanged=null,this.hasComposition){let{from:p,to:y}=this.hasComposition;i=new zn(p,y,e.changes.mapPos(p,-1),e.changes.mapPos(y,1)).addToSet(i.slice())}this.hasComposition=a?{from:a.range.fromB,to:a.range.toB}:null,(oe.ie||oe.chrome)&&!a&&e&&e.state.doc.lines!=e.startState.doc.lines&&(this.forceSelection=!0);let o=this.decorations,u=this.blockWrappers;this.updateDeco();let f=RN(o,this.decorations,e.changes);f.length&&(i=zn.extendWithRanges(i,f));let d=_N(u,this.blockWrappers,e.changes);return d.length&&(i=zn.extendWithRanges(i,d)),a&&!i.some(p=>p.fromA<=a.range.fromA&&p.toA>=a.range.toA)&&(i=a.range.addToSet(i.slice())),this.tile.flags&2&&i.length==0?!1:(this.updateInner(i,a),e.transactions.length&&(this.lastUpdate=Date.now()),!0)}updateInner(e,t){this.view.viewState.mustMeasureContent=!0;let{observer:i}=this.view;i.ignore(()=>{if(t||e.length){let o=this.tile,u=new CN(this.view,o,this.blockWrappers,this.decorations,this.dynamicDecorationMap);this.tile=u.run(e,t),pp(o,u.cache.reused)}this.tile.dom.style.height=this.view.viewState.contentHeight/this.view.scaleY+"px",this.tile.dom.style.flexBasis=this.minWidth?this.minWidth+"px":"";let a=oe.chrome||oe.ios?{node:i.selectionRange.focusNode,written:!1}:void 0;this.tile.sync(a),a&&(a.written||i.selectionRange.focusNode!=a.node||!this.tile.dom.contains(a.node))&&(this.forceSelection=!0),this.tile.dom.style.height=""});let s=[];if(this.view.viewport.from||this.view.viewport.to<this.view.state.doc.length)for(let a of this.tile.children)a.isWidget()&&a.widget instanceof hm&&s.push(a.dom);i.updateGaps(s)}updateEditContextFormatting(e){this.editContextFormatting=this.editContextFormatting.map(e.changes);for(let t of e.transactions)for(let i of t.effects)i.is(KS)&&(this.editContextFormatting=i.value)}updateSelection(e=!1,t=!1){(e||!this.view.observer.selectionRange.focusNode)&&this.view.observer.readSelectionRange();let{dom:i}=this.tile,s=this.view.root.activeElement,a=s==i,o=!a&&!(this.view.state.facet(Pi)||i.tabIndex>-1)&&$a(i,this.view.observer.selectionRange)&&!(s&&i.contains(s));if(!(a||t||o))return;let u=this.forceSelection;this.forceSelection=!1;let f=this.view.state.selection.main,d,p;if(f.empty?p=d=this.inlineDOMNearPos(f.anchor,f.assoc||1):(p=this.inlineDOMNearPos(f.head,f.head==f.from?1:-1),d=this.inlineDOMNearPos(f.anchor,f.anchor==f.from?1:-1)),oe.gecko&&f.empty&&!this.hasComposition&&EN(d)){let x=document.createTextNode("");this.view.observer.ignore(()=>d.node.insertBefore(x,d.node.childNodes[d.offset]||null)),d=p=new Fn(x,0),u=!0}let y=this.view.observer.selectionRange;(u||!y.focusNode||(!eo(d.node,d.offset,y.anchorNode,y.anchorOffset)||!eo(p.node,p.offset,y.focusNode,y.focusOffset))&&!this.suppressWidgetCursorChange(y,f))&&(this.view.observer.ignore(()=>{oe.android&&oe.chrome&&i.contains(y.focusNode)&&LN(y.focusNode,i)&&(i.blur(),i.focus({preventScroll:!0}));let x=ho(this.view.root);if(x)if(f.empty){if(oe.gecko){let S=DN(d.node,d.offset);if(S&&S!=3){let w=(S==1?TS:ES)(d.node,d.offset);w&&(d=new Fn(w.node,w.offset))}}x.collapse(d.node,d.offset),f.bidiLevel!=null&&x.caretBidiLevel!==void 0&&(x.caretBidiLevel=f.bidiLevel)}else if(x.extend){x.collapse(d.node,d.offset);try{x.extend(p.node,p.offset)}catch{}}else{let S=document.createRange();f.anchor>f.head&&([d,p]=[p,d]),S.setEnd(p.node,p.offset),S.setStart(d.node,d.offset),x.removeAllRanges(),x.addRange(S)}o&&this.view.root.activeElement==i&&(i.blur(),s&&s.focus())}),this.view.observer.setSelectionRange(d,p)),this.impreciseAnchor=d.precise?null:new Fn(y.anchorNode,y.anchorOffset),this.impreciseHead=p.precise?null:new Fn(y.focusNode,y.focusOffset)}suppressWidgetCursorChange(e,t){return this.hasComposition&&t.empty&&eo(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset)&&this.posFromDOM(e.focusNode,e.focusOffset)==t.head}enforceCursorAssoc(){if(this.hasComposition)return;let{view:e}=this,t=e.state.selection.main,i=ho(e.root),{anchorNode:s,anchorOffset:a}=e.observer.selectionRange;if(!i||!t.empty||!t.assoc||!i.modify)return;let o=this.lineAt(t.head,t.assoc);if(!o)return;let u=o.posAtStart;if(t.head==u||t.head==u+o.length)return;let f=this.coordsAt(t.head,-1),d=this.coordsAt(t.head,1);if(!f||!d||f.bottom>d.top)return;let p=this.domAtPos(t.head+t.assoc,t.assoc);i.collapse(p.node,p.offset),i.modify("move",t.assoc<0?"forward":"backward","lineboundary"),e.observer.readSelectionRange();let y=e.observer.selectionRange;e.docView.posFromDOM(y.anchorNode,y.anchorOffset)!=t.from&&i.collapse(s,a)}posFromDOM(e,t){let i=this.tile.nearest(e);if(!i)return this.tile.dom.compareDocumentPosition(e)&2?0:this.view.state.doc.length;let s=i.posAtStart;if(i.isComposite()){let a;if(e==i.dom)a=i.dom.childNodes[t];else{let o=Wi(e)==0?0:t==0?-1:1;for(;;){let u=e.parentNode;if(u==i.dom)break;o==0&&u.firstChild!=u.lastChild&&(e==u.firstChild?o=-1:o=1),e=u}o<0?a=e:a=e.nextSibling}if(a==i.dom.firstChild)return s;for(;a&&!St.get(a);)a=a.nextSibling;if(!a)return s+i.length;for(let o=0,u=s;;o++){let f=i.children[o];if(f.dom==a)return u;u+=f.length+f.breakAfter}}else return i.isText()?e==i.dom?s+t:s+(t?i.length:0):s}domAtPos(e,t){let{tile:i,offset:s}=this.tile.resolveBlock(e,t);return i.isWidget()?i.domPosFor(e,t):i.domIn(s,t)}inlineDOMNearPos(e,t){let i,s=-1,a=!1,o,u=-1,f=!1;return this.tile.blockTiles((d,p)=>{if(d.isWidget()){if(d.flags&32&&p>=e)return!0;d.flags&16&&(a=!0)}else{let y=p+d.length;if(p<=e&&(i=d,s=e-p,a=y<e),y>=e&&!o&&(o=d,u=e-p,f=p>e),p>e&&o)return!0}}),!i&&!o?this.domAtPos(e,t):(a&&o?i=null:f&&i&&(o=null),i&&t<0||!o?i.domIn(s,t):o.domIn(u,t))}coordsAt(e,t){let{tile:i,offset:s}=this.tile.resolveBlock(e,t);return i.isWidget()?i.widget instanceof hm?null:i.coordsInWidget(s,t,!0):i.coordsIn(s,t)}lineAt(e,t){let{tile:i}=this.tile.resolveBlock(e,t);return i.isLine()?i:null}coordsForChar(e){let{tile:t,offset:i}=this.tile.resolveBlock(e,1);if(!t.isLine())return null;function s(a,o){if(a.isComposite())for(let u of a.children){if(u.length>=o){let f=s(u,o);if(f)return f}if(o-=u.length,o<0)break}else if(a.isText()&&o<a.length){let u=Rt(a.text,o);if(u==o)return null;let f=mo(a.dom,o,u).getClientRects();for(let d=0;d<f.length;d++){let p=f[d];if(d==f.length-1||p.top<p.bottom&&p.left<p.right)return p}}return null}return s(t,i)}measureVisibleLineHeights(e){let t=[],{from:i,to:s}=e,a=this.view.contentDOM.clientWidth,o=a>Math.max(this.view.scrollDOM.clientWidth,this.minWidth)+1,u=-1,f=this.view.textDirection==Je.LTR,d=0,p=(y,x,S)=>{for(let w=0;w<y.children.length&&!(x>s);w++){let A=y.children[w],C=x+A.length,T=A.dom.getBoundingClientRect(),{height:j}=T;if(S&&!w&&(d+=T.top-S.top),A instanceof Gi)C>i&&p(A,x,T);else if(x>=i&&(d>0&&t.push(-d),t.push(j+d),d=0,o)){let N=A.dom.lastChild,q=N?Ja(N):[];if(q.length){let B=q[q.length-1],G=f?B.right-T.left:T.right-B.left;G>u&&(u=G,this.minWidth=a,this.minWidthFrom=x,this.minWidthTo=C)}}S&&w==y.children.length-1&&(d+=S.bottom-T.bottom),x=C+A.breakAfter}};return p(this.tile,0,null),t}textDirectionAt(e){let{tile:t}=this.tile.resolveBlock(e,1);return getComputedStyle(t.dom).direction=="rtl"?Je.RTL:Je.LTR}measureTextSize(){let e=this.tile.blockTiles(o=>{if(o.isLine()&&o.children.length&&o.length<=20){let u=0,f;for(let d of o.children){if(!d.isText()||/[^ -~]/.test(d.text))return;let p=Ja(d.dom);if(p.length!=1)return;u+=p[0].width,f=p[0].height}if(u)return{lineHeight:o.dom.getBoundingClientRect().height,charWidth:u/o.length,textHeight:f}}});if(e)return e;let t=document.createElement("div"),i,s,a;return t.className="cm-line",t.style.width="99999px",t.style.position="absolute",t.textContent="abc def ghi jkl mno pqr stu",this.view.observer.ignore(()=>{this.tile.dom.appendChild(t);let o=Ja(t.firstChild)[0];i=t.getBoundingClientRect().height,s=o&&o.width?o.width/27:7,a=o&&o.height?o.height:i,t.remove()}),{lineHeight:i,charWidth:s,textHeight:a}}computeBlockGapDeco(){let e=[],t=this.view.viewState;for(let i=0,s=0;;s++){let a=s==t.viewports.length?null:t.viewports[s],o=a?a.from-1:this.view.state.doc.length;if(o>i){let u=(t.lineBlockAt(o).bottom-t.lineBlockAt(i).top)/this.view.scaleY;e.push(Se.replace({widget:new hm(u),block:!0,inclusive:!0,isBlockGap:!0}).range(i,o))}if(!a)break;i=a.to+1}return Se.set(e)}updateDeco(){let e=1,t=this.view.state.facet(gh).map(a=>(this.dynamicDecorationMap[e++]=typeof a=="function")?a(this.view):a),i=!1,s=this.view.state.facet(gg).map((a,o)=>{let u=typeof a=="function";return u&&(i=!0),u?a(this.view):a});for(s.length&&(this.dynamicDecorationMap[e++]=i,t.push(Re.join(s))),this.decorations=[this.editContextFormatting,...t,this.computeBlockGapDeco(),this.view.viewState.lineGapDeco];e<this.decorations.length;)this.dynamicDecorationMap[e++]=!1;this.blockWrappers=this.view.state.facet(GS).map(a=>typeof a=="function"?a(this.view):a)}scrollIntoView(e){if(e.isSnapshot){let d=this.view.viewState.lineBlockAt(e.range.head);this.view.scrollDOM.scrollTop=d.top-e.yMargin,this.view.scrollDOM.scrollLeft=e.xMargin;return}for(let d of this.view.state.facet(PS))try{if(d(this.view,e.range,e))return!0}catch(p){un(this.view.state,p,"scroll handler")}let{range:t}=e,i=this.coordsAt(t.head,t.empty?t.assoc:t.head>t.anchor?-1:1),s;if(!i)return;!t.empty&&(s=this.coordsAt(t.anchor,t.anchor>t.head?-1:1))&&(i={left:Math.min(i.left,s.left),top:Math.min(i.top,s.top),right:Math.max(i.right,s.right),bottom:Math.max(i.bottom,s.bottom)});let a=yg(this.view),o={left:i.left-a.left,top:i.top-a.top,right:i.right+a.right,bottom:i.bottom+a.bottom},{offsetWidth:u,offsetHeight:f}=this.view.scrollDOM;if(tN(this.view.scrollDOM,o,t.head<t.anchor?-1:1,e.x,e.y,Math.max(Math.min(e.xMargin,u),-u),Math.max(Math.min(e.yMargin,f),-f),this.view.textDirection==Je.LTR),window.visualViewport&&window.innerHeight-window.visualViewport.height>1&&(i.top>window.pageYOffset+window.visualViewport.offsetTop+window.visualViewport.height||i.bottom<window.pageYOffset+window.visualViewport.offsetTop)){let d=this.view.docView.lineAt(t.head,1);d&&d.dom.scrollIntoView({block:"nearest"})}}lineHasWidget(e){let t=i=>i.isWidget()||i.children.some(t);return t(this.tile.resolveBlock(e,1).tile)}destroy(){pp(this.tile)}}function pp(n,e){let t=e==null?void 0:e.get(n);if(t!=1){t==null&&n.destroy();for(let i of n.children)pp(i,e)}}function EN(n){return n.node.nodeType==1&&n.node.firstChild&&(n.offset==0||n.node.childNodes[n.offset-1].contentEditable=="false")&&(n.offset==n.node.childNodes.length||n.node.childNodes[n.offset].contentEditable=="false")}function XS(n,e){let t=n.observer.selectionRange;if(!t.focusNode)return null;let i=TS(t.focusNode,t.focusOffset),s=ES(t.focusNode,t.focusOffset),a=i||s;if(s&&i&&s.node!=i.node){let u=St.get(s.node);if(!u||u.isText()&&u.text!=s.node.nodeValue)a=s;else if(n.docView.lastCompositionAfterCursor){let f=St.get(i.node);!f||f.isText()&&f.text!=i.node.nodeValue||(a=s)}}if(n.docView.lastCompositionAfterCursor=a!=i,!a)return null;let o=e-a.offset;return{from:o,to:o+a.node.nodeValue.length,node:a.node}}function NN(n,e,t){let i=XS(n,t);if(!i)return null;let{node:s,from:a,to:o}=i,u=s.nodeValue;if(/[\n\r]/.test(u)||n.state.doc.sliceString(i.from,i.to)!=u)return null;let f=e.invertedDesc;return{range:new zn(f.mapPos(a),f.mapPos(o),a,o),text:s}}function DN(n,e){return n.nodeType!=1?0:(e&&n.childNodes[e-1].contentEditable=="false"?1:0)|(e<n.childNodes.length&&n.childNodes[e].contentEditable=="false"?2:0)}let ON=class{constructor(){this.changes=[]}compareRange(e,t){xr(e,t,this.changes)}comparePoint(e,t){xr(e,t,this.changes)}boundChange(e){xr(e,e,this.changes)}};function RN(n,e,t){let i=new ON;return Re.compare(n,e,t,i),i.changes}class jN{constructor(){this.changes=[]}compareRange(e,t){xr(e,t,this.changes)}comparePoint(){}boundChange(e){xr(e,e,this.changes)}}function _N(n,e,t){let i=new jN;return Re.compare(n,e,t,i),i.changes}function LN(n,e){for(let t=n;t&&t!=e;t=t.assignedSlot||t.parentNode)if(t.nodeType==1&&t.contentEditable=="false")return!0;return!1}function BN(n,e){let t=!1;return e&&n.iterChangedRanges((i,s)=>{i<e.to&&s>e.from&&(t=!0)}),t}class hm extends ki{constructor(e){super(),this.height=e}toDOM(){let e=document.createElement("div");return e.className="cm-gap",this.updateDOM(e),e}eq(e){return e.height==this.height}updateDOM(e){return e.style.height=this.height+"px",!0}get editable(){return!0}get estimatedHeight(){return this.height}ignoreEvent(){return!1}}function zN(n,e,t=1){let i=n.charCategorizer(e),s=n.doc.lineAt(e),a=e-s.from;if(s.length==0)return X.cursor(e);a==0?t=1:a==s.length&&(t=-1);let o=a,u=a;t<0?o=Rt(s.text,a,!1):u=Rt(s.text,a);let f=i(s.text.slice(o,u));for(;o>0;){let d=Rt(s.text,o,!1);if(i(s.text.slice(d,o))!=f)break;o=d}for(;u<s.length;){let d=Rt(s.text,u);if(i(s.text.slice(u,d))!=f)break;u=d}return X.range(o+s.from,u+s.from)}function HN(n,e,t,i,s){let a=Math.round((i-e.left)*n.defaultCharacterWidth);if(n.lineWrapping&&t.height>n.defaultLineHeight*1.5){let u=n.viewState.heightOracle.textHeight,f=Math.floor((s-t.top-(n.defaultLineHeight-u)*.5)/u);a+=f*n.viewState.heightOracle.lineLength}let o=n.state.sliceDoc(t.from,t.to);return t.from+ip(o,a,n.state.tabSize)}function gp(n,e,t){let i=n.lineBlockAt(e);if(Array.isArray(i.type)){let s;for(let a of i.type){if(a.from>e)break;if(!(a.to<e)){if(a.from<e&&a.to>e)return a;(!s||a.type==qt.Text&&(s.type!=a.type||(t<0?a.from<e:a.to>e)))&&(s=a)}}return s||i}return i}function VN(n,e,t,i){let s=gp(n,e.head,e.assoc||-1),a=!i||s.type!=qt.Text||!(n.lineWrapping||s.widgetLineBreaks)?null:n.coordsAtPos(e.assoc<0&&e.head>s.from?e.head-1:e.head);if(a){let o=n.dom.getBoundingClientRect(),u=n.textDirectionAt(s.from),f=n.posAtCoords({x:t==(u==Je.LTR)?o.right-1:o.left+1,y:(a.top+a.bottom)/2});if(f!=null)return X.cursor(f,t?-1:1)}return X.cursor(t?s.to:s.from,t?-1:1)}function Hx(n,e,t,i){let s=n.state.doc.lineAt(e.head),a=n.bidiSpans(s),o=n.textDirectionAt(s.from);for(let u=e,f=null;;){let d=dN(s,a,o,u,t),p=jS;if(!d){if(s.number==(t?n.state.doc.lines:1))return u;p=`
`,s=n.state.doc.line(s.number+(t?1:-1)),a=n.bidiSpans(s),d=n.visualLineSide(s,!t)}if(f){if(!f(p))return u}else{if(!i)return d;f=i(p)}u=d}}function UN(n,e,t){let i=n.state.charCategorizer(e),s=i(t);return a=>{let o=i(a);return s==rt.Space&&(s=o),s==o}}function qN(n,e,t,i){let s=e.head,a=t?1:-1;if(s==(t?n.state.doc.length:0))return X.cursor(s,e.assoc);let o=e.goalColumn,u,f=n.contentDOM.getBoundingClientRect(),d=n.coordsAtPos(s,(e.empty?e.assoc:0)||(t?1:-1)),p=n.documentTop;if(d)o==null&&(o=d.left-f.left),u=a<0?d.top:d.bottom;else{let w=n.viewState.lineBlockAt(s);o==null&&(o=Math.min(f.right-f.left,n.defaultCharacterWidth*(s-w.from))),u=(a<0?w.top:w.bottom)+p}let y=f.left+o,x=i??n.viewState.heightOracle.textHeight>>1,S=yp(n,{x:y,y:u+x*a},!1,a);return X.cursor(S.pos,S.assoc,void 0,o)}function to(n,e,t){for(;;){let i=0;for(let s of n)s.between(e-1,e+1,(a,o,u)=>{if(e>a&&e<o){let f=i||t||(e-a<o-e?-1:1);e=f<0?a:o,i=f}});if(!i)return e}}function QS(n,e){let t=null;for(let i=0;i<e.ranges.length;i++){let s=e.ranges[i],a=null;if(s.empty){let o=to(n,s.from,0);o!=s.from&&(a=X.cursor(o,-1))}else{let o=to(n,s.from,-1),u=to(n,s.to,1);(o!=s.from||u!=s.to)&&(a=X.range(s.from==s.anchor?o:u,s.from==s.head?o:u))}a&&(t||(t=e.ranges.slice()),t[i]=a)}return t?X.create(t,e.mainIndex):e}function fm(n,e,t){let i=to(n.state.facet(Oo).map(s=>s(n)),t.from,e.head>t.from?-1:1);return i==t.from?t:X.cursor(i,i<t.from?1:-1)}class pi{constructor(e,t){this.pos=e,this.assoc=t}}function yp(n,e,t,i){let s=n.contentDOM.getBoundingClientRect(),a=s.top+n.viewState.paddingTop,{x:o,y:u}=e,f=u-a,d;for(;;){if(f<0)return new pi(0,1);if(f>n.viewState.docHeight)return new pi(n.state.doc.length,-1);if(d=n.elementAtHeight(f),i==null)break;if(d.type==qt.Text){if(i<0?d.to<n.viewport.from:d.from>n.viewport.to)break;let x=n.docView.coordsAt(i<0?d.from:d.to,i>0?-1:1);if(x&&(i<0?x.top<=f+a:x.bottom>=f+a))break}let y=n.viewState.heightOracle.textHeight/2;f=i>0?d.bottom+y:d.top-y}if(n.viewport.from>=d.to||n.viewport.to<=d.from){if(t)return null;if(d.type==qt.Text){let y=HN(n,s,d,o,u);return new pi(y,y==d.from?1:-1)}}if(d.type!=qt.Text)return f<(d.top+d.bottom)/2?new pi(d.from,1):new pi(d.to,-1);let p=n.docView.lineAt(d.from,2);return(!p||p.length!=d.length)&&(p=n.docView.lineAt(d.from,-2)),new PN(n,o,u,n.textDirectionAt(d.from)).scanTile(p,d.from)}class PN{constructor(e,t,i,s){this.view=e,this.x=t,this.y=i,this.baseDir=s,this.line=null,this.spans=null}bidiSpansAt(e){return(!this.line||this.line.from>e||this.line.to<e)&&(this.line=this.view.state.doc.lineAt(e),this.spans=this.view.bidiSpans(this.line)),this}baseDirAt(e,t){let{line:i,spans:s}=this.bidiSpansAt(e);return s[gi.find(s,e-i.from,-1,t)].level==this.baseDir}dirAt(e,t){let{line:i,spans:s}=this.bidiSpansAt(e);return s[gi.find(s,e-i.from,-1,t)].dir}bidiIn(e,t){let{spans:i,line:s}=this.bidiSpansAt(e);return i.length>1||i.length&&(i[0].level!=this.baseDir||i[0].to+s.from<t)}scan(e,t){let i=0,s=e.length-1,a=new Set,o=this.bidiIn(e[0],e[s]),u,f,d=-1,p=1e9,y;e:for(;i<s;){let S=s-i,w=i+s>>1;t:if(a.has(w)){let C=i+Math.floor(Math.random()*S);for(let T=0;T<S;T++){if(!a.has(C)){w=C;break t}C++,C==s&&(C=i)}break e}a.add(w);let A=t(w);if(A)for(let C=0;C<A.length;C++){let T=A[C],j=0;if(T.bottom<this.y)(!u||u.bottom<T.bottom)&&(u=T),j=1;else if(T.top>this.y)(!f||f.top>T.top)&&(f=T),j=-1;else{let N=T.left>this.x?this.x-T.left:T.right<this.x?this.x-T.right:0,q=Math.abs(N);q<p&&(d=w,p=q,y=T),N&&(j=N<0==(this.baseDir==Je.LTR)?-1:1)}j==-1&&(!o||this.baseDirAt(e[w],1))?s=w:j==1&&(!o||this.baseDirAt(e[w+1],-1))&&(i=w+1)}}if(!y){let S=u&&(!f||this.y-u.bottom<f.top-this.y)?u:f;return this.y=(S.top+S.bottom)/2,this.scan(e,t)}let x=(o?this.dirAt(e[d],1):this.baseDir)==Je.LTR;return{i:d,after:this.x>(y.left+y.right)/2==x}}scanText(e,t){let i=[];for(let a=0;a<e.length;a=Rt(e.text,a))i.push(t+a);i.push(t+e.length);let s=this.scan(i,a=>{let o=i[a]-t,u=i[a+1]-t;return mo(e.dom,o,u).getClientRects()});return s.after?new pi(i[s.i+1],-1):new pi(i[s.i],1)}scanTile(e,t){if(!e.length)return new pi(t,1);if(e.children.length==1){let u=e.children[0];if(u.isText())return this.scanText(u,t);if(u.isComposite())return this.scanTile(u,t)}let i=[t];for(let u=0,f=t;u<e.children.length;u++)i.push(f+=e.children[u].length);let s=this.scan(i,u=>{let f=e.children[u];return f.flags&48?null:(f.dom.nodeType==1?f.dom:mo(f.dom,0,f.length)).getClientRects()}),a=e.children[s.i],o=i[s.i];return a.isText()?this.scanText(a,o):a.isComposite()?this.scanTile(a,o):s.after?new pi(i[s.i+1],-1):new pi(o,1)}}const Ia="";class KN{constructor(e,t){this.points=e,this.view=t,this.text="",this.lineSeparator=t.state.facet(ze.lineSeparator)}append(e){this.text+=e}lineBreak(){this.text+=Ia}readRange(e,t){if(!e)return this;let i=e.parentNode;for(let s=e;;){this.findPointBefore(i,s);let a=this.text.length;this.readNode(s);let o=St.get(s),u=s.nextSibling;if(u==t){o!=null&&o.breakAfter&&!u&&i!=this.view.contentDOM&&this.lineBreak();break}let f=St.get(u);(o&&f?o.breakAfter:(o?o.breakAfter:Ku(s))||Ku(u)&&(s.nodeName!="BR"||o!=null&&o.isWidget())&&this.text.length>a)&&!GN(u,t)&&this.lineBreak(),s=u}return this.findPointBefore(i,t),this}readTextNode(e){let t=e.nodeValue;for(let i of this.points)i.node==e&&(i.pos=this.text.length+Math.min(i.offset,t.length));for(let i=0,s=this.lineSeparator?null:/\r\n?|\n/g;;){let a=-1,o=1,u;if(this.lineSeparator?(a=t.indexOf(this.lineSeparator,i),o=this.lineSeparator.length):(u=s.exec(t))&&(a=u.index,o=u[0].length),this.append(t.slice(i,a<0?t.length:a)),a<0)break;if(this.lineBreak(),o>1)for(let f of this.points)f.node==e&&f.pos>this.text.length&&(f.pos-=o-1);i=a+o}}readNode(e){let t=St.get(e),i=t&&t.overrideDOMText;if(i!=null){this.findPointInside(e,i.length);for(let s=i.iter();!s.next().done;)s.lineBreak?this.lineBreak():this.append(s.value)}else e.nodeType==3?this.readTextNode(e):e.nodeName=="BR"?e.nextSibling&&this.lineBreak():e.nodeType==1&&this.readRange(e.firstChild,null)}findPointBefore(e,t){for(let i of this.points)i.node==e&&e.childNodes[i.offset]==t&&(i.pos=this.text.length)}findPointInside(e,t){for(let i of this.points)(e.nodeType==3?i.node==e:e.contains(i.node))&&(i.pos=this.text.length+(YN(e,i.node,i.offset)?t:0))}}function YN(n,e,t){for(;;){if(!e||t<Wi(e))return!1;if(e==n)return!0;t=_l(e)+1,e=e.parentNode}}function GN(n,e){let t;for(;!(n==e||!n);n=n.nextSibling){let i=St.get(n);if(!(i!=null&&i.isWidget()))return!1;i&&(t||(t=[])).push(i)}if(t)for(let i of t){let s=i.overrideDOMText;if(s!=null&&s.length)return!1}return!0}class Vx{constructor(e,t){this.node=e,this.offset=t,this.pos=-1}}class IN{constructor(e,t,i,s){this.typeOver=s,this.bounds=null,this.text="",this.domChanged=t>-1;let{impreciseHead:a,impreciseAnchor:o}=e.docView;if(e.state.readOnly&&t>-1)this.newSel=null;else if(t>-1&&(this.bounds=ZS(e.docView.tile,t,i,0))){let u=a||o?[]:WN(e),f=new KN(u,e);f.readRange(this.bounds.startDOM,this.bounds.endDOM),this.text=f.text,this.newSel=XN(u,this.bounds.from)}else{let u=e.observer.selectionRange,f=a&&a.node==u.focusNode&&a.offset==u.focusOffset||!up(e.contentDOM,u.focusNode)?e.state.selection.main.head:e.docView.posFromDOM(u.focusNode,u.focusOffset),d=o&&o.node==u.anchorNode&&o.offset==u.anchorOffset||!up(e.contentDOM,u.anchorNode)?e.state.selection.main.anchor:e.docView.posFromDOM(u.anchorNode,u.anchorOffset),p=e.viewport;if((oe.ios||oe.chrome)&&e.state.selection.main.empty&&f!=d&&(p.from>0||p.to<e.state.doc.length)){let y=Math.min(f,d),x=Math.max(f,d),S=p.from-y,w=p.to-x;(S==0||S==1||y==0)&&(w==0||w==-1||x==e.state.doc.length)&&(f=0,d=e.state.doc.length)}e.inputState.composing>-1&&e.state.selection.ranges.length>1?this.newSel=e.state.selection.replaceRange(X.range(d,f)):this.newSel=X.single(d,f)}}}function ZS(n,e,t,i){if(n.isComposite()){let s=-1,a=-1,o=-1,u=-1;for(let f=0,d=i,p=i;f<n.children.length;f++){let y=n.children[f],x=d+y.length;if(d<e&&x>t)return ZS(y,e,t,d);if(x>=e&&s==-1&&(s=f,a=d),d>t&&y.dom.parentNode==n.dom){o=f,u=p;break}p=x,d=x+y.breakAfter}return{from:a,to:u<0?i+n.length:u,startDOM:(s?n.children[s-1].dom.nextSibling:null)||n.dom.firstChild,endDOM:o<n.children.length&&o>=0?n.children[o].dom:null}}else return n.isText()?{from:i,to:i+n.length,startDOM:n.dom,endDOM:n.dom.nextSibling}:null}function $S(n,e){let t,{newSel:i}=e,s=n.state.selection.main,a=n.inputState.lastKeyTime>Date.now()-100?n.inputState.lastKeyCode:-1;if(e.bounds){let{from:o,to:u}=e.bounds,f=s.from,d=null;(a===8||oe.android&&e.text.length<u-o)&&(f=s.to,d="end");let p=JS(n.state.doc.sliceString(o,u,Ia),e.text,f-o,d);p&&(oe.chrome&&a==13&&p.toB==p.from+2&&e.text.slice(p.from,p.toB)==Ia+Ia&&p.toB--,t={from:o+p.from,to:o+p.toA,insert:qe.of(e.text.slice(p.from,p.toB).split(Ia))})}else i&&(!n.hasFocus&&n.state.facet(Pi)||Fu(i,s))&&(i=null);if(!t&&!i)return!1;if(!t&&e.typeOver&&!s.empty&&i&&i.main.empty?t={from:s.from,to:s.to,insert:n.state.doc.slice(s.from,s.to)}:(oe.mac||oe.android)&&t&&t.from==t.to&&t.from==s.head-1&&/^\. ?$/.test(t.insert.toString())&&n.contentDOM.getAttribute("autocorrect")=="off"?(i&&t.insert.length==2&&(i=X.single(i.main.anchor-1,i.main.head-1)),t={from:t.from,to:t.to,insert:qe.of([t.insert.toString().replace("."," ")])}):t&&t.from>=s.from&&t.to<=s.to&&(t.from!=s.from||t.to!=s.to)&&s.to-s.from-(t.to-t.from)<=4?t={from:s.from,to:s.to,insert:n.state.doc.slice(s.from,t.from).append(t.insert).append(n.state.doc.slice(t.to,s.to))}:n.state.doc.lineAt(s.from).to<s.to&&n.docView.lineHasWidget(s.to)&&n.inputState.insertingTextAt>Date.now()-50?t={from:s.from,to:s.to,insert:n.state.toText(n.inputState.insertingText)}:oe.chrome&&t&&t.from==t.to&&t.from==s.head&&t.insert.toString()==`
 `&&n.lineWrapping&&(i&&(i=X.single(i.main.anchor-1,i.main.head-1)),t={from:s.from,to:s.to,insert:qe.of([" "])}),t)return bg(n,t,i,a);if(i&&!Fu(i,s)){let o=!1,u="select";return n.inputState.lastSelectionTime>Date.now()-50&&(n.inputState.lastSelectionOrigin=="select"&&(o=!0),u=n.inputState.lastSelectionOrigin,u=="select.pointer"&&(i=QS(n.state.facet(Oo).map(f=>f(n)),i))),n.dispatch({selection:i,scrollIntoView:o,userEvent:u}),!0}else return!1}function bg(n,e,t,i=-1){if(oe.ios&&n.inputState.flushIOSKey(e))return!0;let s=n.state.selection.main;if(oe.android&&(e.to==s.to&&(e.from==s.from||e.from==s.from-1&&n.state.sliceDoc(e.from,s.from)==" ")&&e.insert.length==1&&e.insert.lines==2&&vr(n.contentDOM,"Enter",13)||(e.from==s.from-1&&e.to==s.to&&e.insert.length==0||i==8&&e.insert.length<e.to-e.from&&e.to>s.head)&&vr(n.contentDOM,"Backspace",8)||e.from==s.from&&e.to==s.to+1&&e.insert.length==0&&vr(n.contentDOM,"Delete",46)))return!0;let a=e.insert.toString();n.inputState.composing>=0&&n.inputState.composing++;let o,u=()=>o||(o=FN(n,e,t));return n.state.facet(HS).some(f=>f(n,e.from,e.to,a,u))||n.dispatch(u()),!0}function FN(n,e,t){let i,s=n.state,a=s.selection.main,o=-1;if(e.from==e.to&&e.from<a.from||e.from>a.to){let f=e.from<a.from?-1:1,d=f<0?a.from:a.to,p=to(s.facet(Oo).map(y=>y(n)),d,f);e.from==p&&(o=p)}if(o>-1)i={changes:e,selection:X.cursor(e.from+e.insert.length,-1)};else if(e.from>=a.from&&e.to<=a.to&&e.to-e.from>=(a.to-a.from)/3&&(!t||t.main.empty&&t.main.from==e.from+e.insert.length)&&n.inputState.composing<0){let f=a.from<e.from?s.sliceDoc(a.from,e.from):"",d=a.to>e.to?s.sliceDoc(e.to,a.to):"";i=s.replaceSelection(n.state.toText(f+e.insert.sliceString(0,void 0,n.state.lineBreak)+d))}else{let f=s.changes(e),d=t&&t.main.to<=f.newLength?t.main:void 0;if(s.selection.ranges.length>1&&(n.inputState.composing>=0||n.inputState.compositionPendingChange)&&e.to<=a.to+10&&e.to>=a.to-10){let p=n.state.sliceDoc(e.from,e.to),y,x=t&&XS(n,t.main.head);if(x){let w=e.insert.length-(e.to-e.from);y={from:x.from,to:x.to-w}}else y=n.state.doc.lineAt(a.head);let S=a.to-e.to;i=s.changeByRange(w=>{if(w.from==a.from&&w.to==a.to)return{changes:f,range:d||w.map(f)};let A=w.to-S,C=A-p.length;if(n.state.sliceDoc(C,A)!=p||A>=y.from&&C<=y.to)return{range:w};let T=s.changes({from:C,to:A,insert:e.insert}),j=w.to-a.to;return{changes:T,range:d?X.range(Math.max(0,d.anchor+j),Math.max(0,d.head+j)):w.map(T)}})}else i={changes:f,selection:d&&s.selection.replaceRange(d)}}let u="input.type";return(n.composing||n.inputState.compositionPendingChange&&n.inputState.compositionEndedAt>Date.now()-50)&&(n.inputState.compositionPendingChange=!1,u+=".compose",n.inputState.compositionFirstChange&&(u+=".start",n.inputState.compositionFirstChange=!1)),s.update(i,{userEvent:u,scrollIntoView:!0})}function JS(n,e,t,i){let s=Math.min(n.length,e.length),a=0;for(;a<s&&n.charCodeAt(a)==e.charCodeAt(a);)a++;if(a==s&&n.length==e.length)return null;let o=n.length,u=e.length;for(;o>0&&u>0&&n.charCodeAt(o-1)==e.charCodeAt(u-1);)o--,u--;if(i=="end"){let f=Math.max(0,a-Math.min(o,u));t-=o+f-a}if(o<a&&n.length<e.length){let f=t<=a&&t>=o?a-t:0;a-=f,u=a+(u-o),o=a}else if(u<a){let f=t<=a&&t>=u?a-t:0;a-=f,o=a+(o-u),u=a}return{from:a,toA:o,toB:u}}function WN(n){let e=[];if(n.root.activeElement!=n.contentDOM)return e;let{anchorNode:t,anchorOffset:i,focusNode:s,focusOffset:a}=n.observer.selectionRange;return t&&(e.push(new Vx(t,i)),(s!=t||a!=i)&&e.push(new Vx(s,a))),e}function XN(n,e){if(n.length==0)return null;let t=n[0].pos,i=n.length==2?n[1].pos:t;return t>-1&&i>-1?X.single(t+e,i+e):null}function Fu(n,e){return e.head==n.main.head&&e.anchor==n.main.anchor}class QN{setSelectionOrigin(e){this.lastSelectionOrigin=e,this.lastSelectionTime=Date.now()}constructor(e){this.view=e,this.lastKeyCode=0,this.lastKeyTime=0,this.lastTouchTime=0,this.lastFocusTime=0,this.lastScrollTop=0,this.lastScrollLeft=0,this.pendingIOSKey=void 0,this.tabFocusMode=-1,this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastContextMenu=0,this.scrollHandlers=[],this.handlers=Object.create(null),this.composing=-1,this.compositionFirstChange=null,this.compositionEndedAt=0,this.compositionPendingKey=!1,this.compositionPendingChange=!1,this.insertingText="",this.insertingTextAt=0,this.mouseSelection=null,this.draggedContent=null,this.handleEvent=this.handleEvent.bind(this),this.notifiedFocused=e.hasFocus,oe.safari&&e.contentDOM.addEventListener("input",()=>null),oe.gecko&&h5(e.contentDOM.ownerDocument)}handleEvent(e){!l5(this.view,e)||this.ignoreDuringComposition(e)||e.type=="keydown"&&this.keydown(e)||(this.view.updateState!=0?Promise.resolve().then(()=>this.runHandlers(e.type,e)):this.runHandlers(e.type,e))}runHandlers(e,t){let i=this.handlers[e];if(i){for(let s of i.observers)s(this.view,t);for(let s of i.handlers){if(t.defaultPrevented)break;if(s(this.view,t)){t.preventDefault();break}}}}ensureHandlers(e){let t=ZN(e),i=this.handlers,s=this.view.contentDOM;for(let a in t)if(a!="scroll"){let o=!t[a].handlers.length,u=i[a];u&&o!=!u.handlers.length&&(s.removeEventListener(a,this.handleEvent),u=null),u||s.addEventListener(a,this.handleEvent,{passive:o})}for(let a in i)a!="scroll"&&!t[a]&&s.removeEventListener(a,this.handleEvent);this.handlers=t}keydown(e){if(this.lastKeyCode=e.keyCode,this.lastKeyTime=Date.now(),e.keyCode==9&&this.tabFocusMode>-1&&(!this.tabFocusMode||Date.now()<=this.tabFocusMode))return!0;if(this.tabFocusMode>0&&e.keyCode!=27&&tw.indexOf(e.keyCode)<0&&(this.tabFocusMode=-1),oe.android&&oe.chrome&&!e.synthetic&&(e.keyCode==13||e.keyCode==8))return this.view.observer.delayAndroidKey(e.key,e.keyCode),!0;let t;return oe.ios&&!e.synthetic&&!e.altKey&&!e.metaKey&&((t=ew.find(i=>i.keyCode==e.keyCode))&&!e.ctrlKey||$N.indexOf(e.key)>-1&&e.ctrlKey&&!e.shiftKey)?(this.pendingIOSKey=t||e,setTimeout(()=>this.flushIOSKey(),250),!0):(e.keyCode!=229&&this.view.observer.forceFlush(),!1)}flushIOSKey(e){let t=this.pendingIOSKey;return!t||t.key=="Enter"&&e&&e.from<e.to&&/^\S+$/.test(e.insert.toString())?!1:(this.pendingIOSKey=void 0,vr(this.view.contentDOM,t.key,t.keyCode,t instanceof KeyboardEvent?t:void 0))}ignoreDuringComposition(e){return!/^key/.test(e.type)||e.synthetic?!1:this.composing>0?!0:oe.safari&&!oe.ios&&this.compositionPendingKey&&Date.now()-this.compositionEndedAt<100?(this.compositionPendingKey=!1,!0):!1}startMouseSelection(e){this.mouseSelection&&this.mouseSelection.destroy(),this.mouseSelection=e}update(e){this.view.observer.update(e),this.mouseSelection&&this.mouseSelection.update(e),this.draggedContent&&e.docChanged&&(this.draggedContent=this.draggedContent.map(e.changes)),e.transactions.length&&(this.lastKeyCode=this.lastSelectionTime=0)}destroy(){this.mouseSelection&&this.mouseSelection.destroy()}}function Ux(n,e){return(t,i)=>{try{return e.call(n,i,t)}catch(s){un(t.state,s)}}}function ZN(n){let e=Object.create(null);function t(i){return e[i]||(e[i]={observers:[],handlers:[]})}for(let i of n){let s=i.spec,a=s&&s.plugin.domEventHandlers,o=s&&s.plugin.domEventObservers;if(a)for(let u in a){let f=a[u];f&&t(u).handlers.push(Ux(i.value,f))}if(o)for(let u in o){let f=o[u];f&&t(u).observers.push(Ux(i.value,f))}}for(let i in Qn)t(i).handlers.push(Qn[i]);for(let i in qn)t(i).observers.push(qn[i]);return e}const ew=[{key:"Backspace",keyCode:8,inputType:"deleteContentBackward"},{key:"Enter",keyCode:13,inputType:"insertParagraph"},{key:"Enter",keyCode:13,inputType:"insertLineBreak"},{key:"Delete",keyCode:46,inputType:"deleteContentForward"}],$N="dthko",tw=[16,17,18,20,91,92,224,225],au=6;function ou(n){return Math.max(0,n)*.7+8}function JN(n,e){return Math.max(Math.abs(n.clientX-e.clientX),Math.abs(n.clientY-e.clientY))}class e5{constructor(e,t,i,s){this.view=e,this.startEvent=t,this.style=i,this.mustSelect=s,this.scrollSpeed={x:0,y:0},this.scrolling=-1,this.lastEvent=t,this.scrollParents=nN(e.contentDOM),this.atoms=e.state.facet(Oo).map(o=>o(e));let a=e.contentDOM.ownerDocument;a.addEventListener("mousemove",this.move=this.move.bind(this)),a.addEventListener("mouseup",this.up=this.up.bind(this)),this.extend=t.shiftKey,this.multiple=e.state.facet(ze.allowMultipleSelections)&&t5(e,t),this.dragging=i5(e,t)&&lw(t)==1?null:!1}start(e){this.dragging===!1&&this.select(e)}move(e){if(e.buttons==0)return this.destroy();if(this.dragging||this.dragging==null&&JN(this.startEvent,e)<10)return;this.select(this.lastEvent=e);let t=0,i=0,s=0,a=0,o=this.view.win.innerWidth,u=this.view.win.innerHeight;this.scrollParents.x&&({left:s,right:o}=this.scrollParents.x.getBoundingClientRect()),this.scrollParents.y&&({top:a,bottom:u}=this.scrollParents.y.getBoundingClientRect());let f=yg(this.view);e.clientX-f.left<=s+au?t=-ou(s-e.clientX):e.clientX+f.right>=o-au&&(t=ou(e.clientX-o)),e.clientY-f.top<=a+au?i=-ou(a-e.clientY):e.clientY+f.bottom>=u-au&&(i=ou(e.clientY-u)),this.setScrollSpeed(t,i)}up(e){this.dragging==null&&this.select(this.lastEvent),this.dragging||e.preventDefault(),this.destroy()}destroy(){this.setScrollSpeed(0,0);let e=this.view.contentDOM.ownerDocument;e.removeEventListener("mousemove",this.move),e.removeEventListener("mouseup",this.up),this.view.inputState.mouseSelection=this.view.inputState.draggedContent=null}setScrollSpeed(e,t){this.scrollSpeed={x:e,y:t},e||t?this.scrolling<0&&(this.scrolling=setInterval(()=>this.scroll(),50)):this.scrolling>-1&&(clearInterval(this.scrolling),this.scrolling=-1)}scroll(){let{x:e,y:t}=this.scrollSpeed;e&&this.scrollParents.x&&(this.scrollParents.x.scrollLeft+=e,e=0),t&&this.scrollParents.y&&(this.scrollParents.y.scrollTop+=t,t=0),(e||t)&&this.view.win.scrollBy(e,t),this.dragging===!1&&this.select(this.lastEvent)}select(e){let{view:t}=this,i=QS(this.atoms,this.style.get(e,this.extend,this.multiple));(this.mustSelect||!i.eq(t.state.selection,this.dragging===!1))&&this.view.dispatch({selection:i,userEvent:"select.pointer"}),this.mustSelect=!1}update(e){e.transactions.some(t=>t.isUserEvent("input.type"))?this.destroy():this.style.update(e)&&setTimeout(()=>this.select(this.lastEvent),20)}}function t5(n,e){let t=n.state.facet(_S);return t.length?t[0](e):oe.mac?e.metaKey:e.ctrlKey}function n5(n,e){let t=n.state.facet(LS);return t.length?t[0](e):oe.mac?!e.altKey:!e.ctrlKey}function i5(n,e){let{main:t}=n.state.selection;if(t.empty)return!1;let i=ho(n.root);if(!i||i.rangeCount==0)return!0;let s=i.getRangeAt(0).getClientRects();for(let a=0;a<s.length;a++){let o=s[a];if(o.left<=e.clientX&&o.right>=e.clientX&&o.top<=e.clientY&&o.bottom>=e.clientY)return!0}return!1}function l5(n,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let t=e.target,i;t!=n.contentDOM;t=t.parentNode)if(!t||t.nodeType==11||(i=St.get(t))&&i.isWidget()&&!i.isHidden&&i.widget.ignoreEvent(e))return!1;return!0}const Qn=Object.create(null),qn=Object.create(null),nw=oe.ie&&oe.ie_version<15||oe.ios&&oe.webkit_version<604;function s5(n){let e=n.dom.parentNode;if(!e)return;let t=e.appendChild(document.createElement("textarea"));t.style.cssText="position: fixed; left: -10000px; top: 10px",t.focus(),setTimeout(()=>{n.focus(),t.remove(),iw(n,t.value)},50)}function xh(n,e,t){for(let i of n.facet(e))t=i(t,n);return t}function iw(n,e){e=xh(n.state,dg,e);let{state:t}=n,i,s=1,a=t.toText(e),o=a.lines==t.selection.ranges.length;if(bp!=null&&t.selection.ranges.every(f=>f.empty)&&bp==a.toString()){let f=-1;i=t.changeByRange(d=>{let p=t.doc.lineAt(d.from);if(p.from==f)return{range:d};f=p.from;let y=t.toText((o?a.line(s++).text:e)+t.lineBreak);return{changes:{from:p.from,insert:y},range:X.cursor(d.from+y.length)}})}else o?i=t.changeByRange(f=>{let d=a.line(s++);return{changes:{from:f.from,to:f.to,insert:d.text},range:X.cursor(f.from+d.length)}}):i=t.replaceSelection(a);n.dispatch(i,{userEvent:"input.paste",scrollIntoView:!0})}qn.scroll=n=>{n.inputState.lastScrollTop=n.scrollDOM.scrollTop,n.inputState.lastScrollLeft=n.scrollDOM.scrollLeft};Qn.keydown=(n,e)=>(n.inputState.setSelectionOrigin("select"),e.keyCode==27&&n.inputState.tabFocusMode!=0&&(n.inputState.tabFocusMode=Date.now()+2e3),!1);qn.touchstart=(n,e)=>{n.inputState.lastTouchTime=Date.now(),n.inputState.setSelectionOrigin("select.pointer")};qn.touchmove=n=>{n.inputState.setSelectionOrigin("select.pointer")};Qn.mousedown=(n,e)=>{if(n.observer.flush(),n.inputState.lastTouchTime>Date.now()-2e3)return!1;let t=null;for(let i of n.state.facet(BS))if(t=i(n,e),t)break;if(!t&&e.button==0&&(t=a5(n,e)),t){let i=!n.hasFocus;n.inputState.startMouseSelection(new e5(n,e,t,i)),i&&n.observer.ignore(()=>{AS(n.contentDOM);let a=n.root.activeElement;a&&!a.contains(n.contentDOM)&&a.blur()});let s=n.inputState.mouseSelection;if(s)return s.start(e),s.dragging===!1}else n.inputState.setSelectionOrigin("select.pointer");return!1};function qx(n,e,t,i){if(i==1)return X.cursor(e,t);if(i==2)return zN(n.state,e,t);{let s=n.docView.lineAt(e,t),a=n.state.doc.lineAt(s?s.posAtEnd:e),o=s?s.posAtStart:a.from,u=s?s.posAtEnd:a.to;return u<n.state.doc.length&&u==a.to&&u++,X.range(o,u)}}const r5=oe.ie&&oe.ie_version<=11;let Px=null,Kx=0,Yx=0;function lw(n){if(!r5)return n.detail;let e=Px,t=Yx;return Px=n,Yx=Date.now(),Kx=!e||t>Date.now()-400&&Math.abs(e.clientX-n.clientX)<2&&Math.abs(e.clientY-n.clientY)<2?(Kx+1)%3:1}function a5(n,e){let t=n.posAndSideAtCoords({x:e.clientX,y:e.clientY},!1),i=lw(e),s=n.state.selection;return{update(a){a.docChanged&&(t.pos=a.changes.mapPos(t.pos),s=s.map(a.changes))},get(a,o,u){let f=n.posAndSideAtCoords({x:a.clientX,y:a.clientY},!1),d,p=qx(n,f.pos,f.assoc,i);if(t.pos!=f.pos&&!o){let y=qx(n,t.pos,t.assoc,i),x=Math.min(y.from,p.from),S=Math.max(y.to,p.to);p=x<p.from?X.range(x,S):X.range(S,x)}return o?s.replaceRange(s.main.extend(p.from,p.to)):u&&i==1&&s.ranges.length>1&&(d=o5(s,f.pos))?d:u?s.addRange(p):X.create([p])}}}function o5(n,e){for(let t=0;t<n.ranges.length;t++){let{from:i,to:s}=n.ranges[t];if(i<=e&&s>=e)return X.create(n.ranges.slice(0,t).concat(n.ranges.slice(t+1)),n.mainIndex==t?0:n.mainIndex-(n.mainIndex>t?1:0))}return null}Qn.dragstart=(n,e)=>{let{selection:{main:t}}=n.state;if(e.target.draggable){let s=n.docView.tile.nearest(e.target);if(s&&s.isWidget()){let a=s.posAtStart,o=a+s.length;(a>=t.to||o<=t.from)&&(t=X.range(a,o))}}let{inputState:i}=n;return i.mouseSelection&&(i.mouseSelection.dragging=!0),i.draggedContent=t,e.dataTransfer&&(e.dataTransfer.setData("Text",xh(n.state,mg,n.state.sliceDoc(t.from,t.to))),e.dataTransfer.effectAllowed="copyMove"),!1};Qn.dragend=n=>(n.inputState.draggedContent=null,!1);function Gx(n,e,t,i){if(t=xh(n.state,dg,t),!t)return;let s=n.posAtCoords({x:e.clientX,y:e.clientY},!1),{draggedContent:a}=n.inputState,o=i&&a&&n5(n,e)?{from:a.from,to:a.to}:null,u={from:s,insert:t},f=n.state.changes(o?[o,u]:u);n.focus(),n.dispatch({changes:f,selection:{anchor:f.mapPos(s,-1),head:f.mapPos(s,1)},userEvent:o?"move.drop":"input.drop"}),n.inputState.draggedContent=null}Qn.drop=(n,e)=>{if(!e.dataTransfer)return!1;if(n.state.readOnly)return!0;let t=e.dataTransfer.files;if(t&&t.length){let i=Array(t.length),s=0,a=()=>{++s==t.length&&Gx(n,e,i.filter(o=>o!=null).join(n.state.lineBreak),!1)};for(let o=0;o<t.length;o++){let u=new FileReader;u.onerror=a,u.onload=()=>{/[\x00-\x08\x0e-\x1f]{2}/.test(u.result)||(i[o]=u.result),a()},u.readAsText(t[o])}return!0}else{let i=e.dataTransfer.getData("Text");if(i)return Gx(n,e,i,!0),!0}return!1};Qn.paste=(n,e)=>{if(n.state.readOnly)return!0;n.observer.flush();let t=nw?null:e.clipboardData;return t?(iw(n,t.getData("text/plain")||t.getData("text/uri-list")),!0):(s5(n),!1)};function c5(n,e){let t=n.dom.parentNode;if(!t)return;let i=t.appendChild(document.createElement("textarea"));i.style.cssText="position: fixed; left: -10000px; top: 10px",i.value=e,i.focus(),i.selectionEnd=e.length,i.selectionStart=0,setTimeout(()=>{i.remove(),n.focus()},50)}function u5(n){let e=[],t=[],i=!1;for(let s of n.selection.ranges)s.empty||(e.push(n.sliceDoc(s.from,s.to)),t.push(s));if(!e.length){let s=-1;for(let{from:a}of n.selection.ranges){let o=n.doc.lineAt(a);o.number>s&&(e.push(o.text),t.push({from:o.from,to:Math.min(n.doc.length,o.to+1)})),s=o.number}i=!0}return{text:xh(n,mg,e.join(n.lineBreak)),ranges:t,linewise:i}}let bp=null;Qn.copy=Qn.cut=(n,e)=>{if(!$a(n.contentDOM,n.observer.selectionRange))return!1;let{text:t,ranges:i,linewise:s}=u5(n.state);if(!t&&!s)return!1;bp=s?t:null,e.type=="cut"&&!n.state.readOnly&&n.dispatch({changes:i,scrollIntoView:!0,userEvent:"delete.cut"});let a=nw?null:e.clipboardData;return a?(a.clearData(),a.setData("text/plain",t),!0):(c5(n,t),!1)};const sw=Si.define();function rw(n,e){let t=[];for(let i of n.facet(VS)){let s=i(n,e);s&&t.push(s)}return t.length?n.update({effects:t,annotations:sw.of(!0)}):null}function aw(n){setTimeout(()=>{let e=n.hasFocus;if(e!=n.inputState.notifiedFocused){let t=rw(n.state,e);t?n.dispatch(t):n.update([])}},10)}qn.focus=n=>{n.inputState.lastFocusTime=Date.now(),!n.scrollDOM.scrollTop&&(n.inputState.lastScrollTop||n.inputState.lastScrollLeft)&&(n.scrollDOM.scrollTop=n.inputState.lastScrollTop,n.scrollDOM.scrollLeft=n.inputState.lastScrollLeft),aw(n)};qn.blur=n=>{n.observer.clearSelectionRange(),aw(n)};qn.compositionstart=qn.compositionupdate=n=>{n.observer.editContext||(n.inputState.compositionFirstChange==null&&(n.inputState.compositionFirstChange=!0),n.inputState.composing<0&&(n.inputState.composing=0))};qn.compositionend=n=>{n.observer.editContext||(n.inputState.composing=-1,n.inputState.compositionEndedAt=Date.now(),n.inputState.compositionPendingKey=!0,n.inputState.compositionPendingChange=n.observer.pendingRecords().length>0,n.inputState.compositionFirstChange=null,oe.chrome&&oe.android?n.observer.flushSoon():n.inputState.compositionPendingChange?Promise.resolve().then(()=>n.observer.flush()):setTimeout(()=>{n.inputState.composing<0&&n.docView.hasComposition&&n.update([])},50))};qn.contextmenu=n=>{n.inputState.lastContextMenu=Date.now()};Qn.beforeinput=(n,e)=>{var t,i;if((e.inputType=="insertText"||e.inputType=="insertCompositionText")&&(n.inputState.insertingText=e.data,n.inputState.insertingTextAt=Date.now()),e.inputType=="insertReplacementText"&&n.observer.editContext){let a=(t=e.dataTransfer)===null||t===void 0?void 0:t.getData("text/plain"),o=e.getTargetRanges();if(a&&o.length){let u=o[0],f=n.posAtDOM(u.startContainer,u.startOffset),d=n.posAtDOM(u.endContainer,u.endOffset);return bg(n,{from:f,to:d,insert:n.state.toText(a)},null),!0}}let s;if(oe.chrome&&oe.android&&(s=ew.find(a=>a.inputType==e.inputType))&&(n.observer.delayAndroidKey(s.key,s.keyCode),s.key=="Backspace"||s.key=="Delete")){let a=((i=window.visualViewport)===null||i===void 0?void 0:i.height)||0;setTimeout(()=>{var o;(((o=window.visualViewport)===null||o===void 0?void 0:o.height)||0)>a+10&&n.hasFocus&&(n.contentDOM.blur(),n.focus())},100)}return oe.ios&&e.inputType=="deleteContentForward"&&n.observer.flushSoon(),oe.safari&&e.inputType=="insertText"&&n.inputState.composing>=0&&setTimeout(()=>qn.compositionend(n,e),20),!1};const Ix=new Set;function h5(n){Ix.has(n)||(Ix.add(n),n.addEventListener("copy",()=>{}),n.addEventListener("cut",()=>{}))}const Fx=["pre-wrap","normal","pre-line","break-spaces"];let Nr=!1;function Wx(){Nr=!1}class f5{constructor(e){this.lineWrapping=e,this.doc=qe.empty,this.heightSamples={},this.lineHeight=14,this.charWidth=7,this.textHeight=14,this.lineLength=30}heightForGap(e,t){let i=this.doc.lineAt(t).number-this.doc.lineAt(e).number+1;return this.lineWrapping&&(i+=Math.max(0,Math.ceil((t-e-i*this.lineLength*.5)/this.lineLength))),this.lineHeight*i}heightForLine(e){return this.lineWrapping?(1+Math.max(0,Math.ceil((e-this.lineLength)/Math.max(1,this.lineLength-5))))*this.lineHeight:this.lineHeight}setDoc(e){return this.doc=e,this}mustRefreshForWrapping(e){return Fx.indexOf(e)>-1!=this.lineWrapping}mustRefreshForHeights(e){let t=!1;for(let i=0;i<e.length;i++){let s=e[i];s<0?i++:this.heightSamples[Math.floor(s*10)]||(t=!0,this.heightSamples[Math.floor(s*10)]=!0)}return t}refresh(e,t,i,s,a,o){let u=Fx.indexOf(e)>-1,f=Math.abs(t-this.lineHeight)>.3||this.lineWrapping!=u||Math.abs(i-this.charWidth)>.1;if(this.lineWrapping=u,this.lineHeight=t,this.charWidth=i,this.textHeight=s,this.lineLength=a,f){this.heightSamples={};for(let d=0;d<o.length;d++){let p=o[d];p<0?d++:this.heightSamples[Math.floor(p*10)]=!0}}return f}}class d5{constructor(e,t){this.from=e,this.heights=t,this.index=0}get more(){return this.index<this.heights.length}}class In{constructor(e,t,i,s,a){this.from=e,this.length=t,this.top=i,this.height=s,this._content=a}get type(){return typeof this._content=="number"?qt.Text:Array.isArray(this._content)?this._content:this._content.type}get to(){return this.from+this.length}get bottom(){return this.top+this.height}get widget(){return this._content instanceof gs?this._content.widget:null}get widgetLineBreaks(){return typeof this._content=="number"?this._content:0}join(e){let t=(Array.isArray(this._content)?this._content:[this]).concat(Array.isArray(e._content)?e._content:[e]);return new In(this.from,this.length+e.length,this.top,this.height+e.height,t)}}var tt=(function(n){return n[n.ByPos=0]="ByPos",n[n.ByHeight=1]="ByHeight",n[n.ByPosNoHeight=2]="ByPosNoHeight",n})(tt||(tt={}));const Ru=.001;class Zt{constructor(e,t,i=2){this.length=e,this.height=t,this.flags=i}get outdated(){return(this.flags&2)>0}set outdated(e){this.flags=(e?2:0)|this.flags&-3}setHeight(e){this.height!=e&&(Math.abs(this.height-e)>Ru&&(Nr=!0),this.height=e)}replace(e,t,i){return Zt.of(i)}decomposeLeft(e,t){t.push(this)}decomposeRight(e,t){t.push(this)}applyChanges(e,t,i,s){let a=this,o=i.doc;for(let u=s.length-1;u>=0;u--){let{fromA:f,toA:d,fromB:p,toB:y}=s[u],x=a.lineAt(f,tt.ByPosNoHeight,i.setDoc(t),0,0),S=x.to>=d?x:a.lineAt(d,tt.ByPosNoHeight,i,0,0);for(y+=S.to-d,d=S.to;u>0&&x.from<=s[u-1].toA;)f=s[u-1].fromA,p=s[u-1].fromB,u--,f<x.from&&(x=a.lineAt(f,tt.ByPosNoHeight,i,0,0));p+=x.from-f,f=x.from;let w=xg.build(i.setDoc(o),e,p,y);a=Wu(a,a.replace(f,d,w))}return a.updateHeight(i,0)}static empty(){return new kn(0,0,0)}static of(e){if(e.length==1)return e[0];let t=0,i=e.length,s=0,a=0;for(;;)if(t==i)if(s>a*2){let u=e[t-1];u.break?e.splice(--t,1,u.left,null,u.right):e.splice(--t,1,u.left,u.right),i+=1+u.break,s-=u.size}else if(a>s*2){let u=e[i];u.break?e.splice(i,1,u.left,null,u.right):e.splice(i,1,u.left,u.right),i+=2+u.break,a-=u.size}else break;else if(s<a){let u=e[t++];u&&(s+=u.size)}else{let u=e[--i];u&&(a+=u.size)}let o=0;return e[t-1]==null?(o=1,t--):e[t]==null&&(o=1,i++),new p5(Zt.of(e.slice(0,t)),o,Zt.of(e.slice(i)))}}function Wu(n,e){return n==e?n:(n.constructor!=e.constructor&&(Nr=!0),e)}Zt.prototype.size=1;const m5=Se.replace({});class ow extends Zt{constructor(e,t,i){super(e,t),this.deco=i,this.spaceAbove=0}mainBlock(e,t){return new In(t,this.length,e+this.spaceAbove,this.height-this.spaceAbove,this.deco||0)}blockAt(e,t,i,s){return this.spaceAbove&&e<i+this.spaceAbove?new In(s,0,i,this.spaceAbove,m5):this.mainBlock(i,s)}lineAt(e,t,i,s,a){let o=this.mainBlock(s,a);return this.spaceAbove?this.blockAt(0,i,s,a).join(o):o}forEachLine(e,t,i,s,a,o){e<=a+this.length&&t>=a&&o(this.lineAt(0,tt.ByPos,i,s,a))}setMeasuredHeight(e){let t=e.heights[e.index++];t<0?(this.spaceAbove=-t,t=e.heights[e.index++]):this.spaceAbove=0,this.setHeight(t)}updateHeight(e,t=0,i=!1,s){return s&&s.from<=t&&s.more&&this.setMeasuredHeight(s),this.outdated=!1,this}toString(){return`block(${this.length})`}}class kn extends ow{constructor(e,t,i){super(e,t,null),this.collapsed=0,this.widgetHeight=0,this.breaks=0,this.spaceAbove=i}mainBlock(e,t){return new In(t,this.length,e+this.spaceAbove,this.height-this.spaceAbove,this.breaks)}replace(e,t,i){let s=i[0];return i.length==1&&(s instanceof kn||s instanceof Vt&&s.flags&4)&&Math.abs(this.length-s.length)<10?(s instanceof Vt?s=new kn(s.length,this.height,this.spaceAbove):s.height=this.height,this.outdated||(s.outdated=!1),s):Zt.of(i)}updateHeight(e,t=0,i=!1,s){return s&&s.from<=t&&s.more?this.setMeasuredHeight(s):(i||this.outdated)&&(this.spaceAbove=0,this.setHeight(Math.max(this.widgetHeight,e.heightForLine(this.length-this.collapsed))+this.breaks*e.lineHeight)),this.outdated=!1,this}toString(){return`line(${this.length}${this.collapsed?-this.collapsed:""}${this.widgetHeight?":"+this.widgetHeight:""})`}}class Vt extends Zt{constructor(e){super(e,0)}heightMetrics(e,t){let i=e.doc.lineAt(t).number,s=e.doc.lineAt(t+this.length).number,a=s-i+1,o,u=0;if(e.lineWrapping){let f=Math.min(this.height,e.lineHeight*a);o=f/a,this.length>a+1&&(u=(this.height-f)/(this.length-a-1))}else o=this.height/a;return{firstLine:i,lastLine:s,perLine:o,perChar:u}}blockAt(e,t,i,s){let{firstLine:a,lastLine:o,perLine:u,perChar:f}=this.heightMetrics(t,s);if(t.lineWrapping){let d=s+(e<t.lineHeight?0:Math.round(Math.max(0,Math.min(1,(e-i)/this.height))*this.length)),p=t.doc.lineAt(d),y=u+p.length*f,x=Math.max(i,e-y/2);return new In(p.from,p.length,x,y,0)}else{let d=Math.max(0,Math.min(o-a,Math.floor((e-i)/u))),{from:p,length:y}=t.doc.line(a+d);return new In(p,y,i+u*d,u,0)}}lineAt(e,t,i,s,a){if(t==tt.ByHeight)return this.blockAt(e,i,s,a);if(t==tt.ByPosNoHeight){let{from:S,to:w}=i.doc.lineAt(e);return new In(S,w-S,0,0,0)}let{firstLine:o,perLine:u,perChar:f}=this.heightMetrics(i,a),d=i.doc.lineAt(e),p=u+d.length*f,y=d.number-o,x=s+u*y+f*(d.from-a-y);return new In(d.from,d.length,Math.max(s,Math.min(x,s+this.height-p)),p,0)}forEachLine(e,t,i,s,a,o){e=Math.max(e,a),t=Math.min(t,a+this.length);let{firstLine:u,perLine:f,perChar:d}=this.heightMetrics(i,a);for(let p=e,y=s;p<=t;){let x=i.doc.lineAt(p);if(p==e){let w=x.number-u;y+=f*w+d*(e-a-w)}let S=f+d*x.length;o(new In(x.from,x.length,y,S,0)),y+=S,p=x.to+1}}replace(e,t,i){let s=this.length-t;if(s>0){let a=i[i.length-1];a instanceof Vt?i[i.length-1]=new Vt(a.length+s):i.push(null,new Vt(s-1))}if(e>0){let a=i[0];a instanceof Vt?i[0]=new Vt(e+a.length):i.unshift(new Vt(e-1),null)}return Zt.of(i)}decomposeLeft(e,t){t.push(new Vt(e-1),null)}decomposeRight(e,t){t.push(null,new Vt(this.length-e-1))}updateHeight(e,t=0,i=!1,s){let a=t+this.length;if(s&&s.from<=t+this.length&&s.more){let o=[],u=Math.max(t,s.from),f=-1;for(s.from>t&&o.push(new Vt(s.from-t-1).updateHeight(e,t));u<=a&&s.more;){let p=e.doc.lineAt(u).length;o.length&&o.push(null);let y=s.heights[s.index++],x=0;y<0&&(x=-y,y=s.heights[s.index++]),f==-1?f=y:Math.abs(y-f)>=Ru&&(f=-2);let S=new kn(p,y,x);S.outdated=!1,o.push(S),u+=p+1}u<=a&&o.push(null,new Vt(a-u).updateHeight(e,u));let d=Zt.of(o);return(f<0||Math.abs(d.height-this.height)>=Ru||Math.abs(f-this.heightMetrics(e,t).perLine)>=Ru)&&(Nr=!0),Wu(this,d)}else(i||this.outdated)&&(this.setHeight(e.heightForGap(t,t+this.length)),this.outdated=!1);return this}toString(){return`gap(${this.length})`}}class p5 extends Zt{constructor(e,t,i){super(e.length+t+i.length,e.height+i.height,t|(e.outdated||i.outdated?2:0)),this.left=e,this.right=i,this.size=e.size+i.size}get break(){return this.flags&1}blockAt(e,t,i,s){let a=i+this.left.height;return e<a?this.left.blockAt(e,t,i,s):this.right.blockAt(e,t,a,s+this.left.length+this.break)}lineAt(e,t,i,s,a){let o=s+this.left.height,u=a+this.left.length+this.break,f=t==tt.ByHeight?e<o:e<u,d=f?this.left.lineAt(e,t,i,s,a):this.right.lineAt(e,t,i,o,u);if(this.break||(f?d.to<u:d.from>u))return d;let p=t==tt.ByPosNoHeight?tt.ByPosNoHeight:tt.ByPos;return f?d.join(this.right.lineAt(u,p,i,o,u)):this.left.lineAt(u,p,i,s,a).join(d)}forEachLine(e,t,i,s,a,o){let u=s+this.left.height,f=a+this.left.length+this.break;if(this.break)e<f&&this.left.forEachLine(e,t,i,s,a,o),t>=f&&this.right.forEachLine(e,t,i,u,f,o);else{let d=this.lineAt(f,tt.ByPos,i,s,a);e<d.from&&this.left.forEachLine(e,d.from-1,i,s,a,o),d.to>=e&&d.from<=t&&o(d),t>d.to&&this.right.forEachLine(d.to+1,t,i,u,f,o)}}replace(e,t,i){let s=this.left.length+this.break;if(t<s)return this.balanced(this.left.replace(e,t,i),this.right);if(e>this.left.length)return this.balanced(this.left,this.right.replace(e-s,t-s,i));let a=[];e>0&&this.decomposeLeft(e,a);let o=a.length;for(let u of i)a.push(u);if(e>0&&Xx(a,o-1),t<this.length){let u=a.length;this.decomposeRight(t,a),Xx(a,u)}return Zt.of(a)}decomposeLeft(e,t){let i=this.left.length;if(e<=i)return this.left.decomposeLeft(e,t);t.push(this.left),this.break&&(i++,e>=i&&t.push(null)),e>i&&this.right.decomposeLeft(e-i,t)}decomposeRight(e,t){let i=this.left.length,s=i+this.break;if(e>=s)return this.right.decomposeRight(e-s,t);e<i&&this.left.decomposeRight(e,t),this.break&&e<s&&t.push(null),t.push(this.right)}balanced(e,t){return e.size>2*t.size||t.size>2*e.size?Zt.of(this.break?[e,null,t]:[e,t]):(this.left=Wu(this.left,e),this.right=Wu(this.right,t),this.setHeight(e.height+t.height),this.outdated=e.outdated||t.outdated,this.size=e.size+t.size,this.length=e.length+this.break+t.length,this)}updateHeight(e,t=0,i=!1,s){let{left:a,right:o}=this,u=t+a.length+this.break,f=null;return s&&s.from<=t+a.length&&s.more?f=a=a.updateHeight(e,t,i,s):a.updateHeight(e,t,i),s&&s.from<=u+o.length&&s.more?f=o=o.updateHeight(e,u,i,s):o.updateHeight(e,u,i),f?this.balanced(a,o):(this.height=this.left.height+this.right.height,this.outdated=!1,this)}toString(){return this.left+(this.break?" ":"-")+this.right}}function Xx(n,e){let t,i;n[e]==null&&(t=n[e-1])instanceof Vt&&(i=n[e+1])instanceof Vt&&n.splice(e-1,3,new Vt(t.length+1+i.length))}const g5=5;class xg{constructor(e,t){this.pos=e,this.oracle=t,this.nodes=[],this.lineStart=-1,this.lineEnd=-1,this.covering=null,this.writtenTo=e}get isCovered(){return this.covering&&this.nodes[this.nodes.length-1]==this.covering}span(e,t){if(this.lineStart>-1){let i=Math.min(t,this.lineEnd),s=this.nodes[this.nodes.length-1];s instanceof kn?s.length+=i-this.pos:(i>this.pos||!this.isCovered)&&this.nodes.push(new kn(i-this.pos,-1,0)),this.writtenTo=i,t>i&&(this.nodes.push(null),this.writtenTo++,this.lineStart=-1)}this.pos=t}point(e,t,i){if(e<t||i.heightRelevant){let s=i.widget?i.widget.estimatedHeight:0,a=i.widget?i.widget.lineBreaks:0;s<0&&(s=this.oracle.lineHeight);let o=t-e;i.block?this.addBlock(new ow(o,s,i)):(o||a||s>=g5)&&this.addLineDeco(s,a,o)}else t>e&&this.span(e,t);this.lineEnd>-1&&this.lineEnd<this.pos&&(this.lineEnd=this.oracle.doc.lineAt(this.pos).to)}enterLine(){if(this.lineStart>-1)return;let{from:e,to:t}=this.oracle.doc.lineAt(this.pos);this.lineStart=e,this.lineEnd=t,this.writtenTo<e&&((this.writtenTo<e-1||this.nodes[this.nodes.length-1]==null)&&this.nodes.push(this.blankContent(this.writtenTo,e-1)),this.nodes.push(null)),this.pos>e&&this.nodes.push(new kn(this.pos-e,-1,0)),this.writtenTo=this.pos}blankContent(e,t){let i=new Vt(t-e);return this.oracle.doc.lineAt(e).to==t&&(i.flags|=4),i}ensureLine(){this.enterLine();let e=this.nodes.length?this.nodes[this.nodes.length-1]:null;if(e instanceof kn)return e;let t=new kn(0,-1,0);return this.nodes.push(t),t}addBlock(e){this.enterLine();let t=e.deco;t&&t.startSide>0&&!this.isCovered&&this.ensureLine(),this.nodes.push(e),this.writtenTo=this.pos=this.pos+e.length,t&&t.endSide>0&&(this.covering=e)}addLineDeco(e,t,i){let s=this.ensureLine();s.length+=i,s.collapsed+=i,s.widgetHeight=Math.max(s.widgetHeight,e),s.breaks+=t,this.writtenTo=this.pos=this.pos+i}finish(e){let t=this.nodes.length==0?null:this.nodes[this.nodes.length-1];this.lineStart>-1&&!(t instanceof kn)&&!this.isCovered?this.nodes.push(new kn(0,-1,0)):(this.writtenTo<this.pos||t==null)&&this.nodes.push(this.blankContent(this.writtenTo,this.pos));let i=e;for(let s of this.nodes)s instanceof kn&&s.updateHeight(this.oracle,i),i+=s?s.length:1;return this.nodes}static build(e,t,i,s){let a=new xg(i,e);return Re.spans(t,i,s,a,0),a.finish(i)}}function y5(n,e,t){let i=new b5;return Re.compare(n,e,t,i,0),i.changes}class b5{constructor(){this.changes=[]}compareRange(){}comparePoint(e,t,i,s){(e<t||i&&i.heightRelevant||s&&s.heightRelevant)&&xr(e,t,this.changes,5)}}function x5(n,e){let t=n.getBoundingClientRect(),i=n.ownerDocument,s=i.defaultView||window,a=Math.max(0,t.left),o=Math.min(s.innerWidth,t.right),u=Math.max(0,t.top),f=Math.min(s.innerHeight,t.bottom);for(let d=n.parentNode;d&&d!=i.body;)if(d.nodeType==1){let p=d,y=window.getComputedStyle(p);if((p.scrollHeight>p.clientHeight||p.scrollWidth>p.clientWidth)&&y.overflow!="visible"){let x=p.getBoundingClientRect();a=Math.max(a,x.left),o=Math.min(o,x.right),u=Math.max(u,x.top),f=Math.min(d==n.parentNode?s.innerHeight:f,x.bottom)}d=y.position=="absolute"||y.position=="fixed"?p.offsetParent:p.parentNode}else if(d.nodeType==11)d=d.host;else break;return{left:a-t.left,right:Math.max(a,o)-t.left,top:u-(t.top+e),bottom:Math.max(u,f)-(t.top+e)}}function v5(n){let e=n.getBoundingClientRect(),t=n.ownerDocument.defaultView||window;return e.left<t.innerWidth&&e.right>0&&e.top<t.innerHeight&&e.bottom>0}function S5(n,e){let t=n.getBoundingClientRect();return{left:0,right:t.right-t.left,top:e,bottom:t.bottom-(t.top+e)}}class dm{constructor(e,t,i,s){this.from=e,this.to=t,this.size=i,this.displaySize=s}static same(e,t){if(e.length!=t.length)return!1;for(let i=0;i<e.length;i++){let s=e[i],a=t[i];if(s.from!=a.from||s.to!=a.to||s.size!=a.size)return!1}return!0}draw(e,t){return Se.replace({widget:new w5(this.displaySize*(t?e.scaleY:e.scaleX),t)}).range(this.from,this.to)}}class w5 extends ki{constructor(e,t){super(),this.size=e,this.vertical=t}eq(e){return e.size==this.size&&e.vertical==this.vertical}toDOM(){let e=document.createElement("div");return this.vertical?e.style.height=this.size+"px":(e.style.width=this.size+"px",e.style.height="2px",e.style.display="inline-block"),e}get estimatedHeight(){return this.vertical?this.size:-1}}class Qx{constructor(e){this.state=e,this.pixelViewport={left:0,right:window.innerWidth,top:0,bottom:0},this.inView=!0,this.paddingTop=0,this.paddingBottom=0,this.contentDOMWidth=0,this.contentDOMHeight=0,this.editorHeight=0,this.editorWidth=0,this.scrollTop=0,this.scrolledToBottom=!1,this.scaleX=1,this.scaleY=1,this.scrollAnchorPos=0,this.scrollAnchorHeight=-1,this.scaler=Zx,this.scrollTarget=null,this.printing=!1,this.mustMeasureContent=!0,this.defaultTextDirection=Je.LTR,this.visibleRanges=[],this.mustEnforceCursorAssoc=!1;let t=e.facet(pg).some(i=>typeof i!="function"&&i.class=="cm-lineWrapping");this.heightOracle=new f5(t),this.stateDeco=$x(e),this.heightMap=Zt.empty().applyChanges(this.stateDeco,qe.empty,this.heightOracle.setDoc(e.doc),[new zn(0,0,0,e.doc.length)]);for(let i=0;i<2&&(this.viewport=this.getViewport(0,null),!!this.updateForViewport());i++);this.updateViewportLines(),this.lineGaps=this.ensureLineGaps([]),this.lineGapDeco=Se.set(this.lineGaps.map(i=>i.draw(this,!1))),this.computeVisibleRanges()}updateForViewport(){let e=[this.viewport],{main:t}=this.state.selection;for(let i=0;i<=1;i++){let s=i?t.head:t.anchor;if(!e.some(({from:a,to:o})=>s>=a&&s<=o)){let{from:a,to:o}=this.lineBlockAt(s);e.push(new cu(a,o))}}return this.viewports=e.sort((i,s)=>i.from-s.from),this.updateScaler()}updateScaler(){let e=this.scaler;return this.scaler=this.heightMap.height<=7e6?Zx:new vg(this.heightOracle,this.heightMap,this.viewports),e.eq(this.scaler)?0:2}updateViewportLines(){this.viewportLines=[],this.heightMap.forEachLine(this.viewport.from,this.viewport.to,this.heightOracle.setDoc(this.state.doc),0,0,e=>{this.viewportLines.push(Fa(e,this.scaler))})}update(e,t=null){this.state=e.state;let i=this.stateDeco;this.stateDeco=$x(this.state);let s=e.changedRanges,a=zn.extendWithRanges(s,y5(i,this.stateDeco,e?e.changes:Ct.empty(this.state.doc.length))),o=this.heightMap.height,u=this.scrolledToBottom?null:this.scrollAnchorAt(this.scrollTop);Wx(),this.heightMap=this.heightMap.applyChanges(this.stateDeco,e.startState.doc,this.heightOracle.setDoc(this.state.doc),a),(this.heightMap.height!=o||Nr)&&(e.flags|=2),u?(this.scrollAnchorPos=e.changes.mapPos(u.from,-1),this.scrollAnchorHeight=u.top):(this.scrollAnchorPos=-1,this.scrollAnchorHeight=o);let f=a.length?this.mapViewport(this.viewport,e.changes):this.viewport;(t&&(t.range.head<f.from||t.range.head>f.to)||!this.viewportIsAppropriate(f))&&(f=this.getViewport(0,t));let d=f.from!=this.viewport.from||f.to!=this.viewport.to;this.viewport=f,e.flags|=this.updateForViewport(),(d||!e.changes.empty||e.flags&2)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps,e.changes))),e.flags|=this.computeVisibleRanges(e.changes),t&&(this.scrollTarget=t),!this.mustEnforceCursorAssoc&&(e.selectionSet||e.focusChanged)&&e.view.lineWrapping&&e.state.selection.main.empty&&e.state.selection.main.assoc&&!e.state.facet(qS)&&(this.mustEnforceCursorAssoc=!0)}measure(e){let t=e.contentDOM,i=window.getComputedStyle(t),s=this.heightOracle,a=i.whiteSpace;this.defaultTextDirection=i.direction=="rtl"?Je.RTL:Je.LTR;let o=this.heightOracle.mustRefreshForWrapping(a)||this.mustMeasureContent==="refresh",u=t.getBoundingClientRect(),f=o||this.mustMeasureContent||this.contentDOMHeight!=u.height;this.contentDOMHeight=u.height,this.mustMeasureContent=!1;let d=0,p=0;if(u.width&&u.height){let{scaleX:q,scaleY:B}=CS(t,u);(q>.005&&Math.abs(this.scaleX-q)>.005||B>.005&&Math.abs(this.scaleY-B)>.005)&&(this.scaleX=q,this.scaleY=B,d|=16,o=f=!0)}let y=(parseInt(i.paddingTop)||0)*this.scaleY,x=(parseInt(i.paddingBottom)||0)*this.scaleY;(this.paddingTop!=y||this.paddingBottom!=x)&&(this.paddingTop=y,this.paddingBottom=x,d|=18),this.editorWidth!=e.scrollDOM.clientWidth&&(s.lineWrapping&&(f=!0),this.editorWidth=e.scrollDOM.clientWidth,d|=16);let S=e.scrollDOM.scrollTop*this.scaleY;this.scrollTop!=S&&(this.scrollAnchorHeight=-1,this.scrollTop=S),this.scrolledToBottom=MS(e.scrollDOM);let w=(this.printing?S5:x5)(t,this.paddingTop),A=w.top-this.pixelViewport.top,C=w.bottom-this.pixelViewport.bottom;this.pixelViewport=w;let T=this.pixelViewport.bottom>this.pixelViewport.top&&this.pixelViewport.right>this.pixelViewport.left;if(T!=this.inView&&(this.inView=T,T&&(f=!0)),!this.inView&&!this.scrollTarget&&!v5(e.dom))return 0;let j=u.width;if((this.contentDOMWidth!=j||this.editorHeight!=e.scrollDOM.clientHeight)&&(this.contentDOMWidth=u.width,this.editorHeight=e.scrollDOM.clientHeight,d|=16),f){let q=e.docView.measureVisibleLineHeights(this.viewport);if(s.mustRefreshForHeights(q)&&(o=!0),o||s.lineWrapping&&Math.abs(j-this.contentDOMWidth)>s.charWidth){let{lineHeight:B,charWidth:G,textHeight:V}=e.docView.measureTextSize();o=B>0&&s.refresh(a,B,G,V,Math.max(5,j/G),q),o&&(e.docView.minWidth=0,d|=16)}A>0&&C>0?p=Math.max(A,C):A<0&&C<0&&(p=Math.min(A,C)),Wx();for(let B of this.viewports){let G=B.from==this.viewport.from?q:e.docView.measureVisibleLineHeights(B);this.heightMap=(o?Zt.empty().applyChanges(this.stateDeco,qe.empty,this.heightOracle,[new zn(0,0,0,e.state.doc.length)]):this.heightMap).updateHeight(s,0,o,new d5(B.from,G))}Nr&&(d|=2)}let N=!this.viewportIsAppropriate(this.viewport,p)||this.scrollTarget&&(this.scrollTarget.range.head<this.viewport.from||this.scrollTarget.range.head>this.viewport.to);return N&&(d&2&&(d|=this.updateScaler()),this.viewport=this.getViewport(p,this.scrollTarget),d|=this.updateForViewport()),(d&2||N)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(o?[]:this.lineGaps,e)),d|=this.computeVisibleRanges(),this.mustEnforceCursorAssoc&&(this.mustEnforceCursorAssoc=!1,e.docView.enforceCursorAssoc()),d}get visibleTop(){return this.scaler.fromDOM(this.pixelViewport.top)}get visibleBottom(){return this.scaler.fromDOM(this.pixelViewport.bottom)}getViewport(e,t){let i=.5-Math.max(-.5,Math.min(.5,e/1e3/2)),s=this.heightMap,a=this.heightOracle,{visibleTop:o,visibleBottom:u}=this,f=new cu(s.lineAt(o-i*1e3,tt.ByHeight,a,0,0).from,s.lineAt(u+(1-i)*1e3,tt.ByHeight,a,0,0).to);if(t){let{head:d}=t.range;if(d<f.from||d>f.to){let p=Math.min(this.editorHeight,this.pixelViewport.bottom-this.pixelViewport.top),y=s.lineAt(d,tt.ByPos,a,0,0),x;t.y=="center"?x=(y.top+y.bottom)/2-p/2:t.y=="start"||t.y=="nearest"&&d<f.from?x=y.top:x=y.bottom-p,f=new cu(s.lineAt(x-1e3/2,tt.ByHeight,a,0,0).from,s.lineAt(x+p+1e3/2,tt.ByHeight,a,0,0).to)}}return f}mapViewport(e,t){let i=t.mapPos(e.from,-1),s=t.mapPos(e.to,1);return new cu(this.heightMap.lineAt(i,tt.ByPos,this.heightOracle,0,0).from,this.heightMap.lineAt(s,tt.ByPos,this.heightOracle,0,0).to)}viewportIsAppropriate({from:e,to:t},i=0){if(!this.inView)return!0;let{top:s}=this.heightMap.lineAt(e,tt.ByPos,this.heightOracle,0,0),{bottom:a}=this.heightMap.lineAt(t,tt.ByPos,this.heightOracle,0,0),{visibleTop:o,visibleBottom:u}=this;return(e==0||s<=o-Math.max(10,Math.min(-i,250)))&&(t==this.state.doc.length||a>=u+Math.max(10,Math.min(i,250)))&&s>o-2*1e3&&a<u+2*1e3}mapLineGaps(e,t){if(!e.length||t.empty)return e;let i=[];for(let s of e)t.touchesRange(s.from,s.to)||i.push(new dm(t.mapPos(s.from),t.mapPos(s.to),s.size,s.displaySize));return i}ensureLineGaps(e,t){let i=this.heightOracle.lineWrapping,s=i?1e4:2e3,a=s>>1,o=s<<1;if(this.defaultTextDirection!=Je.LTR&&!i)return[];let u=[],f=(p,y,x,S)=>{if(y-p<a)return;let w=this.state.selection.main,A=[w.from];w.empty||A.push(w.to);for(let T of A)if(T>p&&T<y){f(p,T-10,x,S),f(T+10,y,x,S);return}let C=C5(e,T=>T.from>=x.from&&T.to<=x.to&&Math.abs(T.from-p)<a&&Math.abs(T.to-y)<a&&!A.some(j=>T.from<j&&T.to>j));if(!C){if(y<x.to&&t&&i&&t.visibleRanges.some(N=>N.from<=y&&N.to>=y)){let N=t.moveToLineBoundary(X.cursor(y),!1,!0).head;N>p&&(y=N)}let T=this.gapSize(x,p,y,S),j=i||T<2e6?T:2e6;C=new dm(p,y,T,j)}u.push(C)},d=p=>{if(p.length<o||p.type!=qt.Text)return;let y=k5(p.from,p.to,this.stateDeco);if(y.total<o)return;let x=this.scrollTarget?this.scrollTarget.range.head:null,S,w;if(i){let A=s/this.heightOracle.lineLength*this.heightOracle.lineHeight,C,T;if(x!=null){let j=hu(y,x),N=((this.visibleBottom-this.visibleTop)/2+A)/p.height;C=j-N,T=j+N}else C=(this.visibleTop-p.top-A)/p.height,T=(this.visibleBottom-p.top+A)/p.height;S=uu(y,C),w=uu(y,T)}else{let A=y.total*this.heightOracle.charWidth,C=s*this.heightOracle.charWidth,T=0;if(A>2e6)for(let G of e)G.from>=p.from&&G.from<p.to&&G.size!=G.displaySize&&G.from*this.heightOracle.charWidth+T<this.pixelViewport.left&&(T=G.size-G.displaySize);let j=this.pixelViewport.left+T,N=this.pixelViewport.right+T,q,B;if(x!=null){let G=hu(y,x),V=((N-j)/2+C)/A;q=G-V,B=G+V}else q=(j-C)/A,B=(N+C)/A;S=uu(y,q),w=uu(y,B)}S>p.from&&f(p.from,S,p,y),w<p.to&&f(w,p.to,p,y)};for(let p of this.viewportLines)Array.isArray(p.type)?p.type.forEach(d):d(p);return u}gapSize(e,t,i,s){let a=hu(s,i)-hu(s,t);return this.heightOracle.lineWrapping?e.height*a:s.total*this.heightOracle.charWidth*a}updateLineGaps(e){dm.same(e,this.lineGaps)||(this.lineGaps=e,this.lineGapDeco=Se.set(e.map(t=>t.draw(this,this.heightOracle.lineWrapping))))}computeVisibleRanges(e){let t=this.stateDeco;this.lineGaps.length&&(t=t.concat(this.lineGapDeco));let i=[];Re.spans(t,this.viewport.from,this.viewport.to,{span(a,o){i.push({from:a,to:o})},point(){}},20);let s=0;if(i.length!=this.visibleRanges.length)s=12;else for(let a=0;a<i.length&&!(s&8);a++){let o=this.visibleRanges[a],u=i[a];(o.from!=u.from||o.to!=u.to)&&(s|=4,e&&e.mapPos(o.from,-1)==u.from&&e.mapPos(o.to,1)==u.to||(s|=8))}return this.visibleRanges=i,s}lineBlockAt(e){return e>=this.viewport.from&&e<=this.viewport.to&&this.viewportLines.find(t=>t.from<=e&&t.to>=e)||Fa(this.heightMap.lineAt(e,tt.ByPos,this.heightOracle,0,0),this.scaler)}lineBlockAtHeight(e){return e>=this.viewportLines[0].top&&e<=this.viewportLines[this.viewportLines.length-1].bottom&&this.viewportLines.find(t=>t.top<=e&&t.bottom>=e)||Fa(this.heightMap.lineAt(this.scaler.fromDOM(e),tt.ByHeight,this.heightOracle,0,0),this.scaler)}scrollAnchorAt(e){let t=this.lineBlockAtHeight(e+8);return t.from>=this.viewport.from||this.viewportLines[0].top-e>200?t:this.viewportLines[0]}elementAtHeight(e){return Fa(this.heightMap.blockAt(this.scaler.fromDOM(e),this.heightOracle,0,0),this.scaler)}get docHeight(){return this.scaler.toDOM(this.heightMap.height)}get contentHeight(){return this.docHeight+this.paddingTop+this.paddingBottom}}class cu{constructor(e,t){this.from=e,this.to=t}}function k5(n,e,t){let i=[],s=n,a=0;return Re.spans(t,n,e,{span(){},point(o,u){o>s&&(i.push({from:s,to:o}),a+=o-s),s=u}},20),s<e&&(i.push({from:s,to:e}),a+=e-s),{total:a,ranges:i}}function uu({total:n,ranges:e},t){if(t<=0)return e[0].from;if(t>=1)return e[e.length-1].to;let i=Math.floor(n*t);for(let s=0;;s++){let{from:a,to:o}=e[s],u=o-a;if(i<=u)return a+i;i-=u}}function hu(n,e){let t=0;for(let{from:i,to:s}of n.ranges){if(e<=s){t+=e-i;break}t+=s-i}return t/n.total}function C5(n,e){for(let t of n)if(e(t))return t}const Zx={toDOM(n){return n},fromDOM(n){return n},scale:1,eq(n){return n==this}};function $x(n){let e=n.facet(gh).filter(i=>typeof i!="function"),t=n.facet(gg).filter(i=>typeof i!="function");return t.length&&e.push(Re.join(t)),e}class vg{constructor(e,t,i){let s=0,a=0,o=0;this.viewports=i.map(({from:u,to:f})=>{let d=t.lineAt(u,tt.ByPos,e,0,0).top,p=t.lineAt(f,tt.ByPos,e,0,0).bottom;return s+=p-d,{from:u,to:f,top:d,bottom:p,domTop:0,domBottom:0}}),this.scale=(7e6-s)/(t.height-s);for(let u of this.viewports)u.domTop=o+(u.top-a)*this.scale,o=u.domBottom=u.domTop+(u.bottom-u.top),a=u.bottom}toDOM(e){for(let t=0,i=0,s=0;;t++){let a=t<this.viewports.length?this.viewports[t]:null;if(!a||e<a.top)return s+(e-i)*this.scale;if(e<=a.bottom)return a.domTop+(e-a.top);i=a.bottom,s=a.domBottom}}fromDOM(e){for(let t=0,i=0,s=0;;t++){let a=t<this.viewports.length?this.viewports[t]:null;if(!a||e<a.domTop)return i+(e-s)/this.scale;if(e<=a.domBottom)return a.top+(e-a.domTop);i=a.bottom,s=a.domBottom}}eq(e){return e instanceof vg?this.scale==e.scale&&this.viewports.length==e.viewports.length&&this.viewports.every((t,i)=>t.from==e.viewports[i].from&&t.to==e.viewports[i].to):!1}}function Fa(n,e){if(e.scale==1)return n;let t=e.toDOM(n.top),i=e.toDOM(n.bottom);return new In(n.from,n.length,t,i-t,Array.isArray(n._content)?n._content.map(s=>Fa(s,e)):n._content)}const fu=ce.define({combine:n=>n.join(" ")}),xp=ce.define({combine:n=>n.indexOf(!0)>-1}),vp=Rl.newName(),cw=Rl.newName(),uw=Rl.newName(),hw={"&light":"."+cw,"&dark":"."+uw};function Sp(n,e,t){return new Rl(e,{finish(i){return/&/.test(i)?i.replace(/&\w*/,s=>{if(s=="&")return n;if(!t||!t[s])throw new RangeError(`Unsupported selector: ${s}`);return t[s]}):n+" "+i}})}const A5=Sp("."+vp,{"&":{position:"relative !important",boxSizing:"border-box","&.cm-focused":{outline:"1px dotted #212121"},display:"flex !important",flexDirection:"column"},".cm-scroller":{display:"flex !important",alignItems:"flex-start !important",fontFamily:"monospace",lineHeight:1.4,height:"100%",overflowX:"auto",position:"relative",zIndex:0,overflowAnchor:"none"},".cm-content":{margin:0,flexGrow:2,flexShrink:0,display:"block",whiteSpace:"pre",wordWrap:"normal",boxSizing:"border-box",minHeight:"100%",padding:"4px 0",outline:"none","&[contenteditable=true]":{WebkitUserModify:"read-write-plaintext-only"}},".cm-lineWrapping":{whiteSpace_fallback:"pre-wrap",whiteSpace:"break-spaces",wordBreak:"break-word",overflowWrap:"anywhere",flexShrink:1},"&light .cm-content":{caretColor:"black"},"&dark .cm-content":{caretColor:"white"},".cm-line":{display:"block",padding:"0 2px 0 6px"},".cm-layer":{position:"absolute",left:0,top:0,contain:"size style","& > *":{position:"absolute"}},"&light .cm-selectionBackground":{background:"#d9d9d9"},"&dark .cm-selectionBackground":{background:"#222"},"&light.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#d7d4f0"},"&dark.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#233"},".cm-cursorLayer":{pointerEvents:"none"},"&.cm-focused > .cm-scroller > .cm-cursorLayer":{animation:"steps(1) cm-blink 1.2s infinite"},"@keyframes cm-blink":{"0%":{},"50%":{opacity:0},"100%":{}},"@keyframes cm-blink2":{"0%":{},"50%":{opacity:0},"100%":{}},".cm-cursor, .cm-dropCursor":{borderLeft:"1.2px solid black",marginLeft:"-0.6px",pointerEvents:"none"},".cm-cursor":{display:"none"},"&dark .cm-cursor":{borderLeftColor:"#ddd"},".cm-dropCursor":{position:"absolute"},"&.cm-focused > .cm-scroller > .cm-cursorLayer .cm-cursor":{display:"block"},".cm-iso":{unicodeBidi:"isolate"},".cm-announced":{position:"fixed",top:"-10000px"},"@media print":{".cm-announced":{display:"none"}},"&light .cm-activeLine":{backgroundColor:"#cceeff44"},"&dark .cm-activeLine":{backgroundColor:"#99eeff33"},"&light .cm-specialChar":{color:"red"},"&dark .cm-specialChar":{color:"#f78"},".cm-gutters":{flexShrink:0,display:"flex",height:"100%",boxSizing:"border-box",zIndex:200},".cm-gutters-before":{insetInlineStart:0},".cm-gutters-after":{insetInlineEnd:0},"&light .cm-gutters":{backgroundColor:"#f5f5f5",color:"#6c6c6c",border:"0px solid #ddd","&.cm-gutters-before":{borderRightWidth:"1px"},"&.cm-gutters-after":{borderLeftWidth:"1px"}},"&dark .cm-gutters":{backgroundColor:"#333338",color:"#ccc"},".cm-gutter":{display:"flex !important",flexDirection:"column",flexShrink:0,boxSizing:"border-box",minHeight:"100%",overflow:"hidden"},".cm-gutterElement":{boxSizing:"border-box"},".cm-lineNumbers .cm-gutterElement":{padding:"0 3px 0 5px",minWidth:"20px",textAlign:"right",whiteSpace:"nowrap"},"&light .cm-activeLineGutter":{backgroundColor:"#e2f2ff"},"&dark .cm-activeLineGutter":{backgroundColor:"#222227"},".cm-panels":{boxSizing:"border-box",position:"sticky",left:0,right:0,zIndex:300},"&light .cm-panels":{backgroundColor:"#f5f5f5",color:"black"},"&light .cm-panels-top":{borderBottom:"1px solid #ddd"},"&light .cm-panels-bottom":{borderTop:"1px solid #ddd"},"&dark .cm-panels":{backgroundColor:"#333338",color:"white"},".cm-dialog":{padding:"2px 19px 4px 6px",position:"relative","& label":{fontSize:"80%"}},".cm-dialog-close":{position:"absolute",top:"3px",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",fontSize:"14px",padding:"0"},".cm-tab":{display:"inline-block",overflow:"hidden",verticalAlign:"bottom"},".cm-widgetBuffer":{verticalAlign:"text-top",height:"1em",width:0,display:"inline"},".cm-placeholder":{color:"#888",display:"inline-block",verticalAlign:"top",userSelect:"none"},".cm-highlightSpace":{backgroundImage:"radial-gradient(circle at 50% 55%, #aaa 20%, transparent 5%)",backgroundPosition:"center"},".cm-highlightTab":{backgroundImage:`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="200" height="20"><path stroke="%23888" stroke-width="1" fill="none" d="M1 10H196L190 5M190 15L196 10M197 4L197 16"/></svg>')`,backgroundSize:"auto 100%",backgroundPosition:"right 90%",backgroundRepeat:"no-repeat"},".cm-trailingSpace":{backgroundColor:"#ff332255"},".cm-button":{verticalAlign:"middle",color:"inherit",fontSize:"70%",padding:".2em 1em",borderRadius:"1px"},"&light .cm-button":{backgroundImage:"linear-gradient(#eff1f5, #d9d9df)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#b4b4b4, #d0d3d6)"}},"&dark .cm-button":{backgroundImage:"linear-gradient(#393939, #111)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#111, #333)"}},".cm-textfield":{verticalAlign:"middle",color:"inherit",fontSize:"70%",border:"1px solid silver",padding:".2em .5em"},"&light .cm-textfield":{backgroundColor:"white"},"&dark .cm-textfield":{border:"1px solid #555",backgroundColor:"inherit"}},hw),M5={childList:!0,characterData:!0,subtree:!0,attributes:!0,characterDataOldValue:!0},mm=oe.ie&&oe.ie_version<=11;class T5{constructor(e){this.view=e,this.active=!1,this.editContext=null,this.selectionRange=new iN,this.selectionChanged=!1,this.delayedFlush=-1,this.resizeTimeout=-1,this.queue=[],this.delayedAndroidKey=null,this.flushingAndroidKey=-1,this.lastChange=0,this.scrollTargets=[],this.intersection=null,this.resizeScroll=null,this.intersecting=!1,this.gapIntersection=null,this.gaps=[],this.printQuery=null,this.parentCheck=-1,this.dom=e.contentDOM,this.observer=new MutationObserver(t=>{for(let i of t)this.queue.push(i);(oe.ie&&oe.ie_version<=11||oe.ios&&e.composing)&&t.some(i=>i.type=="childList"&&i.removedNodes.length||i.type=="characterData"&&i.oldValue.length>i.target.nodeValue.length)?this.flushSoon():this.flush()}),window.EditContext&&oe.android&&e.constructor.EDIT_CONTEXT!==!1&&!(oe.chrome&&oe.chrome_version<126)&&(this.editContext=new N5(e),e.state.facet(Pi)&&(e.contentDOM.editContext=this.editContext.editContext)),mm&&(this.onCharData=t=>{this.queue.push({target:t.target,type:"characterData",oldValue:t.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),this.onResize=this.onResize.bind(this),this.onPrint=this.onPrint.bind(this),this.onScroll=this.onScroll.bind(this),window.matchMedia&&(this.printQuery=window.matchMedia("print")),typeof ResizeObserver=="function"&&(this.resizeScroll=new ResizeObserver(()=>{var t;((t=this.view.docView)===null||t===void 0?void 0:t.lastUpdate)<Date.now()-75&&this.onResize()}),this.resizeScroll.observe(e.scrollDOM)),this.addWindowListeners(this.win=e.win),this.start(),typeof IntersectionObserver=="function"&&(this.intersection=new IntersectionObserver(t=>{this.parentCheck<0&&(this.parentCheck=setTimeout(this.listenForScroll.bind(this),1e3)),t.length>0&&t[t.length-1].intersectionRatio>0!=this.intersecting&&(this.intersecting=!this.intersecting,this.intersecting!=this.view.inView&&this.onScrollChanged(document.createEvent("Event")))},{threshold:[0,.001]}),this.intersection.observe(this.dom),this.gapIntersection=new IntersectionObserver(t=>{t.length>0&&t[t.length-1].intersectionRatio>0&&this.onScrollChanged(document.createEvent("Event"))},{})),this.listenForScroll(),this.readSelectionRange()}onScrollChanged(e){this.view.inputState.runHandlers("scroll",e),this.intersecting&&this.view.measure()}onScroll(e){this.intersecting&&this.flush(!1),this.editContext&&this.view.requestMeasure(this.editContext.measureReq),this.onScrollChanged(e)}onResize(){this.resizeTimeout<0&&(this.resizeTimeout=setTimeout(()=>{this.resizeTimeout=-1,this.view.requestMeasure()},50))}onPrint(e){(e.type=="change"||!e.type)&&!e.matches||(this.view.viewState.printing=!0,this.view.measure(),setTimeout(()=>{this.view.viewState.printing=!1,this.view.requestMeasure()},500))}updateGaps(e){if(this.gapIntersection&&(e.length!=this.gaps.length||this.gaps.some((t,i)=>t!=e[i]))){this.gapIntersection.disconnect();for(let t of e)this.gapIntersection.observe(t);this.gaps=e}}onSelectionChange(e){let t=this.selectionChanged;if(!this.readSelectionRange()||this.delayedAndroidKey)return;let{view:i}=this,s=this.selectionRange;if(i.state.facet(Pi)?i.root.activeElement!=this.dom:!$a(this.dom,s))return;let a=s.anchorNode&&i.docView.tile.nearest(s.anchorNode);if(a&&a.isWidget()&&a.widget.ignoreEvent(e)){t||(this.selectionChanged=!1);return}(oe.ie&&oe.ie_version<=11||oe.android&&oe.chrome)&&!i.state.selection.main.empty&&s.focusNode&&eo(s.focusNode,s.focusOffset,s.anchorNode,s.anchorOffset)?this.flushSoon():this.flush(!1)}readSelectionRange(){let{view:e}=this,t=ho(e.root);if(!t)return!1;let i=oe.safari&&e.root.nodeType==11&&e.root.activeElement==this.dom&&E5(this.view,t)||t;if(!i||this.selectionRange.eq(i))return!1;let s=$a(this.dom,i);return s&&!this.selectionChanged&&e.inputState.lastFocusTime>Date.now()-200&&e.inputState.lastTouchTime<Date.now()-300&&sN(this.dom,i)?(this.view.inputState.lastFocusTime=0,e.docView.updateSelection(),!1):(this.selectionRange.setRange(i),s&&(this.selectionChanged=!0),!0)}setSelectionRange(e,t){this.selectionRange.set(e.node,e.offset,t.node,t.offset),this.selectionChanged=!1}clearSelectionRange(){this.selectionRange.set(null,0,null,0)}listenForScroll(){this.parentCheck=-1;let e=0,t=null;for(let i=this.dom;i;)if(i.nodeType==1)!t&&e<this.scrollTargets.length&&this.scrollTargets[e]==i?e++:t||(t=this.scrollTargets.slice(0,e)),t&&t.push(i),i=i.assignedSlot||i.parentNode;else if(i.nodeType==11)i=i.host;else break;if(e<this.scrollTargets.length&&!t&&(t=this.scrollTargets.slice(0,e)),t){for(let i of this.scrollTargets)i.removeEventListener("scroll",this.onScroll);for(let i of this.scrollTargets=t)i.addEventListener("scroll",this.onScroll)}}ignore(e){if(!this.active)return e();try{return this.stop(),e()}finally{this.start(),this.clear()}}start(){this.active||(this.observer.observe(this.dom,M5),mm&&this.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.active=!0)}stop(){this.active&&(this.active=!1,this.observer.disconnect(),mm&&this.dom.removeEventListener("DOMCharacterDataModified",this.onCharData))}clear(){this.processRecords(),this.queue.length=0,this.selectionChanged=!1}delayAndroidKey(e,t){var i;if(!this.delayedAndroidKey){let s=()=>{let a=this.delayedAndroidKey;a&&(this.clearDelayedAndroidKey(),this.view.inputState.lastKeyCode=a.keyCode,this.view.inputState.lastKeyTime=Date.now(),!this.flush()&&a.force&&vr(this.dom,a.key,a.keyCode))};this.flushingAndroidKey=this.view.win.requestAnimationFrame(s)}(!this.delayedAndroidKey||e=="Enter")&&(this.delayedAndroidKey={key:e,keyCode:t,force:this.lastChange<Date.now()-50||!!(!((i=this.delayedAndroidKey)===null||i===void 0)&&i.force)})}clearDelayedAndroidKey(){this.win.cancelAnimationFrame(this.flushingAndroidKey),this.delayedAndroidKey=null,this.flushingAndroidKey=-1}flushSoon(){this.delayedFlush<0&&(this.delayedFlush=this.view.win.requestAnimationFrame(()=>{this.delayedFlush=-1,this.flush()}))}forceFlush(){this.delayedFlush>=0&&(this.view.win.cancelAnimationFrame(this.delayedFlush),this.delayedFlush=-1),this.flush()}pendingRecords(){for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}processRecords(){let e=this.pendingRecords();e.length&&(this.queue=[]);let t=-1,i=-1,s=!1;for(let a of e){let o=this.readMutation(a);o&&(o.typeOver&&(s=!0),t==-1?{from:t,to:i}=o:(t=Math.min(o.from,t),i=Math.max(o.to,i)))}return{from:t,to:i,typeOver:s}}readChange(){let{from:e,to:t,typeOver:i}=this.processRecords(),s=this.selectionChanged&&$a(this.dom,this.selectionRange);if(e<0&&!s)return null;e>-1&&(this.lastChange=Date.now()),this.view.inputState.lastFocusTime=0,this.selectionChanged=!1;let a=new IN(this.view,e,t,i);return this.view.docView.domChanged={newSel:a.newSel?a.newSel.main:null},a}flush(e=!0){if(this.delayedFlush>=0||this.delayedAndroidKey)return!1;e&&this.readSelectionRange();let t=this.readChange();if(!t)return this.view.requestMeasure(),!1;let i=this.view.state,s=$S(this.view,t);return this.view.state==i&&(t.domChanged||t.newSel&&!Fu(this.view.state.selection,t.newSel.main))&&this.view.update([]),s}readMutation(e){let t=this.view.docView.tile.nearest(e.target);if(!t||t.isWidget())return null;if(t.markDirty(e.type=="attributes"),e.type=="childList"){let i=Jx(t,e.previousSibling||e.target.previousSibling,-1),s=Jx(t,e.nextSibling||e.target.nextSibling,1);return{from:i?t.posAfter(i):t.posAtStart,to:s?t.posBefore(s):t.posAtEnd,typeOver:!1}}else return e.type=="characterData"?{from:t.posAtStart,to:t.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}:null}setWindow(e){e!=this.win&&(this.removeWindowListeners(this.win),this.win=e,this.addWindowListeners(this.win))}addWindowListeners(e){e.addEventListener("resize",this.onResize),this.printQuery?this.printQuery.addEventListener?this.printQuery.addEventListener("change",this.onPrint):this.printQuery.addListener(this.onPrint):e.addEventListener("beforeprint",this.onPrint),e.addEventListener("scroll",this.onScroll),e.document.addEventListener("selectionchange",this.onSelectionChange)}removeWindowListeners(e){e.removeEventListener("scroll",this.onScroll),e.removeEventListener("resize",this.onResize),this.printQuery?this.printQuery.removeEventListener?this.printQuery.removeEventListener("change",this.onPrint):this.printQuery.removeListener(this.onPrint):e.removeEventListener("beforeprint",this.onPrint),e.document.removeEventListener("selectionchange",this.onSelectionChange)}update(e){this.editContext&&(this.editContext.update(e),e.startState.facet(Pi)!=e.state.facet(Pi)&&(e.view.contentDOM.editContext=e.state.facet(Pi)?this.editContext.editContext:null))}destroy(){var e,t,i;this.stop(),(e=this.intersection)===null||e===void 0||e.disconnect(),(t=this.gapIntersection)===null||t===void 0||t.disconnect(),(i=this.resizeScroll)===null||i===void 0||i.disconnect();for(let s of this.scrollTargets)s.removeEventListener("scroll",this.onScroll);this.removeWindowListeners(this.win),clearTimeout(this.parentCheck),clearTimeout(this.resizeTimeout),this.win.cancelAnimationFrame(this.delayedFlush),this.win.cancelAnimationFrame(this.flushingAndroidKey),this.editContext&&(this.view.contentDOM.editContext=null,this.editContext.destroy())}}function Jx(n,e,t){for(;e;){let i=St.get(e);if(i&&i.parent==n)return i;let s=e.parentNode;e=s!=n.dom?s:t>0?e.nextSibling:e.previousSibling}return null}function ev(n,e){let t=e.startContainer,i=e.startOffset,s=e.endContainer,a=e.endOffset,o=n.docView.domAtPos(n.state.selection.main.anchor,1);return eo(o.node,o.offset,s,a)&&([t,i,s,a]=[s,a,t,i]),{anchorNode:t,anchorOffset:i,focusNode:s,focusOffset:a}}function E5(n,e){if(e.getComposedRanges){let s=e.getComposedRanges(n.root)[0];if(s)return ev(n,s)}let t=null;function i(s){s.preventDefault(),s.stopImmediatePropagation(),t=s.getTargetRanges()[0]}return n.contentDOM.addEventListener("beforeinput",i,!0),n.dom.ownerDocument.execCommand("indent"),n.contentDOM.removeEventListener("beforeinput",i,!0),t?ev(n,t):null}class N5{constructor(e){this.from=0,this.to=0,this.pendingContextChange=null,this.handlers=Object.create(null),this.composing=null,this.resetRange(e.state);let t=this.editContext=new window.EditContext({text:e.state.doc.sliceString(this.from,this.to),selectionStart:this.toContextPos(Math.max(this.from,Math.min(this.to,e.state.selection.main.anchor))),selectionEnd:this.toContextPos(e.state.selection.main.head)});this.handlers.textupdate=i=>{let s=e.state.selection.main,{anchor:a,head:o}=s,u=this.toEditorPos(i.updateRangeStart),f=this.toEditorPos(i.updateRangeEnd);e.inputState.composing>=0&&!this.composing&&(this.composing={contextBase:i.updateRangeStart,editorBase:u,drifted:!1});let d=f-u>i.text.length;u==this.from&&a<this.from?u=a:f==this.to&&a>this.to&&(f=a);let p=JS(e.state.sliceDoc(u,f),i.text,(d?s.from:s.to)-u,d?"end":null);if(!p){let x=X.single(this.toEditorPos(i.selectionStart),this.toEditorPos(i.selectionEnd));Fu(x,s)||e.dispatch({selection:x,userEvent:"select"});return}let y={from:p.from+u,to:p.toA+u,insert:qe.of(i.text.slice(p.from,p.toB).split(`
`))};if((oe.mac||oe.android)&&y.from==o-1&&/^\. ?$/.test(i.text)&&e.contentDOM.getAttribute("autocorrect")=="off"&&(y={from:u,to:f,insert:qe.of([i.text.replace("."," ")])}),this.pendingContextChange=y,!e.state.readOnly){let x=this.to-this.from+(y.to-y.from+y.insert.length);bg(e,y,X.single(this.toEditorPos(i.selectionStart,x),this.toEditorPos(i.selectionEnd,x)))}this.pendingContextChange&&(this.revertPending(e.state),this.setSelection(e.state)),y.from<y.to&&!y.insert.length&&e.inputState.composing>=0&&!/[\\p{Alphabetic}\\p{Number}_]/.test(t.text.slice(Math.max(0,i.updateRangeStart-1),Math.min(t.text.length,i.updateRangeStart+1)))&&this.handlers.compositionend(i)},this.handlers.characterboundsupdate=i=>{let s=[],a=null;for(let o=this.toEditorPos(i.rangeStart),u=this.toEditorPos(i.rangeEnd);o<u;o++){let f=e.coordsForChar(o);a=f&&new DOMRect(f.left,f.top,f.right-f.left,f.bottom-f.top)||a||new DOMRect,s.push(a)}t.updateCharacterBounds(i.rangeStart,s)},this.handlers.textformatupdate=i=>{let s=[];for(let a of i.getTextFormats()){let o=a.underlineStyle,u=a.underlineThickness;if(!/none/i.test(o)&&!/none/i.test(u)){let f=this.toEditorPos(a.rangeStart),d=this.toEditorPos(a.rangeEnd);if(f<d){let p=`text-decoration: underline ${/^[a-z]/.test(o)?o+" ":o=="Dashed"?"dashed ":o=="Squiggle"?"wavy ":""}${/thin/i.test(u)?1:2}px`;s.push(Se.mark({attributes:{style:p}}).range(f,d))}}}e.dispatch({effects:KS.of(Se.set(s))})},this.handlers.compositionstart=()=>{e.inputState.composing<0&&(e.inputState.composing=0,e.inputState.compositionFirstChange=!0)},this.handlers.compositionend=()=>{if(e.inputState.composing=-1,e.inputState.compositionFirstChange=null,this.composing){let{drifted:i}=this.composing;this.composing=null,i&&this.reset(e.state)}};for(let i in this.handlers)t.addEventListener(i,this.handlers[i]);this.measureReq={read:i=>{this.editContext.updateControlBounds(i.contentDOM.getBoundingClientRect());let s=ho(i.root);s&&s.rangeCount&&this.editContext.updateSelectionBounds(s.getRangeAt(0).getBoundingClientRect())}}}applyEdits(e){let t=0,i=!1,s=this.pendingContextChange;return e.changes.iterChanges((a,o,u,f,d)=>{if(i)return;let p=d.length-(o-a);if(s&&o>=s.to)if(s.from==a&&s.to==o&&s.insert.eq(d)){s=this.pendingContextChange=null,t+=p,this.to+=p;return}else s=null,this.revertPending(e.state);if(a+=t,o+=t,o<=this.from)this.from+=p,this.to+=p;else if(a<this.to){if(a<this.from||o>this.to||this.to-this.from+d.length>3e4){i=!0;return}this.editContext.updateText(this.toContextPos(a),this.toContextPos(o),d.toString()),this.to+=p}t+=p}),s&&!i&&this.revertPending(e.state),!i}update(e){let t=this.pendingContextChange,i=e.startState.selection.main;this.composing&&(this.composing.drifted||!e.changes.touchesRange(i.from,i.to)&&e.transactions.some(s=>!s.isUserEvent("input.type")&&s.changes.touchesRange(this.from,this.to)))?(this.composing.drifted=!0,this.composing.editorBase=e.changes.mapPos(this.composing.editorBase)):!this.applyEdits(e)||!this.rangeIsValid(e.state)?(this.pendingContextChange=null,this.reset(e.state)):(e.docChanged||e.selectionSet||t)&&this.setSelection(e.state),(e.geometryChanged||e.docChanged||e.selectionSet)&&e.view.requestMeasure(this.measureReq)}resetRange(e){let{head:t}=e.selection.main;this.from=Math.max(0,t-1e4),this.to=Math.min(e.doc.length,t+1e4)}reset(e){this.resetRange(e),this.editContext.updateText(0,this.editContext.text.length,e.doc.sliceString(this.from,this.to)),this.setSelection(e)}revertPending(e){let t=this.pendingContextChange;this.pendingContextChange=null,this.editContext.updateText(this.toContextPos(t.from),this.toContextPos(t.from+t.insert.length),e.doc.sliceString(t.from,t.to))}setSelection(e){let{main:t}=e.selection,i=this.toContextPos(Math.max(this.from,Math.min(this.to,t.anchor))),s=this.toContextPos(t.head);(this.editContext.selectionStart!=i||this.editContext.selectionEnd!=s)&&this.editContext.updateSelection(i,s)}rangeIsValid(e){let{head:t}=e.selection.main;return!(this.from>0&&t-this.from<500||this.to<e.doc.length&&this.to-t<500||this.to-this.from>1e4*3)}toEditorPos(e,t=this.to-this.from){e=Math.min(e,t);let i=this.composing;return i&&i.drifted?i.editorBase+(e-i.contextBase):e+this.from}toContextPos(e){let t=this.composing;return t&&t.drifted?t.contextBase+(e-t.editorBase):e-this.from}destroy(){for(let e in this.handlers)this.editContext.removeEventListener(e,this.handlers[e])}}class re{get state(){return this.viewState.state}get viewport(){return this.viewState.viewport}get visibleRanges(){return this.viewState.visibleRanges}get inView(){return this.viewState.inView}get composing(){return!!this.inputState&&this.inputState.composing>0}get compositionStarted(){return!!this.inputState&&this.inputState.composing>=0}get root(){return this._root}get win(){return this.dom.ownerDocument.defaultView||window}constructor(e={}){var t;this.plugins=[],this.pluginMap=new Map,this.editorAttrs={},this.contentAttrs={},this.bidiCache=[],this.destroyed=!1,this.updateState=2,this.measureScheduled=-1,this.measureRequests=[],this.contentDOM=document.createElement("div"),this.scrollDOM=document.createElement("div"),this.scrollDOM.tabIndex=-1,this.scrollDOM.className="cm-scroller",this.scrollDOM.appendChild(this.contentDOM),this.announceDOM=document.createElement("div"),this.announceDOM.className="cm-announced",this.announceDOM.setAttribute("aria-live","polite"),this.dom=document.createElement("div"),this.dom.appendChild(this.announceDOM),this.dom.appendChild(this.scrollDOM),e.parent&&e.parent.appendChild(this.dom);let{dispatch:i}=e;this.dispatchTransactions=e.dispatchTransactions||i&&(s=>s.forEach(a=>i(a,this)))||(s=>this.update(s)),this.dispatch=this.dispatch.bind(this),this._root=e.root||lN(e.parent)||document,this.viewState=new Qx(e.state||ze.create(e)),e.scrollTo&&e.scrollTo.is(ru)&&(this.viewState.scrollTarget=e.scrollTo.value.clip(this.viewState.state)),this.plugins=this.state.facet(dr).map(s=>new om(s));for(let s of this.plugins)s.update(this);this.observer=new T5(this),this.inputState=new QN(this),this.inputState.ensureHandlers(this.plugins),this.docView=new zx(this),this.mountStyles(),this.updateAttrs(),this.updateState=0,this.requestMeasure(),!((t=document.fonts)===null||t===void 0)&&t.ready&&document.fonts.ready.then(()=>{this.viewState.mustMeasureContent="refresh",this.requestMeasure()})}dispatch(...e){let t=e.length==1&&e[0]instanceof At?e:e.length==1&&Array.isArray(e[0])?e[0]:[this.state.update(...e)];this.dispatchTransactions(t,this)}update(e){if(this.updateState!=0)throw new Error("Calls to EditorView.update are not allowed while an update is in progress");let t=!1,i=!1,s,a=this.state;for(let x of e){if(x.startState!=a)throw new RangeError("Trying to update state with a transaction that doesn't start from the previous state.");a=x.state}if(this.destroyed){this.viewState.state=a;return}let o=this.hasFocus,u=0,f=null;e.some(x=>x.annotation(sw))?(this.inputState.notifiedFocused=o,u=1):o!=this.inputState.notifiedFocused&&(this.inputState.notifiedFocused=o,f=rw(a,o),f||(u=1));let d=this.observer.delayedAndroidKey,p=null;if(d?(this.observer.clearDelayedAndroidKey(),p=this.observer.readChange(),(p&&!this.state.doc.eq(a.doc)||!this.state.selection.eq(a.selection))&&(p=null)):this.observer.clear(),a.facet(ze.phrases)!=this.state.facet(ze.phrases))return this.setState(a);s=Yu.create(this,a,e),s.flags|=u;let y=this.viewState.scrollTarget;try{this.updateState=2;for(let x of e){if(y&&(y=y.map(x.changes)),x.scrollIntoView){let{main:S}=x.state.selection;y=new Sr(S.empty?S:X.cursor(S.head,S.head>S.anchor?-1:1))}for(let S of x.effects)S.is(ru)&&(y=S.value.clip(this.state))}this.viewState.update(s,y),this.bidiCache=Xu.update(this.bidiCache,s.changes),s.empty||(this.updatePlugins(s),this.inputState.update(s)),t=this.docView.update(s),this.state.facet(Ga)!=this.styleModules&&this.mountStyles(),i=this.updateAttrs(),this.showAnnouncements(e),this.docView.updateSelection(t,e.some(x=>x.isUserEvent("select.pointer")))}finally{this.updateState=0}if(s.startState.facet(fu)!=s.state.facet(fu)&&(this.viewState.mustMeasureContent=!0),(t||i||y||this.viewState.mustEnforceCursorAssoc||this.viewState.mustMeasureContent)&&this.requestMeasure(),t&&this.docViewUpdate(),!s.empty)for(let x of this.state.facet(mp))try{x(s)}catch(S){un(this.state,S,"update listener")}(f||p)&&Promise.resolve().then(()=>{f&&this.state==f.startState&&this.dispatch(f),p&&!$S(this,p)&&d.force&&vr(this.contentDOM,d.key,d.keyCode)})}setState(e){if(this.updateState!=0)throw new Error("Calls to EditorView.setState are not allowed while an update is in progress");if(this.destroyed){this.viewState.state=e;return}this.updateState=2;let t=this.hasFocus;try{for(let i of this.plugins)i.destroy(this);this.viewState=new Qx(e),this.plugins=e.facet(dr).map(i=>new om(i)),this.pluginMap.clear();for(let i of this.plugins)i.update(this);this.docView.destroy(),this.docView=new zx(this),this.inputState.ensureHandlers(this.plugins),this.mountStyles(),this.updateAttrs(),this.bidiCache=[]}finally{this.updateState=0}t&&this.focus(),this.requestMeasure()}updatePlugins(e){let t=e.startState.facet(dr),i=e.state.facet(dr);if(t!=i){let s=[];for(let a of i){let o=t.indexOf(a);if(o<0)s.push(new om(a));else{let u=this.plugins[o];u.mustUpdate=e,s.push(u)}}for(let a of this.plugins)a.mustUpdate!=e&&a.destroy(this);this.plugins=s,this.pluginMap.clear()}else for(let s of this.plugins)s.mustUpdate=e;for(let s=0;s<this.plugins.length;s++)this.plugins[s].update(this);t!=i&&this.inputState.ensureHandlers(this.plugins)}docViewUpdate(){for(let e of this.plugins){let t=e.value;if(t&&t.docViewUpdate)try{t.docViewUpdate(this)}catch(i){un(this.state,i,"doc view update listener")}}}measure(e=!0){if(this.destroyed)return;if(this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.observer.delayedAndroidKey){this.measureScheduled=-1,this.requestMeasure();return}this.measureScheduled=0,e&&this.observer.forceFlush();let t=null,i=this.scrollDOM,s=i.scrollTop*this.scaleY,{scrollAnchorPos:a,scrollAnchorHeight:o}=this.viewState;Math.abs(s-this.viewState.scrollTop)>1&&(o=-1),this.viewState.scrollAnchorHeight=-1;try{for(let u=0;;u++){if(o<0)if(MS(i))a=-1,o=this.viewState.heightMap.height;else{let S=this.viewState.scrollAnchorAt(s);a=S.from,o=S.top}this.updateState=1;let f=this.viewState.measure(this);if(!f&&!this.measureRequests.length&&this.viewState.scrollTarget==null)break;if(u>5){console.warn(this.measureRequests.length?"Measure loop restarted more than 5 times":"Viewport failed to stabilize");break}let d=[];f&4||([this.measureRequests,d]=[d,this.measureRequests]);let p=d.map(S=>{try{return S.read(this)}catch(w){return un(this.state,w),tv}}),y=Yu.create(this,this.state,[]),x=!1;y.flags|=f,t?t.flags|=f:t=y,this.updateState=2,y.empty||(this.updatePlugins(y),this.inputState.update(y),this.updateAttrs(),x=this.docView.update(y),x&&this.docViewUpdate());for(let S=0;S<d.length;S++)if(p[S]!=tv)try{let w=d[S];w.write&&w.write(p[S],this)}catch(w){un(this.state,w)}if(x&&this.docView.updateSelection(!0),!y.viewportChanged&&this.measureRequests.length==0){if(this.viewState.editorHeight)if(this.viewState.scrollTarget){this.docView.scrollIntoView(this.viewState.scrollTarget),this.viewState.scrollTarget=null,o=-1;continue}else{let w=(a<0?this.viewState.heightMap.height:this.viewState.lineBlockAt(a).top)-o;if(w>1||w<-1){s=s+w,i.scrollTop=s/this.scaleY,o=-1;continue}}break}}}finally{this.updateState=0,this.measureScheduled=-1}if(t&&!t.empty)for(let u of this.state.facet(mp))u(t)}get themeClasses(){return vp+" "+(this.state.facet(xp)?uw:cw)+" "+this.state.facet(fu)}updateAttrs(){let e=nv(this,YS,{class:"cm-editor"+(this.hasFocus?" cm-focused ":" ")+this.themeClasses}),t={spellcheck:"false",autocorrect:"off",autocapitalize:"off",writingsuggestions:"false",translate:"no",contenteditable:this.state.facet(Pi)?"true":"false",class:"cm-content",style:`${oe.tabSize}: ${this.state.tabSize}`,role:"textbox","aria-multiline":"true"};this.state.readOnly&&(t["aria-readonly"]="true"),nv(this,pg,t);let i=this.observer.ignore(()=>{let s=Ox(this.contentDOM,this.contentAttrs,t),a=Ox(this.dom,this.editorAttrs,e);return s||a});return this.editorAttrs=e,this.contentAttrs=t,i}showAnnouncements(e){let t=!0;for(let i of e)for(let s of i.effects)if(s.is(re.announce)){t&&(this.announceDOM.textContent=""),t=!1;let a=this.announceDOM.appendChild(document.createElement("div"));a.textContent=s.value}}mountStyles(){this.styleModules=this.state.facet(Ga);let e=this.state.facet(re.cspNonce);Rl.mount(this.root,this.styleModules.concat(A5).reverse(),e?{nonce:e}:void 0)}readMeasured(){if(this.updateState==2)throw new Error("Reading the editor layout isn't allowed during an update");this.updateState==0&&this.measureScheduled>-1&&this.measure(!1)}requestMeasure(e){if(this.measureScheduled<0&&(this.measureScheduled=this.win.requestAnimationFrame(()=>this.measure())),e){if(this.measureRequests.indexOf(e)>-1)return;if(e.key!=null){for(let t=0;t<this.measureRequests.length;t++)if(this.measureRequests[t].key===e.key){this.measureRequests[t]=e;return}}this.measureRequests.push(e)}}plugin(e){let t=this.pluginMap.get(e);return(t===void 0||t&&t.plugin!=e)&&this.pluginMap.set(e,t=this.plugins.find(i=>i.plugin==e)||null),t&&t.update(this).value}get documentTop(){return this.contentDOM.getBoundingClientRect().top+this.viewState.paddingTop}get documentPadding(){return{top:this.viewState.paddingTop,bottom:this.viewState.paddingBottom}}get scaleX(){return this.viewState.scaleX}get scaleY(){return this.viewState.scaleY}elementAtHeight(e){return this.readMeasured(),this.viewState.elementAtHeight(e)}lineBlockAtHeight(e){return this.readMeasured(),this.viewState.lineBlockAtHeight(e)}get viewportLineBlocks(){return this.viewState.viewportLines}lineBlockAt(e){return this.viewState.lineBlockAt(e)}get contentHeight(){return this.viewState.contentHeight}moveByChar(e,t,i){return fm(this,e,Hx(this,e,t,i))}moveByGroup(e,t){return fm(this,e,Hx(this,e,t,i=>UN(this,e.head,i)))}visualLineSide(e,t){let i=this.bidiSpans(e),s=this.textDirectionAt(e.from),a=i[t?i.length-1:0];return X.cursor(a.side(t,s)+e.from,a.forward(!t,s)?1:-1)}moveToLineBoundary(e,t,i=!0){return VN(this,e,t,i)}moveVertically(e,t,i){return fm(this,e,qN(this,e,t,i))}domAtPos(e,t=1){return this.docView.domAtPos(e,t)}posAtDOM(e,t=0){return this.docView.posFromDOM(e,t)}posAtCoords(e,t=!0){this.readMeasured();let i=yp(this,e,t);return i&&i.pos}posAndSideAtCoords(e,t=!0){return this.readMeasured(),yp(this,e,t)}coordsAtPos(e,t=1){this.readMeasured();let i=this.docView.coordsAt(e,t);if(!i||i.left==i.right)return i;let s=this.state.doc.lineAt(e),a=this.bidiSpans(s),o=a[gi.find(a,e-s.from,-1,t)];return fo(i,o.dir==Je.LTR==t>0)}coordsForChar(e){return this.readMeasured(),this.docView.coordsForChar(e)}get defaultCharacterWidth(){return this.viewState.heightOracle.charWidth}get defaultLineHeight(){return this.viewState.heightOracle.lineHeight}get textDirection(){return this.viewState.defaultTextDirection}textDirectionAt(e){return!this.state.facet(US)||e<this.viewport.from||e>this.viewport.to?this.textDirection:(this.readMeasured(),this.docView.textDirectionAt(e))}get lineWrapping(){return this.viewState.heightOracle.lineWrapping}bidiSpans(e){if(e.length>D5)return RS(e.length);let t=this.textDirectionAt(e.from),i;for(let a of this.bidiCache)if(a.from==e.from&&a.dir==t&&(a.fresh||OS(a.isolates,i=_x(this,e))))return a.order;i||(i=_x(this,e));let s=fN(e.text,t,i);return this.bidiCache.push(new Xu(e.from,e.to,t,i,!0,s)),s}get hasFocus(){var e;return(this.dom.ownerDocument.hasFocus()||oe.safari&&((e=this.inputState)===null||e===void 0?void 0:e.lastContextMenu)>Date.now()-3e4)&&this.root.activeElement==this.contentDOM}focus(){this.observer.ignore(()=>{AS(this.contentDOM),this.docView.updateSelection()})}setRoot(e){this._root!=e&&(this._root=e,this.observer.setWindow((e.nodeType==9?e:e.ownerDocument).defaultView||window),this.mountStyles())}destroy(){this.root.activeElement==this.contentDOM&&this.contentDOM.blur();for(let e of this.plugins)e.destroy(this);this.plugins=[],this.inputState.destroy(),this.docView.destroy(),this.dom.remove(),this.observer.destroy(),this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.destroyed=!0}static scrollIntoView(e,t={}){return ru.of(new Sr(typeof e=="number"?X.cursor(e):e,t.y,t.x,t.yMargin,t.xMargin))}scrollSnapshot(){let{scrollTop:e,scrollLeft:t}=this.scrollDOM,i=this.viewState.scrollAnchorAt(e);return ru.of(new Sr(X.cursor(i.from),"start","start",i.top-e,t,!0))}setTabFocusMode(e){e==null?this.inputState.tabFocusMode=this.inputState.tabFocusMode<0?0:-1:typeof e=="boolean"?this.inputState.tabFocusMode=e?0:-1:this.inputState.tabFocusMode!=0&&(this.inputState.tabFocusMode=Date.now()+e)}static domEventHandlers(e){return ft.define(()=>({}),{eventHandlers:e})}static domEventObservers(e){return ft.define(()=>({}),{eventObservers:e})}static theme(e,t){let i=Rl.newName(),s=[fu.of(i),Ga.of(Sp(`.${i}`,e))];return t&&t.dark&&s.push(xp.of(!0)),s}static baseTheme(e){return ws.lowest(Ga.of(Sp("."+vp,e,hw)))}static findFromDOM(e){var t;let i=e.querySelector(".cm-content"),s=i&&St.get(i)||St.get(e);return((t=s==null?void 0:s.root)===null||t===void 0?void 0:t.view)||null}}re.styleModule=Ga;re.inputHandler=HS;re.clipboardInputFilter=dg;re.clipboardOutputFilter=mg;re.scrollHandler=PS;re.focusChangeEffect=VS;re.perLineTextDirection=US;re.exceptionSink=zS;re.updateListener=mp;re.editable=Pi;re.mouseSelectionStyle=BS;re.dragMovesSelection=LS;re.clickAddsSelectionRange=_S;re.decorations=gh;re.blockWrappers=GS;re.outerDecorations=gg;re.atomicRanges=Oo;re.bidiIsolatedRanges=IS;re.scrollMargins=FS;re.darkTheme=xp;re.cspNonce=ce.define({combine:n=>n.length?n[0]:""});re.contentAttributes=pg;re.editorAttributes=YS;re.lineWrapping=re.contentAttributes.of({class:"cm-lineWrapping"});re.announce=Me.define();const D5=4096,tv={};class Xu{constructor(e,t,i,s,a,o){this.from=e,this.to=t,this.dir=i,this.isolates=s,this.fresh=a,this.order=o}static update(e,t){if(t.empty&&!e.some(a=>a.fresh))return e;let i=[],s=e.length?e[e.length-1].dir:Je.LTR;for(let a=Math.max(0,e.length-10);a<e.length;a++){let o=e[a];o.dir==s&&!t.touchesRange(o.from,o.to)&&i.push(new Xu(t.mapPos(o.from,1),t.mapPos(o.to,-1),o.dir,o.isolates,!1,o.order))}return i}}function nv(n,e,t){for(let i=n.state.facet(e),s=i.length-1;s>=0;s--){let a=i[s],o=typeof a=="function"?a(n):a;o&&ug(o,t)}return t}const O5=oe.mac?"mac":oe.windows?"win":oe.linux?"linux":"key";function R5(n,e){const t=n.split(/-(?!$)/);let i=t[t.length-1];i=="Space"&&(i=" ");let s,a,o,u;for(let f=0;f<t.length-1;++f){const d=t[f];if(/^(cmd|meta|m)$/i.test(d))u=!0;else if(/^a(lt)?$/i.test(d))s=!0;else if(/^(c|ctrl|control)$/i.test(d))a=!0;else if(/^s(hift)?$/i.test(d))o=!0;else if(/^mod$/i.test(d))e=="mac"?u=!0:a=!0;else throw new Error("Unrecognized modifier name: "+d)}return s&&(i="Alt-"+i),a&&(i="Ctrl-"+i),u&&(i="Meta-"+i),o&&(i="Shift-"+i),i}function du(n,e,t){return e.altKey&&(n="Alt-"+n),e.ctrlKey&&(n="Ctrl-"+n),e.metaKey&&(n="Meta-"+n),t!==!1&&e.shiftKey&&(n="Shift-"+n),n}const j5=ws.default(re.domEventHandlers({keydown(n,e){return dw(fw(e.state),n,e,"editor")}})),vh=ce.define({enables:j5}),iv=new WeakMap;function fw(n){let e=n.facet(vh),t=iv.get(e);return t||iv.set(e,t=B5(e.reduce((i,s)=>i.concat(s),[]))),t}function _5(n,e,t){return dw(fw(n.state),e,n,t)}let Ml=null;const L5=4e3;function B5(n,e=O5){let t=Object.create(null),i=Object.create(null),s=(o,u)=>{let f=i[o];if(f==null)i[o]=u;else if(f!=u)throw new Error("Key binding "+o+" is used both as a regular binding and as a multi-stroke prefix")},a=(o,u,f,d,p)=>{var y,x;let S=t[o]||(t[o]=Object.create(null)),w=u.split(/ (?!$)/).map(T=>R5(T,e));for(let T=1;T<w.length;T++){let j=w.slice(0,T).join(" ");s(j,!0),S[j]||(S[j]={preventDefault:!0,stopPropagation:!1,run:[N=>{let q=Ml={view:N,prefix:j,scope:o};return setTimeout(()=>{Ml==q&&(Ml=null)},L5),!0}]})}let A=w.join(" ");s(A,!1);let C=S[A]||(S[A]={preventDefault:!1,stopPropagation:!1,run:((x=(y=S._any)===null||y===void 0?void 0:y.run)===null||x===void 0?void 0:x.slice())||[]});f&&C.run.push(f),d&&(C.preventDefault=!0),p&&(C.stopPropagation=!0)};for(let o of n){let u=o.scope?o.scope.split(" "):["editor"];if(o.any)for(let d of u){let p=t[d]||(t[d]=Object.create(null));p._any||(p._any={preventDefault:!1,stopPropagation:!1,run:[]});let{any:y}=o;for(let x in p)p[x].run.push(S=>y(S,wp))}let f=o[e]||o.key;if(f)for(let d of u)a(d,f,o.run,o.preventDefault,o.stopPropagation),o.shift&&a(d,"Shift-"+f,o.shift,o.preventDefault,o.stopPropagation)}return t}let wp=null;function dw(n,e,t,i){wp=e;let s=XE(e),a=an(s,0),o=mi(a)==s.length&&s!=" ",u="",f=!1,d=!1,p=!1;Ml&&Ml.view==t&&Ml.scope==i&&(u=Ml.prefix+" ",tw.indexOf(e.keyCode)<0&&(d=!0,Ml=null));let y=new Set,x=C=>{if(C){for(let T of C.run)if(!y.has(T)&&(y.add(T),T(t)))return C.stopPropagation&&(p=!0),!0;C.preventDefault&&(C.stopPropagation&&(p=!0),d=!0)}return!1},S=n[i],w,A;return S&&(x(S[u+du(s,e,!o)])?f=!0:o&&(e.altKey||e.metaKey||e.ctrlKey)&&!(oe.windows&&e.ctrlKey&&e.altKey)&&!(oe.mac&&e.altKey&&!(e.ctrlKey||e.metaKey))&&(w=jl[e.keyCode])&&w!=s?(x(S[u+du(w,e,!0)])||e.shiftKey&&(A=co[e.keyCode])!=s&&A!=w&&x(S[u+du(A,e,!1)]))&&(f=!0):o&&e.shiftKey&&x(S[u+du(s,e,!0)])&&(f=!0),!f&&x(S._any)&&(f=!0)),d&&(f=!0),f&&p&&e.stopPropagation(),wp=null,f}class Ro{constructor(e,t,i,s,a){this.className=e,this.left=t,this.top=i,this.width=s,this.height=a}draw(){let e=document.createElement("div");return e.className=this.className,this.adjust(e),e}update(e,t){return t.className!=this.className?!1:(this.adjust(e),!0)}adjust(e){e.style.left=this.left+"px",e.style.top=this.top+"px",this.width!=null&&(e.style.width=this.width+"px"),e.style.height=this.height+"px"}eq(e){return this.left==e.left&&this.top==e.top&&this.width==e.width&&this.height==e.height&&this.className==e.className}static forRange(e,t,i){if(i.empty){let s=e.coordsAtPos(i.head,i.assoc||1);if(!s)return[];let a=mw(e);return[new Ro(t,s.left-a.left,s.top-a.top,null,s.bottom-s.top)]}else return z5(e,t,i)}}function mw(n){let e=n.scrollDOM.getBoundingClientRect();return{left:(n.textDirection==Je.LTR?e.left:e.right-n.scrollDOM.clientWidth*n.scaleX)-n.scrollDOM.scrollLeft*n.scaleX,top:e.top-n.scrollDOM.scrollTop*n.scaleY}}function lv(n,e,t,i){let s=n.coordsAtPos(e,t*2);if(!s)return i;let a=n.dom.getBoundingClientRect(),o=(s.top+s.bottom)/2,u=n.posAtCoords({x:a.left+1,y:o}),f=n.posAtCoords({x:a.right-1,y:o});return u==null||f==null?i:{from:Math.max(i.from,Math.min(u,f)),to:Math.min(i.to,Math.max(u,f))}}function z5(n,e,t){if(t.to<=n.viewport.from||t.from>=n.viewport.to)return[];let i=Math.max(t.from,n.viewport.from),s=Math.min(t.to,n.viewport.to),a=n.textDirection==Je.LTR,o=n.contentDOM,u=o.getBoundingClientRect(),f=mw(n),d=o.querySelector(".cm-line"),p=d&&window.getComputedStyle(d),y=u.left+(p?parseInt(p.paddingLeft)+Math.min(0,parseInt(p.textIndent)):0),x=u.right-(p?parseInt(p.paddingRight):0),S=gp(n,i,1),w=gp(n,s,-1),A=S.type==qt.Text?S:null,C=w.type==qt.Text?w:null;if(A&&(n.lineWrapping||S.widgetLineBreaks)&&(A=lv(n,i,1,A)),C&&(n.lineWrapping||w.widgetLineBreaks)&&(C=lv(n,s,-1,C)),A&&C&&A.from==C.from&&A.to==C.to)return j(N(t.from,t.to,A));{let B=A?N(t.from,null,A):q(S,!1),G=C?N(null,t.to,C):q(w,!0),V=[];return(A||S).to<(C||w).from-(A&&C?1:0)||S.widgetLineBreaks>1&&B.bottom+n.defaultLineHeight/2<G.top?V.push(T(y,B.bottom,x,G.top)):B.bottom<G.top&&n.elementAtHeight((B.bottom+G.top)/2).type==qt.Text&&(B.bottom=G.top=(B.bottom+G.top)/2),j(B).concat(V).concat(j(G))}function T(B,G,V,Q){return new Ro(e,B-f.left,G-f.top,Math.max(0,V-B),Q-G)}function j({top:B,bottom:G,horizontal:V}){let Q=[];for(let Z=0;Z<V.length;Z+=2)Q.push(T(V[Z],B,V[Z+1],G));return Q}function N(B,G,V){let Q=1e9,Z=-1e9,ue=[];function fe(J,ve,z,K,$){let ie=n.coordsAtPos(J,J==V.to?-2:2),ge=n.coordsAtPos(z,z==V.from?2:-2);!ie||!ge||(Q=Math.min(ie.top,ge.top,Q),Z=Math.max(ie.bottom,ge.bottom,Z),$==Je.LTR?ue.push(a&&ve?y:ie.left,a&&K?x:ge.right):ue.push(!a&&K?y:ge.left,!a&&ve?x:ie.right))}let ne=B??V.from,pe=G??V.to;for(let J of n.visibleRanges)if(J.to>ne&&J.from<pe)for(let ve=Math.max(J.from,ne),z=Math.min(J.to,pe);;){let K=n.state.doc.lineAt(ve);for(let $ of n.bidiSpans(K)){let ie=$.from+K.from,ge=$.to+K.from;if(ie>=z)break;ge>ve&&fe(Math.max(ie,ve),B==null&&ie<=ne,Math.min(ge,z),G==null&&ge>=pe,$.dir)}if(ve=K.to+1,ve>=z)break}return ue.length==0&&fe(ne,B==null,pe,G==null,n.textDirection),{top:Q,bottom:Z,horizontal:ue}}function q(B,G){let V=u.top+(G?B.top:B.bottom);return{top:V,bottom:V,horizontal:[]}}}function H5(n,e){return n.constructor==e.constructor&&n.eq(e)}class V5{constructor(e,t){this.view=e,this.layer=t,this.drawn=[],this.scaleX=1,this.scaleY=1,this.measureReq={read:this.measure.bind(this),write:this.draw.bind(this)},this.dom=e.scrollDOM.appendChild(document.createElement("div")),this.dom.classList.add("cm-layer"),t.above&&this.dom.classList.add("cm-layer-above"),t.class&&this.dom.classList.add(t.class),this.scale(),this.dom.setAttribute("aria-hidden","true"),this.setOrder(e.state),e.requestMeasure(this.measureReq),t.mount&&t.mount(this.dom,e)}update(e){e.startState.facet(ju)!=e.state.facet(ju)&&this.setOrder(e.state),(this.layer.update(e,this.dom)||e.geometryChanged)&&(this.scale(),e.view.requestMeasure(this.measureReq))}docViewUpdate(e){this.layer.updateOnDocViewUpdate!==!1&&e.requestMeasure(this.measureReq)}setOrder(e){let t=0,i=e.facet(ju);for(;t<i.length&&i[t]!=this.layer;)t++;this.dom.style.zIndex=String((this.layer.above?150:-1)-t)}measure(){return this.layer.markers(this.view)}scale(){let{scaleX:e,scaleY:t}=this.view;(e!=this.scaleX||t!=this.scaleY)&&(this.scaleX=e,this.scaleY=t,this.dom.style.transform=`scale(${1/e}, ${1/t})`)}draw(e){if(e.length!=this.drawn.length||e.some((t,i)=>!H5(t,this.drawn[i]))){let t=this.dom.firstChild,i=0;for(let s of e)s.update&&t&&s.constructor&&this.drawn[i].constructor&&s.update(t,this.drawn[i])?(t=t.nextSibling,i++):this.dom.insertBefore(s.draw(),t);for(;t;){let s=t.nextSibling;t.remove(),t=s}this.drawn=e,oe.safari&&oe.safari_version>=26&&(this.dom.style.display=this.dom.firstChild?"":"none")}}destroy(){this.layer.destroy&&this.layer.destroy(this.dom,this.view),this.dom.remove()}}const ju=ce.define();function pw(n){return[ft.define(e=>new V5(e,n)),ju.of(n)]}const po=ce.define({combine(n){return wi(n,{cursorBlinkRate:1200,drawRangeCursor:!0},{cursorBlinkRate:(e,t)=>Math.min(e,t),drawRangeCursor:(e,t)=>e||t})}});function U5(n={}){return[po.of(n),q5,P5,K5,qS.of(!0)]}function gw(n){return n.startState.facet(po)!=n.state.facet(po)}const q5=pw({above:!0,markers(n){let{state:e}=n,t=e.facet(po),i=[];for(let s of e.selection.ranges){let a=s==e.selection.main;if(s.empty||t.drawRangeCursor){let o=a?"cm-cursor cm-cursor-primary":"cm-cursor cm-cursor-secondary",u=s.empty?s:X.cursor(s.head,s.head>s.anchor?-1:1);for(let f of Ro.forRange(n,o,u))i.push(f)}}return i},update(n,e){n.transactions.some(i=>i.selection)&&(e.style.animationName=e.style.animationName=="cm-blink"?"cm-blink2":"cm-blink");let t=gw(n);return t&&sv(n.state,e),n.docChanged||n.selectionSet||t},mount(n,e){sv(e.state,n)},class:"cm-cursorLayer"});function sv(n,e){e.style.animationDuration=n.facet(po).cursorBlinkRate+"ms"}const P5=pw({above:!1,markers(n){return n.state.selection.ranges.map(e=>e.empty?[]:Ro.forRange(n,"cm-selectionBackground",e)).reduce((e,t)=>e.concat(t))},update(n,e){return n.docChanged||n.selectionSet||n.viewportChanged||gw(n)},class:"cm-selectionLayer"}),K5=ws.highest(re.theme({".cm-line":{"& ::selection, &::selection":{backgroundColor:"transparent !important"},caretColor:"transparent !important"},".cm-content":{caretColor:"transparent !important","& :focus":{caretColor:"initial !important","&::selection, & ::selection":{backgroundColor:"Highlight !important"}}}})),yw=Me.define({map(n,e){return n==null?null:e.mapPos(n)}}),Wa=Gt.define({create(){return null},update(n,e){return n!=null&&(n=e.changes.mapPos(n)),e.effects.reduce((t,i)=>i.is(yw)?i.value:t,n)}}),Y5=ft.fromClass(class{constructor(n){this.view=n,this.cursor=null,this.measureReq={read:this.readPos.bind(this),write:this.drawCursor.bind(this)}}update(n){var e;let t=n.state.field(Wa);t==null?this.cursor!=null&&((e=this.cursor)===null||e===void 0||e.remove(),this.cursor=null):(this.cursor||(this.cursor=this.view.scrollDOM.appendChild(document.createElement("div")),this.cursor.className="cm-dropCursor"),(n.startState.field(Wa)!=t||n.docChanged||n.geometryChanged)&&this.view.requestMeasure(this.measureReq))}readPos(){let{view:n}=this,e=n.state.field(Wa),t=e!=null&&n.coordsAtPos(e);if(!t)return null;let i=n.scrollDOM.getBoundingClientRect();return{left:t.left-i.left+n.scrollDOM.scrollLeft*n.scaleX,top:t.top-i.top+n.scrollDOM.scrollTop*n.scaleY,height:t.bottom-t.top}}drawCursor(n){if(this.cursor){let{scaleX:e,scaleY:t}=this.view;n?(this.cursor.style.left=n.left/e+"px",this.cursor.style.top=n.top/t+"px",this.cursor.style.height=n.height/t+"px"):this.cursor.style.left="-100000px"}}destroy(){this.cursor&&this.cursor.remove()}setDropPos(n){this.view.state.field(Wa)!=n&&this.view.dispatch({effects:yw.of(n)})}},{eventObservers:{dragover(n){this.setDropPos(this.view.posAtCoords({x:n.clientX,y:n.clientY}))},dragleave(n){(n.target==this.view.contentDOM||!this.view.contentDOM.contains(n.relatedTarget))&&this.setDropPos(null)},dragend(){this.setDropPos(null)},drop(){this.setDropPos(null)}}});function G5(){return[Wa,Y5]}function rv(n,e,t,i,s){e.lastIndex=0;for(let a=n.iterRange(t,i),o=t,u;!a.next().done;o+=a.value.length)if(!a.lineBreak)for(;u=e.exec(a.value);)s(o+u.index,u)}function I5(n,e){let t=n.visibleRanges;if(t.length==1&&t[0].from==n.viewport.from&&t[0].to==n.viewport.to)return t;let i=[];for(let{from:s,to:a}of t)s=Math.max(n.state.doc.lineAt(s).from,s-e),a=Math.min(n.state.doc.lineAt(a).to,a+e),i.length&&i[i.length-1].to>=s?i[i.length-1].to=a:i.push({from:s,to:a});return i}class F5{constructor(e){const{regexp:t,decoration:i,decorate:s,boundary:a,maxLength:o=1e3}=e;if(!t.global)throw new RangeError("The regular expression given to MatchDecorator should have its 'g' flag set");if(this.regexp=t,s)this.addMatch=(u,f,d,p)=>s(p,d,d+u[0].length,u,f);else if(typeof i=="function")this.addMatch=(u,f,d,p)=>{let y=i(u,f,d);y&&p(d,d+u[0].length,y)};else if(i)this.addMatch=(u,f,d,p)=>p(d,d+u[0].length,i);else throw new RangeError("Either 'decorate' or 'decoration' should be provided to MatchDecorator");this.boundary=a,this.maxLength=o}createDeco(e){let t=new Fi,i=t.add.bind(t);for(let{from:s,to:a}of I5(e,this.maxLength))rv(e.state.doc,this.regexp,s,a,(o,u)=>this.addMatch(u,e,o,i));return t.finish()}updateDeco(e,t){let i=1e9,s=-1;return e.docChanged&&e.changes.iterChanges((a,o,u,f)=>{f>=e.view.viewport.from&&u<=e.view.viewport.to&&(i=Math.min(u,i),s=Math.max(f,s))}),e.viewportMoved||s-i>1e3?this.createDeco(e.view):s>-1?this.updateRange(e.view,t.map(e.changes),i,s):t}updateRange(e,t,i,s){for(let a of e.visibleRanges){let o=Math.max(a.from,i),u=Math.min(a.to,s);if(u>=o){let f=e.state.doc.lineAt(o),d=f.to<u?e.state.doc.lineAt(u):f,p=Math.max(a.from,f.from),y=Math.min(a.to,d.to);if(this.boundary){for(;o>f.from;o--)if(this.boundary.test(f.text[o-1-f.from])){p=o;break}for(;u<d.to;u++)if(this.boundary.test(d.text[u-d.from])){y=u;break}}let x=[],S,w=(A,C,T)=>x.push(T.range(A,C));if(f==d)for(this.regexp.lastIndex=p-f.from;(S=this.regexp.exec(f.text))&&S.index<y-f.from;)this.addMatch(S,e,S.index+f.from,w);else rv(e.state.doc,this.regexp,p,y,(A,C)=>this.addMatch(C,e,A,w));t=t.update({filterFrom:p,filterTo:y,filter:(A,C)=>A<p||C>y,add:x})}}return t}}const kp=/x/.unicode!=null?"gu":"g",W5=new RegExp(`[\0-\b
--\u2028\u2029\uFEFF-]`,kp),X5={0:"null",7:"bell",8:"backspace",10:"newline",11:"vertical tab",13:"carriage return",27:"escape",8203:"zero width space",8204:"zero width non-joiner",8205:"zero width joiner",8206:"left-to-right mark",8207:"right-to-left mark",8232:"line separator",8237:"left-to-right override",8238:"right-to-left override",8294:"left-to-right isolate",8295:"right-to-left isolate",8297:"pop directional isolate",8233:"paragraph separator",65279:"zero width no-break space",65532:"object replacement"};let pm=null;function Q5(){var n;if(pm==null&&typeof document<"u"&&document.body){let e=document.body.style;pm=((n=e.tabSize)!==null&&n!==void 0?n:e.MozTabSize)!=null}return pm||!1}const _u=ce.define({combine(n){let e=wi(n,{render:null,specialChars:W5,addSpecialChars:null});return(e.replaceTabs=!Q5())&&(e.specialChars=new RegExp("	|"+e.specialChars.source,kp)),e.addSpecialChars&&(e.specialChars=new RegExp(e.specialChars.source+"|"+e.addSpecialChars.source,kp)),e}});function Z5(n={}){return[_u.of(n),$5()]}let av=null;function $5(){return av||(av=ft.fromClass(class{constructor(n){this.view=n,this.decorations=Se.none,this.decorationCache=Object.create(null),this.decorator=this.makeDecorator(n.state.facet(_u)),this.decorations=this.decorator.createDeco(n)}makeDecorator(n){return new F5({regexp:n.specialChars,decoration:(e,t,i)=>{let{doc:s}=t.state,a=an(e[0],0);if(a==9){let o=s.lineAt(i),u=t.state.tabSize,f=Br(o.text,u,i-o.from);return Se.replace({widget:new nD((u-f%u)*this.view.defaultCharacterWidth/this.view.scaleX)})}return this.decorationCache[a]||(this.decorationCache[a]=Se.replace({widget:new tD(n,a)}))},boundary:n.replaceTabs?void 0:/[^]/})}update(n){let e=n.state.facet(_u);n.startState.facet(_u)!=e?(this.decorator=this.makeDecorator(e),this.decorations=this.decorator.createDeco(n.view)):this.decorations=this.decorator.updateDeco(n,this.decorations)}},{decorations:n=>n.decorations}))}const J5="";function eD(n){return n>=32?J5:n==10?"":String.fromCharCode(9216+n)}class tD extends ki{constructor(e,t){super(),this.options=e,this.code=t}eq(e){return e.code==this.code}toDOM(e){let t=eD(this.code),i=e.state.phrase("Control character")+" "+(X5[this.code]||"0x"+this.code.toString(16)),s=this.options.render&&this.options.render(this.code,i,t);if(s)return s;let a=document.createElement("span");return a.textContent=t,a.title=i,a.setAttribute("aria-label",i),a.className="cm-specialChar",a}ignoreEvent(){return!1}}class nD extends ki{constructor(e){super(),this.width=e}eq(e){return e.width==this.width}toDOM(){let e=document.createElement("span");return e.textContent="	",e.className="cm-tab",e.style.width=this.width+"px",e}ignoreEvent(){return!1}}function iD(){return sD}const lD=Se.line({class:"cm-activeLine"}),sD=ft.fromClass(class{constructor(n){this.decorations=this.getDeco(n)}update(n){(n.docChanged||n.selectionSet)&&(this.decorations=this.getDeco(n.view))}getDeco(n){let e=-1,t=[];for(let i of n.state.selection.ranges){let s=n.lineBlockAt(i.head);s.from>e&&(t.push(lD.range(s.from)),e=s.from)}return Se.set(t)}},{decorations:n=>n.decorations});class rD extends ki{constructor(e){super(),this.content=e}toDOM(e){let t=document.createElement("span");return t.className="cm-placeholder",t.style.pointerEvents="none",t.appendChild(typeof this.content=="string"?document.createTextNode(this.content):typeof this.content=="function"?this.content(e):this.content.cloneNode(!0)),t.setAttribute("aria-hidden","true"),t}coordsAt(e){let t=e.firstChild?Ja(e.firstChild):[];if(!t.length)return null;let i=window.getComputedStyle(e.parentNode),s=fo(t[0],i.direction!="rtl"),a=parseInt(i.lineHeight);return s.bottom-s.top>a*1.5?{left:s.left,right:s.right,top:s.top,bottom:s.top+a}:s}ignoreEvent(){return!1}}function aD(n){let e=ft.fromClass(class{constructor(t){this.view=t,this.placeholder=n?Se.set([Se.widget({widget:new rD(n),side:1}).range(0)]):Se.none}get decorations(){return this.view.state.doc.length?Se.none:this.placeholder}},{decorations:t=>t.decorations});return typeof n=="string"?[e,re.contentAttributes.of({"aria-placeholder":n})]:e}const Cp=2e3;function oD(n,e,t){let i=Math.min(e.line,t.line),s=Math.max(e.line,t.line),a=[];if(e.off>Cp||t.off>Cp||e.col<0||t.col<0){let o=Math.min(e.off,t.off),u=Math.max(e.off,t.off);for(let f=i;f<=s;f++){let d=n.doc.line(f);d.length<=u&&a.push(X.range(d.from+o,d.to+u))}}else{let o=Math.min(e.col,t.col),u=Math.max(e.col,t.col);for(let f=i;f<=s;f++){let d=n.doc.line(f),p=ip(d.text,o,n.tabSize,!0);if(p<0)a.push(X.cursor(d.to));else{let y=ip(d.text,u,n.tabSize);a.push(X.range(d.from+p,d.from+y))}}}return a}function cD(n,e){let t=n.coordsAtPos(n.viewport.from);return t?Math.round(Math.abs((t.left-e)/n.defaultCharacterWidth)):-1}function ov(n,e){let t=n.posAtCoords({x:e.clientX,y:e.clientY},!1),i=n.state.doc.lineAt(t),s=t-i.from,a=s>Cp?-1:s==i.length?cD(n,e.clientX):Br(i.text,n.state.tabSize,t-i.from);return{line:i.number,col:a,off:s}}function uD(n,e){let t=ov(n,e),i=n.state.selection;return t?{update(s){if(s.docChanged){let a=s.changes.mapPos(s.startState.doc.line(t.line).from),o=s.state.doc.lineAt(a);t={line:o.number,col:t.col,off:Math.min(t.off,o.length)},i=i.map(s.changes)}},get(s,a,o){let u=ov(n,s);if(!u)return i;let f=oD(n.state,t,u);return f.length?o?X.create(f.concat(i.ranges)):X.create(f):i}}:null}function hD(n){let e=(t=>t.altKey&&t.button==0);return re.mouseSelectionStyle.of((t,i)=>e(i)?uD(t,i):null)}const fD={Alt:[18,n=>!!n.altKey],Control:[17,n=>!!n.ctrlKey],Shift:[16,n=>!!n.shiftKey],Meta:[91,n=>!!n.metaKey]},dD={style:"cursor: crosshair"};function mD(n={}){let[e,t]=fD[n.key||"Alt"],i=ft.fromClass(class{constructor(s){this.view=s,this.isDown=!1}set(s){this.isDown!=s&&(this.isDown=s,this.view.update([]))}},{eventObservers:{keydown(s){this.set(s.keyCode==e||t(s))},keyup(s){(s.keyCode==e||!t(s))&&this.set(!1)},mousemove(s){this.set(t(s))}}});return[i,re.contentAttributes.of(s=>{var a;return!((a=s.plugin(i))===null||a===void 0)&&a.isDown?dD:null})]}const mu="-10000px";class bw{constructor(e,t,i,s){this.facet=t,this.createTooltipView=i,this.removeTooltipView=s,this.input=e.state.facet(t),this.tooltips=this.input.filter(o=>o);let a=null;this.tooltipViews=this.tooltips.map(o=>a=i(o,a))}update(e,t){var i;let s=e.state.facet(this.facet),a=s.filter(f=>f);if(s===this.input){for(let f of this.tooltipViews)f.update&&f.update(e);return!1}let o=[],u=t?[]:null;for(let f=0;f<a.length;f++){let d=a[f],p=-1;if(d){for(let y=0;y<this.tooltips.length;y++){let x=this.tooltips[y];x&&x.create==d.create&&(p=y)}if(p<0)o[f]=this.createTooltipView(d,f?o[f-1]:null),u&&(u[f]=!!d.above);else{let y=o[f]=this.tooltipViews[p];u&&(u[f]=t[p]),y.update&&y.update(e)}}}for(let f of this.tooltipViews)o.indexOf(f)<0&&(this.removeTooltipView(f),(i=f.destroy)===null||i===void 0||i.call(f));return t&&(u.forEach((f,d)=>t[d]=f),t.length=u.length),this.input=s,this.tooltips=a,this.tooltipViews=o,!0}}function pD(n){let e=n.dom.ownerDocument.documentElement;return{top:0,left:0,bottom:e.clientHeight,right:e.clientWidth}}const gm=ce.define({combine:n=>{var e,t,i;return{position:oe.ios?"absolute":((e=n.find(s=>s.position))===null||e===void 0?void 0:e.position)||"fixed",parent:((t=n.find(s=>s.parent))===null||t===void 0?void 0:t.parent)||null,tooltipSpace:((i=n.find(s=>s.tooltipSpace))===null||i===void 0?void 0:i.tooltipSpace)||pD}}}),cv=new WeakMap,Sg=ft.fromClass(class{constructor(n){this.view=n,this.above=[],this.inView=!0,this.madeAbsolute=!1,this.lastTransaction=0,this.measureTimeout=-1;let e=n.state.facet(gm);this.position=e.position,this.parent=e.parent,this.classes=n.themeClasses,this.createContainer(),this.measureReq={read:this.readMeasure.bind(this),write:this.writeMeasure.bind(this),key:this},this.resizeObserver=typeof ResizeObserver=="function"?new ResizeObserver(()=>this.measureSoon()):null,this.manager=new bw(n,wg,(t,i)=>this.createTooltip(t,i),t=>{this.resizeObserver&&this.resizeObserver.unobserve(t.dom),t.dom.remove()}),this.above=this.manager.tooltips.map(t=>!!t.above),this.intersectionObserver=typeof IntersectionObserver=="function"?new IntersectionObserver(t=>{Date.now()>this.lastTransaction-50&&t.length>0&&t[t.length-1].intersectionRatio<1&&this.measureSoon()},{threshold:[1]}):null,this.observeIntersection(),n.win.addEventListener("resize",this.measureSoon=this.measureSoon.bind(this)),this.maybeMeasure()}createContainer(){this.parent?(this.container=document.createElement("div"),this.container.style.position="relative",this.container.className=this.view.themeClasses,this.parent.appendChild(this.container)):this.container=this.view.dom}observeIntersection(){if(this.intersectionObserver){this.intersectionObserver.disconnect();for(let n of this.manager.tooltipViews)this.intersectionObserver.observe(n.dom)}}measureSoon(){this.measureTimeout<0&&(this.measureTimeout=setTimeout(()=>{this.measureTimeout=-1,this.maybeMeasure()},50))}update(n){n.transactions.length&&(this.lastTransaction=Date.now());let e=this.manager.update(n,this.above);e&&this.observeIntersection();let t=e||n.geometryChanged,i=n.state.facet(gm);if(i.position!=this.position&&!this.madeAbsolute){this.position=i.position;for(let s of this.manager.tooltipViews)s.dom.style.position=this.position;t=!0}if(i.parent!=this.parent){this.parent&&this.container.remove(),this.parent=i.parent,this.createContainer();for(let s of this.manager.tooltipViews)this.container.appendChild(s.dom);t=!0}else this.parent&&this.view.themeClasses!=this.classes&&(this.classes=this.container.className=this.view.themeClasses);t&&this.maybeMeasure()}createTooltip(n,e){let t=n.create(this.view),i=e?e.dom:null;if(t.dom.classList.add("cm-tooltip"),n.arrow&&!t.dom.querySelector(".cm-tooltip > .cm-tooltip-arrow")){let s=document.createElement("div");s.className="cm-tooltip-arrow",t.dom.appendChild(s)}return t.dom.style.position=this.position,t.dom.style.top=mu,t.dom.style.left="0px",this.container.insertBefore(t.dom,i),t.mount&&t.mount(this.view),this.resizeObserver&&this.resizeObserver.observe(t.dom),t}destroy(){var n,e,t;this.view.win.removeEventListener("resize",this.measureSoon);for(let i of this.manager.tooltipViews)i.dom.remove(),(n=i.destroy)===null||n===void 0||n.call(i);this.parent&&this.container.remove(),(e=this.resizeObserver)===null||e===void 0||e.disconnect(),(t=this.intersectionObserver)===null||t===void 0||t.disconnect(),clearTimeout(this.measureTimeout)}readMeasure(){let n=1,e=1,t=!1;if(this.position=="fixed"&&this.manager.tooltipViews.length){let{dom:a}=this.manager.tooltipViews[0];if(oe.safari){let o=a.getBoundingClientRect();t=Math.abs(o.top+1e4)>1||Math.abs(o.left)>1}else t=!!a.offsetParent&&a.offsetParent!=this.container.ownerDocument.body}if(t||this.position=="absolute")if(this.parent){let a=this.parent.getBoundingClientRect();a.width&&a.height&&(n=a.width/this.parent.offsetWidth,e=a.height/this.parent.offsetHeight)}else({scaleX:n,scaleY:e}=this.view.viewState);let i=this.view.scrollDOM.getBoundingClientRect(),s=yg(this.view);return{visible:{left:i.left+s.left,top:i.top+s.top,right:i.right-s.right,bottom:i.bottom-s.bottom},parent:this.parent?this.container.getBoundingClientRect():this.view.dom.getBoundingClientRect(),pos:this.manager.tooltips.map((a,o)=>{let u=this.manager.tooltipViews[o];return u.getCoords?u.getCoords(a.pos):this.view.coordsAtPos(a.pos)}),size:this.manager.tooltipViews.map(({dom:a})=>a.getBoundingClientRect()),space:this.view.state.facet(gm).tooltipSpace(this.view),scaleX:n,scaleY:e,makeAbsolute:t}}writeMeasure(n){var e;if(n.makeAbsolute){this.madeAbsolute=!0,this.position="absolute";for(let u of this.manager.tooltipViews)u.dom.style.position="absolute"}let{visible:t,space:i,scaleX:s,scaleY:a}=n,o=[];for(let u=0;u<this.manager.tooltips.length;u++){let f=this.manager.tooltips[u],d=this.manager.tooltipViews[u],{dom:p}=d,y=n.pos[u],x=n.size[u];if(!y||f.clip!==!1&&(y.bottom<=Math.max(t.top,i.top)||y.top>=Math.min(t.bottom,i.bottom)||y.right<Math.max(t.left,i.left)-.1||y.left>Math.min(t.right,i.right)+.1)){p.style.top=mu;continue}let S=f.arrow?d.dom.querySelector(".cm-tooltip-arrow"):null,w=S?7:0,A=x.right-x.left,C=(e=cv.get(d))!==null&&e!==void 0?e:x.bottom-x.top,T=d.offset||yD,j=this.view.textDirection==Je.LTR,N=x.width>i.right-i.left?j?i.left:i.right-x.width:j?Math.max(i.left,Math.min(y.left-(S?14:0)+T.x,i.right-A)):Math.min(Math.max(i.left,y.left-A+(S?14:0)-T.x),i.right-A),q=this.above[u];!f.strictSide&&(q?y.top-C-w-T.y<i.top:y.bottom+C+w+T.y>i.bottom)&&q==i.bottom-y.bottom>y.top-i.top&&(q=this.above[u]=!q);let B=(q?y.top-i.top:i.bottom-y.bottom)-w;if(B<C&&d.resize!==!1){if(B<this.view.defaultLineHeight){p.style.top=mu;continue}cv.set(d,C),p.style.height=(C=B)/a+"px"}else p.style.height&&(p.style.height="");let G=q?y.top-C-w-T.y:y.bottom+w+T.y,V=N+A;if(d.overlap!==!0)for(let Q of o)Q.left<V&&Q.right>N&&Q.top<G+C&&Q.bottom>G&&(G=q?Q.top-C-2-w:Q.bottom+w+2);if(this.position=="absolute"?(p.style.top=(G-n.parent.top)/a+"px",uv(p,(N-n.parent.left)/s)):(p.style.top=G/a+"px",uv(p,N/s)),S){let Q=y.left+(j?T.x:-T.x)-(N+14-7);S.style.left=Q/s+"px"}d.overlap!==!0&&o.push({left:N,top:G,right:V,bottom:G+C}),p.classList.toggle("cm-tooltip-above",q),p.classList.toggle("cm-tooltip-below",!q),d.positioned&&d.positioned(n.space)}}maybeMeasure(){if(this.manager.tooltips.length&&(this.view.inView&&this.view.requestMeasure(this.measureReq),this.inView!=this.view.inView&&(this.inView=this.view.inView,!this.inView)))for(let n of this.manager.tooltipViews)n.dom.style.top=mu}},{eventObservers:{scroll(){this.maybeMeasure()}}});function uv(n,e){let t=parseInt(n.style.left,10);(isNaN(t)||Math.abs(e-t)>1)&&(n.style.left=e+"px")}const gD=re.baseTheme({".cm-tooltip":{zIndex:500,boxSizing:"border-box"},"&light .cm-tooltip":{border:"1px solid #bbb",backgroundColor:"#f5f5f5"},"&light .cm-tooltip-section:not(:first-child)":{borderTop:"1px solid #bbb"},"&dark .cm-tooltip":{backgroundColor:"#333338",color:"white"},".cm-tooltip-arrow":{height:"7px",width:"14px",position:"absolute",zIndex:-1,overflow:"hidden","&:before, &:after":{content:"''",position:"absolute",width:0,height:0,borderLeft:"7px solid transparent",borderRight:"7px solid transparent"},".cm-tooltip-above &":{bottom:"-7px","&:before":{borderTop:"7px solid #bbb"},"&:after":{borderTop:"7px solid #f5f5f5",bottom:"1px"}},".cm-tooltip-below &":{top:"-7px","&:before":{borderBottom:"7px solid #bbb"},"&:after":{borderBottom:"7px solid #f5f5f5",top:"1px"}}},"&dark .cm-tooltip .cm-tooltip-arrow":{"&:before":{borderTopColor:"#333338",borderBottomColor:"#333338"},"&:after":{borderTopColor:"transparent",borderBottomColor:"transparent"}}}),yD={x:0,y:0},wg=ce.define({enables:[Sg,gD]}),Qu=ce.define({combine:n=>n.reduce((e,t)=>e.concat(t),[])});class Sh{static create(e){return new Sh(e)}constructor(e){this.view=e,this.mounted=!1,this.dom=document.createElement("div"),this.dom.classList.add("cm-tooltip-hover"),this.manager=new bw(e,Qu,(t,i)=>this.createHostedView(t,i),t=>t.dom.remove())}createHostedView(e,t){let i=e.create(this.view);return i.dom.classList.add("cm-tooltip-section"),this.dom.insertBefore(i.dom,t?t.dom.nextSibling:this.dom.firstChild),this.mounted&&i.mount&&i.mount(this.view),i}mount(e){for(let t of this.manager.tooltipViews)t.mount&&t.mount(e);this.mounted=!0}positioned(e){for(let t of this.manager.tooltipViews)t.positioned&&t.positioned(e)}update(e){this.manager.update(e)}destroy(){var e;for(let t of this.manager.tooltipViews)(e=t.destroy)===null||e===void 0||e.call(t)}passProp(e){let t;for(let i of this.manager.tooltipViews){let s=i[e];if(s!==void 0){if(t===void 0)t=s;else if(t!==s)return}}return t}get offset(){return this.passProp("offset")}get getCoords(){return this.passProp("getCoords")}get overlap(){return this.passProp("overlap")}get resize(){return this.passProp("resize")}}const bD=wg.compute([Qu],n=>{let e=n.facet(Qu);return e.length===0?null:{pos:Math.min(...e.map(t=>t.pos)),end:Math.max(...e.map(t=>{var i;return(i=t.end)!==null&&i!==void 0?i:t.pos})),create:Sh.create,above:e[0].above,arrow:e.some(t=>t.arrow)}});class xD{constructor(e,t,i,s,a){this.view=e,this.source=t,this.field=i,this.setHover=s,this.hoverTime=a,this.hoverTimeout=-1,this.restartTimeout=-1,this.pending=null,this.lastMove={x:0,y:0,target:e.dom,time:0},this.checkHover=this.checkHover.bind(this),e.dom.addEventListener("mouseleave",this.mouseleave=this.mouseleave.bind(this)),e.dom.addEventListener("mousemove",this.mousemove=this.mousemove.bind(this))}update(){this.pending&&(this.pending=null,clearTimeout(this.restartTimeout),this.restartTimeout=setTimeout(()=>this.startHover(),20))}get active(){return this.view.state.field(this.field)}checkHover(){if(this.hoverTimeout=-1,this.active.length)return;let e=Date.now()-this.lastMove.time;e<this.hoverTime?this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime-e):this.startHover()}startHover(){clearTimeout(this.restartTimeout);let{view:e,lastMove:t}=this,i=e.docView.tile.nearest(t.target);if(!i)return;let s,a=1;if(i.isWidget())s=i.posAtStart;else{if(s=e.posAtCoords(t),s==null)return;let u=e.coordsAtPos(s);if(!u||t.y<u.top||t.y>u.bottom||t.x<u.left-e.defaultCharacterWidth||t.x>u.right+e.defaultCharacterWidth)return;let f=e.bidiSpans(e.state.doc.lineAt(s)).find(p=>p.from<=s&&p.to>=s),d=f&&f.dir==Je.RTL?-1:1;a=t.x<u.left?-d:d}let o=this.source(e,s,a);if(o!=null&&o.then){let u=this.pending={pos:s};o.then(f=>{this.pending==u&&(this.pending=null,f&&!(Array.isArray(f)&&!f.length)&&e.dispatch({effects:this.setHover.of(Array.isArray(f)?f:[f])}))},f=>un(e.state,f,"hover tooltip"))}else o&&!(Array.isArray(o)&&!o.length)&&e.dispatch({effects:this.setHover.of(Array.isArray(o)?o:[o])})}get tooltip(){let e=this.view.plugin(Sg),t=e?e.manager.tooltips.findIndex(i=>i.create==Sh.create):-1;return t>-1?e.manager.tooltipViews[t]:null}mousemove(e){var t,i;this.lastMove={x:e.clientX,y:e.clientY,target:e.target,time:Date.now()},this.hoverTimeout<0&&(this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime));let{active:s,tooltip:a}=this;if(s.length&&a&&!vD(a.dom,e)||this.pending){let{pos:o}=s[0]||this.pending,u=(i=(t=s[0])===null||t===void 0?void 0:t.end)!==null&&i!==void 0?i:o;(o==u?this.view.posAtCoords(this.lastMove)!=o:!SD(this.view,o,u,e.clientX,e.clientY))&&(this.view.dispatch({effects:this.setHover.of([])}),this.pending=null)}}mouseleave(e){clearTimeout(this.hoverTimeout),this.hoverTimeout=-1;let{active:t}=this;if(t.length){let{tooltip:i}=this;i&&i.dom.contains(e.relatedTarget)?this.watchTooltipLeave(i.dom):this.view.dispatch({effects:this.setHover.of([])})}}watchTooltipLeave(e){let t=i=>{e.removeEventListener("mouseleave",t),this.active.length&&!this.view.dom.contains(i.relatedTarget)&&this.view.dispatch({effects:this.setHover.of([])})};e.addEventListener("mouseleave",t)}destroy(){clearTimeout(this.hoverTimeout),clearTimeout(this.restartTimeout),this.view.dom.removeEventListener("mouseleave",this.mouseleave),this.view.dom.removeEventListener("mousemove",this.mousemove)}}const pu=4;function vD(n,e){let{left:t,right:i,top:s,bottom:a}=n.getBoundingClientRect(),o;if(o=n.querySelector(".cm-tooltip-arrow")){let u=o.getBoundingClientRect();s=Math.min(u.top,s),a=Math.max(u.bottom,a)}return e.clientX>=t-pu&&e.clientX<=i+pu&&e.clientY>=s-pu&&e.clientY<=a+pu}function SD(n,e,t,i,s,a){let o=n.scrollDOM.getBoundingClientRect(),u=n.documentTop+n.documentPadding.top+n.contentHeight;if(o.left>i||o.right<i||o.top>s||Math.min(o.bottom,u)<s)return!1;let f=n.posAtCoords({x:i,y:s},!1);return f>=e&&f<=t}function wD(n,e={}){let t=Me.define(),i=Gt.define({create(){return[]},update(s,a){if(s.length&&(e.hideOnChange&&(a.docChanged||a.selection)?s=[]:e.hideOn&&(s=s.filter(o=>!e.hideOn(a,o))),a.docChanged)){let o=[];for(let u of s){let f=a.changes.mapPos(u.pos,-1,Qt.TrackDel);if(f!=null){let d=Object.assign(Object.create(null),u);d.pos=f,d.end!=null&&(d.end=a.changes.mapPos(d.end)),o.push(d)}}s=o}for(let o of a.effects)o.is(t)&&(s=o.value),o.is(kD)&&(s=[]);return s},provide:s=>Qu.from(s)});return{active:i,extension:[i,ft.define(s=>new xD(s,n,i,t,e.hoverTime||300)),bD]}}function xw(n,e){let t=n.plugin(Sg);if(!t)return null;let i=t.manager.tooltips.indexOf(e);return i<0?null:t.manager.tooltipViews[i]}const kD=Me.define(),hv=ce.define({combine(n){let e,t;for(let i of n)e=e||i.topContainer,t=t||i.bottomContainer;return{topContainer:e,bottomContainer:t}}});function kg(n,e){let t=n.plugin(vw),i=t?t.specs.indexOf(e):-1;return i>-1?t.panels[i]:null}const vw=ft.fromClass(class{constructor(n){this.input=n.state.facet(go),this.specs=this.input.filter(t=>t),this.panels=this.specs.map(t=>t(n));let e=n.state.facet(hv);this.top=new gu(n,!0,e.topContainer),this.bottom=new gu(n,!1,e.bottomContainer),this.top.sync(this.panels.filter(t=>t.top)),this.bottom.sync(this.panels.filter(t=>!t.top));for(let t of this.panels)t.dom.classList.add("cm-panel"),t.mount&&t.mount()}update(n){let e=n.state.facet(hv);this.top.container!=e.topContainer&&(this.top.sync([]),this.top=new gu(n.view,!0,e.topContainer)),this.bottom.container!=e.bottomContainer&&(this.bottom.sync([]),this.bottom=new gu(n.view,!1,e.bottomContainer)),this.top.syncClasses(),this.bottom.syncClasses();let t=n.state.facet(go);if(t!=this.input){let i=t.filter(f=>f),s=[],a=[],o=[],u=[];for(let f of i){let d=this.specs.indexOf(f),p;d<0?(p=f(n.view),u.push(p)):(p=this.panels[d],p.update&&p.update(n)),s.push(p),(p.top?a:o).push(p)}this.specs=i,this.panels=s,this.top.sync(a),this.bottom.sync(o);for(let f of u)f.dom.classList.add("cm-panel"),f.mount&&f.mount()}else for(let i of this.panels)i.update&&i.update(n)}destroy(){this.top.sync([]),this.bottom.sync([])}},{provide:n=>re.scrollMargins.of(e=>{let t=e.plugin(n);return t&&{top:t.top.scrollMargin(),bottom:t.bottom.scrollMargin()}})});class gu{constructor(e,t,i){this.view=e,this.top=t,this.container=i,this.dom=void 0,this.classes="",this.panels=[],this.syncClasses()}sync(e){for(let t of this.panels)t.destroy&&e.indexOf(t)<0&&t.destroy();this.panels=e,this.syncDOM()}syncDOM(){if(this.panels.length==0){this.dom&&(this.dom.remove(),this.dom=void 0);return}if(!this.dom){this.dom=document.createElement("div"),this.dom.className=this.top?"cm-panels cm-panels-top":"cm-panels cm-panels-bottom",this.dom.style[this.top?"top":"bottom"]="0";let t=this.container||this.view.dom;t.insertBefore(this.dom,this.top?t.firstChild:null)}let e=this.dom.firstChild;for(let t of this.panels)if(t.dom.parentNode==this.dom){for(;e!=t.dom;)e=fv(e);e=e.nextSibling}else this.dom.insertBefore(t.dom,e);for(;e;)e=fv(e)}scrollMargin(){return!this.dom||this.container?0:Math.max(0,this.top?this.dom.getBoundingClientRect().bottom-Math.max(0,this.view.scrollDOM.getBoundingClientRect().top):Math.min(innerHeight,this.view.scrollDOM.getBoundingClientRect().bottom)-this.dom.getBoundingClientRect().top)}syncClasses(){if(!(!this.container||this.classes==this.view.themeClasses)){for(let e of this.classes.split(" "))e&&this.container.classList.remove(e);for(let e of(this.classes=this.view.themeClasses).split(" "))e&&this.container.classList.add(e)}}}function fv(n){let e=n.nextSibling;return n.remove(),e}const go=ce.define({enables:vw});function CD(n,e){let t,i=new Promise(o=>t=o),s=o=>AD(o,e,t);n.state.field(ym,!1)?n.dispatch({effects:Sw.of(s)}):n.dispatch({effects:Me.appendConfig.of(ym.init(()=>[s]))});let a=ww.of(s);return{close:a,result:i.then(o=>((n.win.queueMicrotask||(f=>n.win.setTimeout(f,10)))(()=>{n.state.field(ym).indexOf(s)>-1&&n.dispatch({effects:a})}),o))}}const ym=Gt.define({create(){return[]},update(n,e){for(let t of e.effects)t.is(Sw)?n=[t.value].concat(n):t.is(ww)&&(n=n.filter(i=>i!=t.value));return n},provide:n=>go.computeN([n],e=>e.field(n))}),Sw=Me.define(),ww=Me.define();function AD(n,e,t){let i=e.content?e.content(n,()=>o(null)):null;if(!i){if(i=Qe("form"),e.input){let u=Qe("input",e.input);/^(text|password|number|email|tel|url)$/.test(u.type)&&u.classList.add("cm-textfield"),u.name||(u.name="input"),i.appendChild(Qe("label",(e.label||"")+": ",u))}else i.appendChild(document.createTextNode(e.label||""));i.appendChild(document.createTextNode(" ")),i.appendChild(Qe("button",{class:"cm-button",type:"submit"},e.submitLabel||"OK"))}let s=i.nodeName=="FORM"?[i]:i.querySelectorAll("form");for(let u=0;u<s.length;u++){let f=s[u];f.addEventListener("keydown",d=>{d.keyCode==27?(d.preventDefault(),o(null)):d.keyCode==13&&(d.preventDefault(),o(f))}),f.addEventListener("submit",d=>{d.preventDefault(),o(f)})}let a=Qe("div",i,Qe("button",{onclick:()=>o(null),"aria-label":n.state.phrase("close"),class:"cm-dialog-close",type:"button"},[""]));e.class&&(a.className=e.class),a.classList.add("cm-dialog");function o(u){a.contains(a.ownerDocument.activeElement)&&n.focus(),t(u)}return{dom:a,top:e.top,mount:()=>{if(e.focus){let u;typeof e.focus=="string"?u=i.querySelector(e.focus):u=i.querySelector("input")||i.querySelector("button"),u&&"select"in u?u.select():u&&"focus"in u&&u.focus()}}}}class Xi extends Ol{compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}eq(e){return!1}destroy(e){}}Xi.prototype.elementClass="";Xi.prototype.toDOM=void 0;Xi.prototype.mapMode=Qt.TrackBefore;Xi.prototype.startSide=Xi.prototype.endSide=-1;Xi.prototype.point=!0;const Lu=ce.define(),MD=ce.define(),TD={class:"",renderEmptyElements:!1,elementStyle:"",markers:()=>Re.empty,lineMarker:()=>null,widgetMarker:()=>null,lineMarkerChange:null,initialSpacer:null,updateSpacer:null,domEventHandlers:{},side:"before"},no=ce.define();function ED(n){return[kw(),no.of({...TD,...n})]}const dv=ce.define({combine:n=>n.some(e=>e)});function kw(n){return[ND]}const ND=ft.fromClass(class{constructor(n){this.view=n,this.domAfter=null,this.prevViewport=n.viewport,this.dom=document.createElement("div"),this.dom.className="cm-gutters cm-gutters-before",this.dom.setAttribute("aria-hidden","true"),this.dom.style.minHeight=this.view.contentHeight/this.view.scaleY+"px",this.gutters=n.state.facet(no).map(e=>new pv(n,e)),this.fixed=!n.state.facet(dv);for(let e of this.gutters)e.config.side=="after"?this.getDOMAfter().appendChild(e.dom):this.dom.appendChild(e.dom);this.fixed&&(this.dom.style.position="sticky"),this.syncGutters(!1),n.scrollDOM.insertBefore(this.dom,n.contentDOM)}getDOMAfter(){return this.domAfter||(this.domAfter=document.createElement("div"),this.domAfter.className="cm-gutters cm-gutters-after",this.domAfter.setAttribute("aria-hidden","true"),this.domAfter.style.minHeight=this.view.contentHeight/this.view.scaleY+"px",this.domAfter.style.position=this.fixed?"sticky":"",this.view.scrollDOM.appendChild(this.domAfter)),this.domAfter}update(n){if(this.updateGutters(n)){let e=this.prevViewport,t=n.view.viewport,i=Math.min(e.to,t.to)-Math.max(e.from,t.from);this.syncGutters(i<(t.to-t.from)*.8)}if(n.geometryChanged){let e=this.view.contentHeight/this.view.scaleY+"px";this.dom.style.minHeight=e,this.domAfter&&(this.domAfter.style.minHeight=e)}this.view.state.facet(dv)!=!this.fixed&&(this.fixed=!this.fixed,this.dom.style.position=this.fixed?"sticky":"",this.domAfter&&(this.domAfter.style.position=this.fixed?"sticky":"")),this.prevViewport=n.view.viewport}syncGutters(n){let e=this.dom.nextSibling;n&&(this.dom.remove(),this.domAfter&&this.domAfter.remove());let t=Re.iter(this.view.state.facet(Lu),this.view.viewport.from),i=[],s=this.gutters.map(a=>new DD(a,this.view.viewport,-this.view.documentPadding.top));for(let a of this.view.viewportLineBlocks)if(i.length&&(i=[]),Array.isArray(a.type)){let o=!0;for(let u of a.type)if(u.type==qt.Text&&o){Ap(t,i,u.from);for(let f of s)f.line(this.view,u,i);o=!1}else if(u.widget)for(let f of s)f.widget(this.view,u)}else if(a.type==qt.Text){Ap(t,i,a.from);for(let o of s)o.line(this.view,a,i)}else if(a.widget)for(let o of s)o.widget(this.view,a);for(let a of s)a.finish();n&&(this.view.scrollDOM.insertBefore(this.dom,e),this.domAfter&&this.view.scrollDOM.appendChild(this.domAfter))}updateGutters(n){let e=n.startState.facet(no),t=n.state.facet(no),i=n.docChanged||n.heightChanged||n.viewportChanged||!Re.eq(n.startState.facet(Lu),n.state.facet(Lu),n.view.viewport.from,n.view.viewport.to);if(e==t)for(let s of this.gutters)s.update(n)&&(i=!0);else{i=!0;let s=[];for(let a of t){let o=e.indexOf(a);o<0?s.push(new pv(this.view,a)):(this.gutters[o].update(n),s.push(this.gutters[o]))}for(let a of this.gutters)a.dom.remove(),s.indexOf(a)<0&&a.destroy();for(let a of s)a.config.side=="after"?this.getDOMAfter().appendChild(a.dom):this.dom.appendChild(a.dom);this.gutters=s}return i}destroy(){for(let n of this.gutters)n.destroy();this.dom.remove(),this.domAfter&&this.domAfter.remove()}},{provide:n=>re.scrollMargins.of(e=>{let t=e.plugin(n);if(!t||t.gutters.length==0||!t.fixed)return null;let i=t.dom.offsetWidth*e.scaleX,s=t.domAfter?t.domAfter.offsetWidth*e.scaleX:0;return e.textDirection==Je.LTR?{left:i,right:s}:{right:i,left:s}})});function mv(n){return Array.isArray(n)?n:[n]}function Ap(n,e,t){for(;n.value&&n.from<=t;)n.from==t&&e.push(n.value),n.next()}class DD{constructor(e,t,i){this.gutter=e,this.height=i,this.i=0,this.cursor=Re.iter(e.markers,t.from)}addElement(e,t,i){let{gutter:s}=this,a=(t.top-this.height)/e.scaleY,o=t.height/e.scaleY;if(this.i==s.elements.length){let u=new Cw(e,o,a,i);s.elements.push(u),s.dom.appendChild(u.dom)}else s.elements[this.i].update(e,o,a,i);this.height=t.bottom,this.i++}line(e,t,i){let s=[];Ap(this.cursor,s,t.from),i.length&&(s=s.concat(i));let a=this.gutter.config.lineMarker(e,t,s);a&&s.unshift(a);let o=this.gutter;s.length==0&&!o.config.renderEmptyElements||this.addElement(e,t,s)}widget(e,t){let i=this.gutter.config.widgetMarker(e,t.widget,t),s=i?[i]:null;for(let a of e.state.facet(MD)){let o=a(e,t.widget,t);o&&(s||(s=[])).push(o)}s&&this.addElement(e,t,s)}finish(){let e=this.gutter;for(;e.elements.length>this.i;){let t=e.elements.pop();e.dom.removeChild(t.dom),t.destroy()}}}class pv{constructor(e,t){this.view=e,this.config=t,this.elements=[],this.spacer=null,this.dom=document.createElement("div"),this.dom.className="cm-gutter"+(this.config.class?" "+this.config.class:"");for(let i in t.domEventHandlers)this.dom.addEventListener(i,s=>{let a=s.target,o;if(a!=this.dom&&this.dom.contains(a)){for(;a.parentNode!=this.dom;)a=a.parentNode;let f=a.getBoundingClientRect();o=(f.top+f.bottom)/2}else o=s.clientY;let u=e.lineBlockAtHeight(o-e.documentTop);t.domEventHandlers[i](e,u,s)&&s.preventDefault()});this.markers=mv(t.markers(e)),t.initialSpacer&&(this.spacer=new Cw(e,0,0,[t.initialSpacer(e)]),this.dom.appendChild(this.spacer.dom),this.spacer.dom.style.cssText+="visibility: hidden; pointer-events: none")}update(e){let t=this.markers;if(this.markers=mv(this.config.markers(e.view)),this.spacer&&this.config.updateSpacer){let s=this.config.updateSpacer(this.spacer.markers[0],e);s!=this.spacer.markers[0]&&this.spacer.update(e.view,0,0,[s])}let i=e.view.viewport;return!Re.eq(this.markers,t,i.from,i.to)||(this.config.lineMarkerChange?this.config.lineMarkerChange(e):!1)}destroy(){for(let e of this.elements)e.destroy()}}class Cw{constructor(e,t,i,s){this.height=-1,this.above=0,this.markers=[],this.dom=document.createElement("div"),this.dom.className="cm-gutterElement",this.update(e,t,i,s)}update(e,t,i,s){this.height!=t&&(this.height=t,this.dom.style.height=t+"px"),this.above!=i&&(this.dom.style.marginTop=(this.above=i)?i+"px":""),OD(this.markers,s)||this.setMarkers(e,s)}setMarkers(e,t){let i="cm-gutterElement",s=this.dom.firstChild;for(let a=0,o=0;;){let u=o,f=a<t.length?t[a++]:null,d=!1;if(f){let p=f.elementClass;p&&(i+=" "+p);for(let y=o;y<this.markers.length;y++)if(this.markers[y].compare(f)){u=y,d=!0;break}}else u=this.markers.length;for(;o<u;){let p=this.markers[o++];if(p.toDOM){p.destroy(s);let y=s.nextSibling;s.remove(),s=y}}if(!f)break;f.toDOM&&(d?s=s.nextSibling:this.dom.insertBefore(f.toDOM(e),s)),d&&o++}this.dom.className=i,this.markers=t}destroy(){this.setMarkers(null,[])}}function OD(n,e){if(n.length!=e.length)return!1;for(let t=0;t<n.length;t++)if(!n[t].compare(e[t]))return!1;return!0}const RD=ce.define(),jD=ce.define(),mr=ce.define({combine(n){return wi(n,{formatNumber:String,domEventHandlers:{}},{domEventHandlers(e,t){let i=Object.assign({},e);for(let s in t){let a=i[s],o=t[s];i[s]=a?(u,f,d)=>a(u,f,d)||o(u,f,d):o}return i}})}});class bm extends Xi{constructor(e){super(),this.number=e}eq(e){return this.number==e.number}toDOM(){return document.createTextNode(this.number)}}function xm(n,e){return n.state.facet(mr).formatNumber(e,n.state)}const _D=no.compute([mr],n=>({class:"cm-lineNumbers",renderEmptyElements:!1,markers(e){return e.state.facet(RD)},lineMarker(e,t,i){return i.some(s=>s.toDOM)?null:new bm(xm(e,e.state.doc.lineAt(t.from).number))},widgetMarker:(e,t,i)=>{for(let s of e.state.facet(jD)){let a=s(e,t,i);if(a)return a}return null},lineMarkerChange:e=>e.startState.facet(mr)!=e.state.facet(mr),initialSpacer(e){return new bm(xm(e,gv(e.state.doc.lines)))},updateSpacer(e,t){let i=xm(t.view,gv(t.view.state.doc.lines));return i==e.number?e:new bm(i)},domEventHandlers:n.facet(mr).domEventHandlers,side:"before"}));function LD(n={}){return[mr.of(n),kw(),_D]}function gv(n){let e=9;for(;e<n;)e=e*10+9;return e}const BD=new class extends Xi{constructor(){super(...arguments),this.elementClass="cm-activeLineGutter"}},zD=Lu.compute(["selection"],n=>{let e=[],t=-1;for(let i of n.selection.ranges){let s=n.doc.lineAt(i.head).from;s>t&&(t=s,e.push(BD.range(s)))}return Re.of(e)});function HD(){return zD}let VD=0;class Bn{constructor(e,t,i,s){this.name=e,this.set=t,this.base=i,this.modified=s,this.id=VD++}toString(){let{name:e}=this;for(let t of this.modified)t.name&&(e=`${t.name}(${e})`);return e}static define(e,t){let i=typeof e=="string"?e:"?";if(e instanceof Bn&&(t=e),t!=null&&t.base)throw new Error("Can not derive from a modified tag");let s=new Bn(i,[],null,[]);if(s.set.push(s),t)for(let a of t.set)s.set.push(a);return s}static defineModifier(e){let t=new Zu(e);return i=>i.modified.indexOf(t)>-1?i:Zu.get(i.base||i,i.modified.concat(t).sort((s,a)=>s.id-a.id))}}let UD=0;class Zu{constructor(e){this.name=e,this.instances=[],this.id=UD++}static get(e,t){if(!t.length)return e;let i=t[0].instances.find(u=>u.base==e&&qD(t,u.modified));if(i)return i;let s=[],a=new Bn(e.name,s,e,t);for(let u of t)u.instances.push(a);let o=PD(t);for(let u of e.set)if(!u.modified.length)for(let f of o)s.push(Zu.get(u,f));return a}}function qD(n,e){return n.length==e.length&&n.every((t,i)=>t==e[i])}function PD(n){let e=[[]];for(let t=0;t<n.length;t++)for(let i=0,s=e.length;i<s;i++)e.push(e[i].concat(n[t]));return e.sort((t,i)=>i.length-t.length)}function KD(n){let e=Object.create(null);for(let t in n){let i=n[t];Array.isArray(i)||(i=[i]);for(let s of t.split(" "))if(s){let a=[],o=2,u=s;for(let y=0;;){if(u=="..."&&y>0&&y+3==s.length){o=1;break}let x=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(u);if(!x)throw new RangeError("Invalid path: "+s);if(a.push(x[0]=="*"?"":x[0][0]=='"'?JSON.parse(x[0]):x[0]),y+=x[0].length,y==s.length)break;let S=s[y++];if(y==s.length&&S=="!"){o=0;break}if(S!="/")throw new RangeError("Invalid path: "+s);u=s.slice(y)}let f=a.length-1,d=a[f];if(!d)throw new RangeError("Invalid path: "+s);let p=new yo(i,o,f>0?a.slice(0,f):null);e[d]=p.sort(e[d])}}return Aw.add(e)}const Aw=new Le({combine(n,e){let t,i,s;for(;n||e;){if(!n||e&&n.depth>=e.depth?(s=e,e=e.next):(s=n,n=n.next),t&&t.mode==s.mode&&!s.context&&!t.context)continue;let a=new yo(s.tags,s.mode,s.context);t?t.next=a:i=a,t=a}return i}});class yo{constructor(e,t,i,s){this.tags=e,this.mode=t,this.context=i,this.next=s}get opaque(){return this.mode==0}get inherit(){return this.mode==1}sort(e){return!e||e.depth<this.depth?(this.next=e,this):(e.next=this.sort(e.next),e)}get depth(){return this.context?this.context.length:0}}yo.empty=new yo([],2,null);function Mw(n,e){let t=Object.create(null);for(let a of n)if(!Array.isArray(a.tag))t[a.tag.id]=a.class;else for(let o of a.tag)t[o.id]=a.class;let{scope:i,all:s=null}=e||{};return{style:a=>{let o=s;for(let u of a)for(let f of u.set){let d=t[f.id];if(d){o=o?o+" "+d:d;break}}return o},scope:i}}function YD(n,e){let t=null;for(let i of n){let s=i.style(e);s&&(t=t?t+" "+s:s)}return t}function GD(n,e,t,i=0,s=n.length){let a=new ID(i,Array.isArray(e)?e:[e],t);a.highlightRange(n.cursor(),i,s,"",a.highlighters),a.flush(s)}class ID{constructor(e,t,i){this.at=e,this.highlighters=t,this.span=i,this.class=""}startSpan(e,t){t!=this.class&&(this.flush(e),e>this.at&&(this.at=e),this.class=t)}flush(e){e>this.at&&this.class&&this.span(this.at,e,this.class)}highlightRange(e,t,i,s,a){let{type:o,from:u,to:f}=e;if(u>=i||f<=t)return;o.isTop&&(a=this.highlighters.filter(S=>!S.scope||S.scope(o)));let d=s,p=FD(e)||yo.empty,y=YD(a,p.tags);if(y&&(d&&(d+=" "),d+=y,p.mode==1&&(s+=(s?" ":"")+y)),this.startSpan(Math.max(t,u),d),p.opaque)return;let x=e.tree&&e.tree.prop(Le.mounted);if(x&&x.overlay){let S=e.node.enter(x.overlay[0].from+u,1),w=this.highlighters.filter(C=>!C.scope||C.scope(x.tree.type)),A=e.firstChild();for(let C=0,T=u;;C++){let j=C<x.overlay.length?x.overlay[C]:null,N=j?j.from+u:f,q=Math.max(t,T),B=Math.min(i,N);if(q<B&&A)for(;e.from<B&&(this.highlightRange(e,q,B,s,a),this.startSpan(Math.min(B,e.to),d),!(e.to>=N||!e.nextSibling())););if(!j||N>i)break;T=j.to+u,T>t&&(this.highlightRange(S.cursor(),Math.max(t,j.from+u),Math.min(i,T),"",w),this.startSpan(Math.min(i,T),d))}A&&e.parent()}else if(e.firstChild()){x&&(s="");do if(!(e.to<=t)){if(e.from>=i)break;this.highlightRange(e,t,i,s,a),this.startSpan(Math.min(i,e.to),d)}while(e.nextSibling());e.parent()}}}function FD(n){let e=n.type.prop(Aw);for(;e&&e.context&&!n.matchContext(e.context);)e=e.next;return e||null}const le=Bn.define,yu=le(),Cl=le(),yv=le(Cl),bv=le(Cl),Al=le(),bu=le(Al),vm=le(Al),ui=le(),rs=le(ui),oi=le(),ci=le(),Mp=le(),Ua=le(Mp),xu=le(),I={comment:yu,lineComment:le(yu),blockComment:le(yu),docComment:le(yu),name:Cl,variableName:le(Cl),typeName:yv,tagName:le(yv),propertyName:bv,attributeName:le(bv),className:le(Cl),labelName:le(Cl),namespace:le(Cl),macroName:le(Cl),literal:Al,string:bu,docString:le(bu),character:le(bu),attributeValue:le(bu),number:vm,integer:le(vm),float:le(vm),bool:le(Al),regexp:le(Al),escape:le(Al),color:le(Al),url:le(Al),keyword:oi,self:le(oi),null:le(oi),atom:le(oi),unit:le(oi),modifier:le(oi),operatorKeyword:le(oi),controlKeyword:le(oi),definitionKeyword:le(oi),moduleKeyword:le(oi),operator:ci,derefOperator:le(ci),arithmeticOperator:le(ci),logicOperator:le(ci),bitwiseOperator:le(ci),compareOperator:le(ci),updateOperator:le(ci),definitionOperator:le(ci),typeOperator:le(ci),controlOperator:le(ci),punctuation:Mp,separator:le(Mp),bracket:Ua,angleBracket:le(Ua),squareBracket:le(Ua),paren:le(Ua),brace:le(Ua),content:ui,heading:rs,heading1:le(rs),heading2:le(rs),heading3:le(rs),heading4:le(rs),heading5:le(rs),heading6:le(rs),contentSeparator:le(ui),list:le(ui),quote:le(ui),emphasis:le(ui),strong:le(ui),link:le(ui),monospace:le(ui),strikethrough:le(ui),inserted:le(),deleted:le(),changed:le(),invalid:le(),meta:xu,documentMeta:le(xu),annotation:le(xu),processingInstruction:le(xu),definition:Bn.defineModifier("definition"),constant:Bn.defineModifier("constant"),function:Bn.defineModifier("function"),standard:Bn.defineModifier("standard"),local:Bn.defineModifier("local"),special:Bn.defineModifier("special")};for(let n in I){let e=I[n];e instanceof Bn&&(e.name=n)}Mw([{tag:I.link,class:"tok-link"},{tag:I.heading,class:"tok-heading"},{tag:I.emphasis,class:"tok-emphasis"},{tag:I.strong,class:"tok-strong"},{tag:I.keyword,class:"tok-keyword"},{tag:I.atom,class:"tok-atom"},{tag:I.bool,class:"tok-bool"},{tag:I.url,class:"tok-url"},{tag:I.labelName,class:"tok-labelName"},{tag:I.inserted,class:"tok-inserted"},{tag:I.deleted,class:"tok-deleted"},{tag:I.literal,class:"tok-literal"},{tag:I.string,class:"tok-string"},{tag:I.number,class:"tok-number"},{tag:[I.regexp,I.escape,I.special(I.string)],class:"tok-string2"},{tag:I.variableName,class:"tok-variableName"},{tag:I.local(I.variableName),class:"tok-variableName tok-local"},{tag:I.definition(I.variableName),class:"tok-variableName tok-definition"},{tag:I.special(I.variableName),class:"tok-variableName2"},{tag:I.definition(I.propertyName),class:"tok-propertyName tok-definition"},{tag:I.typeName,class:"tok-typeName"},{tag:I.namespace,class:"tok-namespace"},{tag:I.className,class:"tok-className"},{tag:I.macroName,class:"tok-macroName"},{tag:I.propertyName,class:"tok-propertyName"},{tag:I.operator,class:"tok-operator"},{tag:I.comment,class:"tok-comment"},{tag:I.meta,class:"tok-meta"},{tag:I.invalid,class:"tok-invalid"},{tag:I.punctuation,class:"tok-punctuation"}]);var Sm;const pr=new Le;function WD(n){return ce.define({combine:n?e=>e.concat(n):void 0})}const XD=new Le;class Wn{constructor(e,t,i=[],s=""){this.data=e,this.name=s,ze.prototype.hasOwnProperty("tree")||Object.defineProperty(ze.prototype,"tree",{get(){return Yt(this)}}),this.parser=t,this.extension=[Ll.of(this),ze.languageData.of((a,o,u)=>{let f=xv(a,o,u),d=f.type.prop(pr);if(!d)return[];let p=a.facet(d),y=f.type.prop(XD);if(y){let x=f.resolve(o-f.from,u);for(let S of y)if(S.test(x,a)){let w=a.facet(S.facet);return S.type=="replace"?w:w.concat(p)}}return p})].concat(i)}isActiveAt(e,t,i=-1){return xv(e,t,i).type.prop(pr)==this.data}findRegions(e){let t=e.facet(Ll);if((t==null?void 0:t.data)==this.data)return[{from:0,to:e.doc.length}];if(!t||!t.allowsNesting)return[];let i=[],s=(a,o)=>{if(a.prop(pr)==this.data){i.push({from:o,to:o+a.length});return}let u=a.prop(Le.mounted);if(u){if(u.tree.prop(pr)==this.data){if(u.overlay)for(let f of u.overlay)i.push({from:f.from+o,to:f.to+o});else i.push({from:o,to:o+a.length});return}else if(u.overlay){let f=i.length;if(s(u.tree,u.overlay[0].from+o),i.length>f)return}}for(let f=0;f<a.children.length;f++){let d=a.children[f];d instanceof st&&s(d,a.positions[f]+o)}};return s(Yt(e),0),i}get allowsNesting(){return!0}}Wn.setState=Me.define();function xv(n,e,t){let i=n.facet(Ll),s=Yt(n).topNode;if(!i||i.allowsNesting)for(let a=s;a;a=a.enter(e,t,gt.ExcludeBuffers|gt.EnterBracketed))a.type.isTop&&(s=a);return s}function Yt(n){let e=n.field(Wn.state,!1);return e?e.tree:st.empty}class QD{constructor(e){this.doc=e,this.cursorPos=0,this.string="",this.cursor=e.iter()}get length(){return this.doc.length}syncTo(e){return this.string=this.cursor.next(e-this.cursorPos).value,this.cursorPos=e+this.string.length,this.cursorPos-this.string.length}chunk(e){return this.syncTo(e),this.string}get lineChunks(){return!0}read(e,t){let i=this.cursorPos-this.string.length;return e<i||t>=this.cursorPos?this.doc.sliceString(e,t):this.string.slice(e-i,t-i)}}let qa=null;class Dr{constructor(e,t,i=[],s,a,o,u,f){this.parser=e,this.state=t,this.fragments=i,this.tree=s,this.treeLen=a,this.viewport=o,this.skipped=u,this.scheduleOn=f,this.parse=null,this.tempSkipped=[]}static create(e,t,i){return new Dr(e,t,[],st.empty,0,i,[],null)}startParse(){return this.parser.startParse(new QD(this.state.doc),this.fragments)}work(e,t){return t!=null&&t>=this.state.doc.length&&(t=void 0),this.tree!=st.empty&&this.isDone(t??this.state.doc.length)?(this.takeTree(),!0):this.withContext(()=>{var i;if(typeof e=="number"){let s=Date.now()+e;e=()=>Date.now()>s}for(this.parse||(this.parse=this.startParse()),t!=null&&(this.parse.stoppedAt==null||this.parse.stoppedAt>t)&&t<this.state.doc.length&&this.parse.stopAt(t);;){let s=this.parse.advance();if(s)if(this.fragments=this.withoutTempSkipped(ms.addTree(s,this.fragments,this.parse.stoppedAt!=null)),this.treeLen=(i=this.parse.stoppedAt)!==null&&i!==void 0?i:this.state.doc.length,this.tree=s,this.parse=null,this.treeLen<(t??this.state.doc.length))this.parse=this.startParse();else return!0;if(e())return!1}})}takeTree(){let e,t;this.parse&&(e=this.parse.parsedPos)>=this.treeLen&&((this.parse.stoppedAt==null||this.parse.stoppedAt>e)&&this.parse.stopAt(e),this.withContext(()=>{for(;!(t=this.parse.advance()););}),this.treeLen=e,this.tree=t,this.fragments=this.withoutTempSkipped(ms.addTree(this.tree,this.fragments,!0)),this.parse=null)}withContext(e){let t=qa;qa=this;try{return e()}finally{qa=t}}withoutTempSkipped(e){for(let t;t=this.tempSkipped.pop();)e=vv(e,t.from,t.to);return e}changes(e,t){let{fragments:i,tree:s,treeLen:a,viewport:o,skipped:u}=this;if(this.takeTree(),!e.empty){let f=[];if(e.iterChangedRanges((d,p,y,x)=>f.push({fromA:d,toA:p,fromB:y,toB:x})),i=ms.applyChanges(i,f),s=st.empty,a=0,o={from:e.mapPos(o.from,-1),to:e.mapPos(o.to,1)},this.skipped.length){u=[];for(let d of this.skipped){let p=e.mapPos(d.from,1),y=e.mapPos(d.to,-1);p<y&&u.push({from:p,to:y})}}}return new Dr(this.parser,t,i,s,a,o,u,this.scheduleOn)}updateViewport(e){if(this.viewport.from==e.from&&this.viewport.to==e.to)return!1;this.viewport=e;let t=this.skipped.length;for(let i=0;i<this.skipped.length;i++){let{from:s,to:a}=this.skipped[i];s<e.to&&a>e.from&&(this.fragments=vv(this.fragments,s,a),this.skipped.splice(i--,1))}return this.skipped.length>=t?!1:(this.reset(),!0)}reset(){this.parse&&(this.takeTree(),this.parse=null)}skipUntilInView(e,t){this.skipped.push({from:e,to:t})}static getSkippingParser(e){return new class extends nS{createParse(t,i,s){let a=s[0].from,o=s[s.length-1].to;return{parsedPos:a,advance(){let f=qa;if(f){for(let d of s)f.tempSkipped.push(d);e&&(f.scheduleOn=f.scheduleOn?Promise.all([f.scheduleOn,e]):e)}return this.parsedPos=o,new st(fn.none,[],[],o-a)},stoppedAt:null,stopAt(){}}}}}isDone(e){e=Math.min(e,this.state.doc.length);let t=this.fragments;return this.treeLen>=e&&t.length&&t[0].from==0&&t[0].to>=e}static get(){return qa}}function vv(n,e,t){return ms.applyChanges(n,[{fromA:e,toA:t,fromB:e,toB:t}])}class Or{constructor(e){this.context=e,this.tree=e.tree}apply(e){if(!e.docChanged&&this.tree==this.context.tree)return this;let t=this.context.changes(e.changes,e.state),i=this.context.treeLen==e.startState.doc.length?void 0:Math.max(e.changes.mapPos(this.context.treeLen),t.viewport.to);return t.work(20,i)||t.takeTree(),new Or(t)}static init(e){let t=Math.min(3e3,e.doc.length),i=Dr.create(e.facet(Ll).parser,e,{from:0,to:t});return i.work(20,t)||i.takeTree(),new Or(i)}}Wn.state=Gt.define({create:Or.init,update(n,e){for(let t of e.effects)if(t.is(Wn.setState))return t.value;return e.startState.facet(Ll)!=e.state.facet(Ll)?Or.init(e.state):n.apply(e)}});let Tw=n=>{let e=setTimeout(()=>n(),500);return()=>clearTimeout(e)};typeof requestIdleCallback<"u"&&(Tw=n=>{let e=-1,t=setTimeout(()=>{e=requestIdleCallback(n,{timeout:400})},100);return()=>e<0?clearTimeout(t):cancelIdleCallback(e)});const wm=typeof navigator<"u"&&(!((Sm=navigator.scheduling)===null||Sm===void 0)&&Sm.isInputPending)?()=>navigator.scheduling.isInputPending():null,ZD=ft.fromClass(class{constructor(e){this.view=e,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}update(e){let t=this.view.state.field(Wn.state).context;(t.updateViewport(e.view.viewport)||this.view.viewport.to>t.treeLen)&&this.scheduleWork(),(e.docChanged||e.selectionSet)&&(this.view.hasFocus&&(this.chunkBudget+=50),this.scheduleWork()),this.checkAsyncSchedule(t)}scheduleWork(){if(this.working)return;let{state:e}=this.view,t=e.field(Wn.state);(t.tree!=t.context.tree||!t.context.isDone(e.doc.length))&&(this.working=Tw(this.work))}work(e){this.working=null;let t=Date.now();if(this.chunkEnd<t&&(this.chunkEnd<0||this.view.hasFocus)&&(this.chunkEnd=t+3e4,this.chunkBudget=3e3),this.chunkBudget<=0)return;let{state:i,viewport:{to:s}}=this.view,a=i.field(Wn.state);if(a.tree==a.context.tree&&a.context.isDone(s+1e5))return;let o=Date.now()+Math.min(this.chunkBudget,100,e&&!wm?Math.max(25,e.timeRemaining()-5):1e9),u=a.context.treeLen<s&&i.doc.length>s+1e3,f=a.context.work(()=>wm&&wm()||Date.now()>o,s+(u?0:1e5));this.chunkBudget-=Date.now()-t,(f||this.chunkBudget<=0)&&(a.context.takeTree(),this.view.dispatch({effects:Wn.setState.of(new Or(a.context))})),this.chunkBudget>0&&!(f&&!u)&&this.scheduleWork(),this.checkAsyncSchedule(a.context)}checkAsyncSchedule(e){e.scheduleOn&&(this.workScheduled++,e.scheduleOn.then(()=>this.scheduleWork()).catch(t=>un(this.view.state,t)).then(()=>this.workScheduled--),e.scheduleOn=null)}destroy(){this.working&&this.working()}isWorking(){return!!(this.working||this.workScheduled>0)}},{eventHandlers:{focus(){this.scheduleWork()}}}),Ll=ce.define({combine(n){return n.length?n[0]:null},enables:n=>[Wn.state,ZD,re.contentAttributes.compute([n],e=>{let t=e.facet(n);return t&&t.name?{"data-language":t.name}:{}})]}),$D=ce.define(),wh=ce.define({combine:n=>{if(!n.length)return"  ";let e=n[0];if(!e||/\S/.test(e)||Array.from(e).some(t=>t!=e[0]))throw new Error("Invalid indent unit: "+JSON.stringify(n[0]));return e}});function xs(n){let e=n.facet(wh);return e.charCodeAt(0)==9?n.tabSize*e.length:e.length}function bo(n,e){let t="",i=n.tabSize,s=n.facet(wh)[0];if(s=="	"){for(;e>=i;)t+="	",e-=i;s=" "}for(let a=0;a<e;a++)t+=s;return t}function Cg(n,e){n instanceof ze&&(n=new kh(n));for(let i of n.state.facet($D)){let s=i(n,e);if(s!==void 0)return s}let t=Yt(n.state);return t.length>=e?JD(n,t,e):null}class kh{constructor(e,t={}){this.state=e,this.options=t,this.unit=xs(e)}lineAt(e,t=1){let i=this.state.doc.lineAt(e),{simulateBreak:s,simulateDoubleBreak:a}=this.options;return s!=null&&s>=i.from&&s<=i.to?a&&s==e?{text:"",from:e}:(t<0?s<e:s<=e)?{text:i.text.slice(s-i.from),from:s}:{text:i.text.slice(0,s-i.from),from:i.from}:i}textAfterPos(e,t=1){if(this.options.simulateDoubleBreak&&e==this.options.simulateBreak)return"";let{text:i,from:s}=this.lineAt(e,t);return i.slice(e-s,Math.min(i.length,e+100-s))}column(e,t=1){let{text:i,from:s}=this.lineAt(e,t),a=this.countColumn(i,e-s),o=this.options.overrideIndentation?this.options.overrideIndentation(s):-1;return o>-1&&(a+=o-this.countColumn(i,i.search(/\S|$/))),a}countColumn(e,t=e.length){return Br(e,this.state.tabSize,t)}lineIndent(e,t=1){let{text:i,from:s}=this.lineAt(e,t),a=this.options.overrideIndentation;if(a){let o=a(s);if(o>-1)return o}return this.countColumn(i,i.search(/\S|$/))}get simulatedBreak(){return this.options.simulateBreak||null}}const Ew=new Le;function JD(n,e,t){let i=e.resolveStack(t),s=e.resolveInner(t,-1).resolve(t,0).enterUnfinishedNodesBefore(t);if(s!=i.node){let a=[];for(let o=s;o&&!(o.from<i.node.from||o.to>i.node.to||o.from==i.node.from&&o.type==i.node.type);o=o.parent)a.push(o);for(let o=a.length-1;o>=0;o--)i={node:a[o],next:i}}return Nw(i,n,t)}function Nw(n,e,t){for(let i=n;i;i=i.next){let s=tO(i.node);if(s)return s(Ag.create(e,t,i))}return 0}function eO(n){return n.pos==n.options.simulateBreak&&n.options.simulateDoubleBreak}function tO(n){let e=n.type.prop(Ew);if(e)return e;let t=n.firstChild,i;if(t&&(i=t.type.prop(Le.closedBy))){let s=n.lastChild,a=s&&i.indexOf(s.name)>-1;return o=>sO(o,!0,1,void 0,a&&!eO(o)?s.from:void 0)}return n.parent==null?nO:null}function nO(){return 0}class Ag extends kh{constructor(e,t,i){super(e.state,e.options),this.base=e,this.pos=t,this.context=i}get node(){return this.context.node}static create(e,t,i){return new Ag(e,t,i)}get textAfter(){return this.textAfterPos(this.pos)}get baseIndent(){return this.baseIndentFor(this.node)}baseIndentFor(e){let t=this.state.doc.lineAt(e.from);for(;;){let i=e.resolve(t.from);for(;i.parent&&i.parent.from==i.from;)i=i.parent;if(iO(i,e))break;t=this.state.doc.lineAt(i.from)}return this.lineIndent(t.from)}continue(){return Nw(this.context.next,this.base,this.pos)}}function iO(n,e){for(let t=e;t;t=t.parent)if(n==t)return!0;return!1}function lO(n){let e=n.node,t=e.childAfter(e.from),i=e.lastChild;if(!t)return null;let s=n.options.simulateBreak,a=n.state.doc.lineAt(t.from),o=s==null||s<=a.from?a.to:Math.min(a.to,s);for(let u=t.to;;){let f=e.childAfter(u);if(!f||f==i)return null;if(!f.type.isSkipped){if(f.from>=o)return null;let d=/^ */.exec(a.text.slice(t.to-a.from))[0].length;return{from:t.from,to:t.to+d}}u=f.to}}function sO(n,e,t,i,s){let a=n.textAfter,o=a.match(/^\s*/)[0].length,u=i&&a.slice(o,o+i.length)==i||s==n.pos+o,f=lO(n);return f?u?n.column(f.from):n.column(f.to):n.baseIndent+(u?0:n.unit*t)}const rO=200;function aO(){return ze.transactionFilter.of(n=>{if(!n.docChanged||!n.isUserEvent("input.type")&&!n.isUserEvent("input.complete"))return n;let e=n.startState.languageDataAt("indentOnInput",n.startState.selection.main.head);if(!e.length)return n;let t=n.newDoc,{head:i}=n.newSelection.main,s=t.lineAt(i);if(i>s.from+rO)return n;let a=t.sliceString(s.from,i);if(!e.some(d=>d.test(a)))return n;let{state:o}=n,u=-1,f=[];for(let{head:d}of o.selection.ranges){let p=o.doc.lineAt(d);if(p.from==u)continue;u=p.from;let y=Cg(o,p.from);if(y==null)continue;let x=/^\s*/.exec(p.text)[0],S=bo(o,y);x!=S&&f.push({from:p.from,to:p.from+x.length,insert:S})}return f.length?[n,{changes:f,sequential:!0}]:n})}const oO=ce.define(),cO=new Le;function uO(n,e,t){let i=Yt(n);if(i.length<t)return null;let s=i.resolveStack(t,1),a=null;for(let o=s;o;o=o.next){let u=o.node;if(u.to<=t||u.from>t)continue;if(a&&u.from<e)break;let f=u.type.prop(cO);if(f&&(u.to<i.length-50||i.length==n.doc.length||!hO(u))){let d=f(u,n);d&&d.from<=t&&d.from>=e&&d.to>t&&(a=d)}}return a}function hO(n){let e=n.lastChild;return e&&e.to==n.to&&e.type.isError}function $u(n,e,t){for(let i of n.facet(oO)){let s=i(n,e,t);if(s)return s}return uO(n,e,t)}function Dw(n,e){let t=e.mapPos(n.from,1),i=e.mapPos(n.to,-1);return t>=i?void 0:{from:t,to:i}}const Ch=Me.define({map:Dw}),jo=Me.define({map:Dw});function Ow(n){let e=[];for(let{head:t}of n.state.selection.ranges)e.some(i=>i.from<=t&&i.to>=t)||e.push(n.lineBlockAt(t));return e}const vs=Gt.define({create(){return Se.none},update(n,e){e.isUserEvent("delete")&&e.changes.iterChangedRanges((t,i)=>n=Sv(n,t,i)),n=n.map(e.changes);for(let t of e.effects)if(t.is(Ch)&&!fO(n,t.value.from,t.value.to)){let{preparePlaceholder:i}=e.state.facet(_w),s=i?Se.replace({widget:new xO(i(e.state,t.value))}):wv;n=n.update({add:[s.range(t.value.from,t.value.to)]})}else t.is(jo)&&(n=n.update({filter:(i,s)=>t.value.from!=i||t.value.to!=s,filterFrom:t.value.from,filterTo:t.value.to}));return e.selection&&(n=Sv(n,e.selection.main.head)),n},provide:n=>re.decorations.from(n),toJSON(n,e){let t=[];return n.between(0,e.doc.length,(i,s)=>{t.push(i,s)}),t},fromJSON(n){if(!Array.isArray(n)||n.length%2)throw new RangeError("Invalid JSON for fold state");let e=[];for(let t=0;t<n.length;){let i=n[t++],s=n[t++];if(typeof i!="number"||typeof s!="number")throw new RangeError("Invalid JSON for fold state");e.push(wv.range(i,s))}return Se.set(e,!0)}});function Sv(n,e,t=e){let i=!1;return n.between(e,t,(s,a)=>{s<t&&a>e&&(i=!0)}),i?n.update({filterFrom:e,filterTo:t,filter:(s,a)=>s>=t||a<=e}):n}function Ju(n,e,t){var i;let s=null;return(i=n.field(vs,!1))===null||i===void 0||i.between(e,t,(a,o)=>{(!s||s.from>a)&&(s={from:a,to:o})}),s}function fO(n,e,t){let i=!1;return n.between(e,e,(s,a)=>{s==e&&a==t&&(i=!0)}),i}function Rw(n,e){return n.field(vs,!1)?e:e.concat(Me.appendConfig.of(Lw()))}const dO=n=>{for(let e of Ow(n)){let t=$u(n.state,e.from,e.to);if(t)return n.dispatch({effects:Rw(n.state,[Ch.of(t),jw(n,t)])}),!0}return!1},mO=n=>{if(!n.state.field(vs,!1))return!1;let e=[];for(let t of Ow(n)){let i=Ju(n.state,t.from,t.to);i&&e.push(jo.of(i),jw(n,i,!1))}return e.length&&n.dispatch({effects:e}),e.length>0};function jw(n,e,t=!0){let i=n.state.doc.lineAt(e.from).number,s=n.state.doc.lineAt(e.to).number;return re.announce.of(`${n.state.phrase(t?"Folded lines":"Unfolded lines")} ${i} ${n.state.phrase("to")} ${s}.`)}const pO=n=>{let{state:e}=n,t=[];for(let i=0;i<e.doc.length;){let s=n.lineBlockAt(i),a=$u(e,s.from,s.to);a&&t.push(Ch.of(a)),i=(a?n.lineBlockAt(a.to):s).to+1}return t.length&&n.dispatch({effects:Rw(n.state,t)}),!!t.length},gO=n=>{let e=n.state.field(vs,!1);if(!e||!e.size)return!1;let t=[];return e.between(0,n.state.doc.length,(i,s)=>{t.push(jo.of({from:i,to:s}))}),n.dispatch({effects:t}),!0},yO=[{key:"Ctrl-Shift-[",mac:"Cmd-Alt-[",run:dO},{key:"Ctrl-Shift-]",mac:"Cmd-Alt-]",run:mO},{key:"Ctrl-Alt-[",run:pO},{key:"Ctrl-Alt-]",run:gO}],bO={placeholderDOM:null,preparePlaceholder:null,placeholderText:""},_w=ce.define({combine(n){return wi(n,bO)}});function Lw(n){return[vs,wO]}function Bw(n,e){let{state:t}=n,i=t.facet(_w),s=o=>{let u=n.lineBlockAt(n.posAtDOM(o.target)),f=Ju(n.state,u.from,u.to);f&&n.dispatch({effects:jo.of(f)}),o.preventDefault()};if(i.placeholderDOM)return i.placeholderDOM(n,s,e);let a=document.createElement("span");return a.textContent=i.placeholderText,a.setAttribute("aria-label",t.phrase("folded code")),a.title=t.phrase("unfold"),a.className="cm-foldPlaceholder",a.onclick=s,a}const wv=Se.replace({widget:new class extends ki{toDOM(n){return Bw(n,null)}}});class xO extends ki{constructor(e){super(),this.value=e}eq(e){return this.value==e.value}toDOM(e){return Bw(e,this.value)}}const vO={openText:"",closedText:"",markerDOM:null,domEventHandlers:{},foldingChanged:()=>!1};class km extends Xi{constructor(e,t){super(),this.config=e,this.open=t}eq(e){return this.config==e.config&&this.open==e.open}toDOM(e){if(this.config.markerDOM)return this.config.markerDOM(this.open);let t=document.createElement("span");return t.textContent=this.open?this.config.openText:this.config.closedText,t.title=e.state.phrase(this.open?"Fold line":"Unfold line"),t}}function SO(n={}){let e={...vO,...n},t=new km(e,!0),i=new km(e,!1),s=ft.fromClass(class{constructor(o){this.from=o.viewport.from,this.markers=this.buildMarkers(o)}update(o){(o.docChanged||o.viewportChanged||o.startState.facet(Ll)!=o.state.facet(Ll)||o.startState.field(vs,!1)!=o.state.field(vs,!1)||Yt(o.startState)!=Yt(o.state)||e.foldingChanged(o))&&(this.markers=this.buildMarkers(o.view))}buildMarkers(o){let u=new Fi;for(let f of o.viewportLineBlocks){let d=Ju(o.state,f.from,f.to)?i:$u(o.state,f.from,f.to)?t:null;d&&u.add(f.from,f.from,d)}return u.finish()}}),{domEventHandlers:a}=e;return[s,ED({class:"cm-foldGutter",markers(o){var u;return((u=o.plugin(s))===null||u===void 0?void 0:u.markers)||Re.empty},initialSpacer(){return new km(e,!1)},domEventHandlers:{...a,click:(o,u,f)=>{if(a.click&&a.click(o,u,f))return!0;let d=Ju(o.state,u.from,u.to);if(d)return o.dispatch({effects:jo.of(d)}),!0;let p=$u(o.state,u.from,u.to);return p?(o.dispatch({effects:Ch.of(p)}),!0):!1}}}),Lw()]}const wO=re.baseTheme({".cm-foldPlaceholder":{backgroundColor:"#eee",border:"1px solid #ddd",color:"#888",borderRadius:".2em",margin:"0 1px",padding:"0 1px",cursor:"pointer"},".cm-foldGutter span":{padding:"0 1px",cursor:"pointer"}});class _o{constructor(e,t){this.specs=e;let i;function s(u){let f=Rl.newName();return(i||(i=Object.create(null)))["."+f]=u,f}const a=typeof t.all=="string"?t.all:t.all?s(t.all):void 0,o=t.scope;this.scope=o instanceof Wn?u=>u.prop(pr)==o.data:o?u=>u==o:void 0,this.style=Mw(e.map(u=>({tag:u.tag,class:u.class||s(Object.assign({},u,{tag:null}))})),{all:a}).style,this.module=i?new Rl(i):null,this.themeType=t.themeType}static define(e,t){return new _o(e,t||{})}}const Tp=ce.define(),zw=ce.define({combine(n){return n.length?[n[0]]:null}});function Cm(n){let e=n.facet(Tp);return e.length?e:n.facet(zw)}function Hw(n,e){let t=[CO],i;return n instanceof _o&&(n.module&&t.push(re.styleModule.of(n.module)),i=n.themeType),e!=null&&e.fallback?t.push(zw.of(n)):i?t.push(Tp.computeN([re.darkTheme],s=>s.facet(re.darkTheme)==(i=="dark")?[n]:[])):t.push(Tp.of(n)),t}class kO{constructor(e){this.markCache=Object.create(null),this.tree=Yt(e.state),this.decorations=this.buildDeco(e,Cm(e.state)),this.decoratedTo=e.viewport.to}update(e){let t=Yt(e.state),i=Cm(e.state),s=i!=Cm(e.startState),{viewport:a}=e.view,o=e.changes.mapPos(this.decoratedTo,1);t.length<a.to&&!s&&t.type==this.tree.type&&o>=a.to?(this.decorations=this.decorations.map(e.changes),this.decoratedTo=o):(t!=this.tree||e.viewportChanged||s)&&(this.tree=t,this.decorations=this.buildDeco(e.view,i),this.decoratedTo=a.to)}buildDeco(e,t){if(!t||!this.tree.length)return Se.none;let i=new Fi;for(let{from:s,to:a}of e.visibleRanges)GD(this.tree,t,(o,u,f)=>{i.add(o,u,this.markCache[f]||(this.markCache[f]=Se.mark({class:f})))},s,a);return i.finish()}}const CO=ws.high(ft.fromClass(kO,{decorations:n=>n.decorations})),AO=_o.define([{tag:I.meta,color:"#404740"},{tag:I.link,textDecoration:"underline"},{tag:I.heading,textDecoration:"underline",fontWeight:"bold"},{tag:I.emphasis,fontStyle:"italic"},{tag:I.strong,fontWeight:"bold"},{tag:I.strikethrough,textDecoration:"line-through"},{tag:I.keyword,color:"#708"},{tag:[I.atom,I.bool,I.url,I.contentSeparator,I.labelName],color:"#219"},{tag:[I.literal,I.inserted],color:"#164"},{tag:[I.string,I.deleted],color:"#a11"},{tag:[I.regexp,I.escape,I.special(I.string)],color:"#e40"},{tag:I.definition(I.variableName),color:"#00f"},{tag:I.local(I.variableName),color:"#30a"},{tag:[I.typeName,I.namespace],color:"#085"},{tag:I.className,color:"#167"},{tag:[I.special(I.variableName),I.macroName],color:"#256"},{tag:I.definition(I.propertyName),color:"#00c"},{tag:I.comment,color:"#940"},{tag:I.invalid,color:"#f00"}]),MO=re.baseTheme({"&.cm-focused .cm-matchingBracket":{backgroundColor:"#328c8252"},"&.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bb555544"}}),Vw=1e4,Uw="()[]{}",qw=ce.define({combine(n){return wi(n,{afterCursor:!0,brackets:Uw,maxScanDistance:Vw,renderMatch:NO})}}),TO=Se.mark({class:"cm-matchingBracket"}),EO=Se.mark({class:"cm-nonmatchingBracket"});function NO(n){let e=[],t=n.matched?TO:EO;return e.push(t.range(n.start.from,n.start.to)),n.end&&e.push(t.range(n.end.from,n.end.to)),e}function kv(n){let e=[],t=n.facet(qw);for(let i of n.selection.ranges){if(!i.empty)continue;let s=yi(n,i.head,-1,t)||i.head>0&&yi(n,i.head-1,1,t)||t.afterCursor&&(yi(n,i.head,1,t)||i.head<n.doc.length&&yi(n,i.head+1,-1,t));s&&(e=e.concat(t.renderMatch(s,n)))}return Se.set(e,!0)}const DO=ft.fromClass(class{constructor(n){this.paused=!1,this.decorations=kv(n.state)}update(n){(n.docChanged||n.selectionSet||this.paused)&&(n.view.composing?(this.decorations=this.decorations.map(n.changes),this.paused=!0):(this.decorations=kv(n.state),this.paused=!1))}},{decorations:n=>n.decorations}),OO=[DO,MO];function RO(n={}){return[qw.of(n),OO]}const jO=new Le;function Ep(n,e,t){let i=n.prop(e<0?Le.openedBy:Le.closedBy);if(i)return i;if(n.name.length==1){let s=t.indexOf(n.name);if(s>-1&&s%2==(e<0?1:0))return[t[s+e]]}return null}function Np(n){let e=n.type.prop(jO);return e?e(n.node):n}function yi(n,e,t,i={}){let s=i.maxScanDistance||Vw,a=i.brackets||Uw,o=Yt(n),u=o.resolveInner(e,t);for(let f=u;f;f=f.parent){let d=Ep(f.type,t,a);if(d&&f.from<f.to){let p=Np(f);if(p&&(t>0?e>=p.from&&e<p.to:e>p.from&&e<=p.to))return _O(n,e,t,f,p,d,a)}}return LO(n,e,t,o,u.type,s,a)}function _O(n,e,t,i,s,a,o){let u=i.parent,f={from:s.from,to:s.to},d=0,p=u==null?void 0:u.cursor();if(p&&(t<0?p.childBefore(i.from):p.childAfter(i.to)))do if(t<0?p.to<=i.from:p.from>=i.to){if(d==0&&a.indexOf(p.type.name)>-1&&p.from<p.to){let y=Np(p);return{start:f,end:y?{from:y.from,to:y.to}:void 0,matched:!0}}else if(Ep(p.type,t,o))d++;else if(Ep(p.type,-t,o)){if(d==0){let y=Np(p);return{start:f,end:y&&y.from<y.to?{from:y.from,to:y.to}:void 0,matched:!1}}d--}}while(t<0?p.prevSibling():p.nextSibling());return{start:f,matched:!1}}function LO(n,e,t,i,s,a,o){let u=t<0?n.sliceDoc(e-1,e):n.sliceDoc(e,e+1),f=o.indexOf(u);if(f<0||f%2==0!=t>0)return null;let d={from:t<0?e-1:e,to:t>0?e+1:e},p=n.doc.iterRange(e,t>0?n.doc.length:0),y=0;for(let x=0;!p.next().done&&x<=a;){let S=p.value;t<0&&(x+=S.length);let w=e+x*t;for(let A=t>0?0:S.length-1,C=t>0?S.length:-1;A!=C;A+=t){let T=o.indexOf(S[A]);if(!(T<0||i.resolveInner(w+A,1).type!=s))if(T%2==0==t>0)y++;else{if(y==1)return{start:d,end:{from:w+A,to:w+A+1},matched:T>>1==f>>1};y--}}t>0&&(x+=S.length)}return p.done?{start:d,matched:!1}:null}function Cv(n,e,t,i=0,s=0){e==null&&(e=n.search(/[^\s\u00a0]/),e==-1&&(e=n.length));let a=s;for(let o=i;o<e;o++)n.charCodeAt(o)==9?a+=t-a%t:a++;return a}class Pw{constructor(e,t,i,s){this.string=e,this.tabSize=t,this.indentUnit=i,this.overrideIndent=s,this.pos=0,this.start=0,this.lastColumnPos=0,this.lastColumnValue=0}eol(){return this.pos>=this.string.length}sol(){return this.pos==0}peek(){return this.string.charAt(this.pos)||void 0}next(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)}eat(e){let t=this.string.charAt(this.pos),i;if(typeof e=="string"?i=t==e:i=t&&(e instanceof RegExp?e.test(t):e(t)),i)return++this.pos,t}eatWhile(e){let t=this.pos;for(;this.eat(e););return this.pos>t}eatSpace(){let e=this.pos;for(;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>e}skipToEnd(){this.pos=this.string.length}skipTo(e){let t=this.string.indexOf(e,this.pos);if(t>-1)return this.pos=t,!0}backUp(e){this.pos-=e}column(){return this.lastColumnPos<this.start&&(this.lastColumnValue=Cv(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue}indentation(){var e;return(e=this.overrideIndent)!==null&&e!==void 0?e:Cv(this.string,null,this.tabSize)}match(e,t,i){if(typeof e=="string"){let s=o=>i?o.toLowerCase():o,a=this.string.substr(this.pos,e.length);return s(a)==s(e)?(t!==!1&&(this.pos+=e.length),!0):null}else{let s=this.string.slice(this.pos).match(e);return s&&s.index>0?null:(s&&t!==!1&&(this.pos+=s[0].length),s)}}current(){return this.string.slice(this.start,this.pos)}}function BO(n){return{name:n.name||"",token:n.token,blankLine:n.blankLine||(()=>{}),startState:n.startState||(()=>!0),copyState:n.copyState||zO,indent:n.indent||(()=>null),languageData:n.languageData||{},tokenTable:n.tokenTable||Eg,mergeTokens:n.mergeTokens!==!1}}function zO(n){if(typeof n!="object")return n;let e={};for(let t in n){let i=n[t];e[t]=i instanceof Array?i.slice():i}return e}const Av=new WeakMap;class Mg extends Wn{constructor(e){let t=WD(e.languageData),i=BO(e),s,a=new class extends nS{createParse(o,u,f){return new VO(s,o,u,f)}};super(t,a,[],e.name),this.topNode=PO(t,this),s=this,this.streamParser=i,this.stateAfter=new Le({perNode:!0}),this.tokenTable=e.tokenTable?new Iw(i.tokenTable):qO}static define(e){return new Mg(e)}getIndent(e){let t,{overrideIndentation:i}=e.options;i&&(t=Av.get(e.state),t!=null&&t<e.pos-1e4&&(t=void 0));let s=Tg(this,e.node.tree,e.node.from,e.node.from,t??e.pos),a,o;if(s?(o=s.state,a=s.pos+1):(o=this.streamParser.startState(e.unit),a=e.node.from),e.pos-a>1e4)return null;for(;a<e.pos;){let f=e.state.doc.lineAt(a),d=Math.min(e.pos,f.to);if(f.length){let p=i?i(f.from):-1,y=new Pw(f.text,e.state.tabSize,e.unit,p<0?void 0:p);for(;y.pos<d-f.from;)Yw(this.streamParser.token,y,o)}else this.streamParser.blankLine(o,e.unit);if(d==e.pos)break;a=f.to+1}let u=e.lineAt(e.pos);return i&&t==null&&Av.set(e.state,u.from),this.streamParser.indent(o,/^\s*(.*)/.exec(u.text)[1],e)}get allowsNesting(){return!1}}function Tg(n,e,t,i,s){let a=t>=i&&t+e.length<=s&&e.prop(n.stateAfter);if(a)return{state:n.streamParser.copyState(a),pos:t+e.length};for(let o=e.children.length-1;o>=0;o--){let u=e.children[o],f=t+e.positions[o],d=u instanceof st&&f<s&&Tg(n,u,f,i,s);if(d)return d}return null}function Kw(n,e,t,i,s){if(s&&t<=0&&i>=e.length)return e;!s&&t==0&&e.type==n.topNode&&(s=!0);for(let a=e.children.length-1;a>=0;a--){let o=e.positions[a],u=e.children[a],f;if(o<i&&u instanceof st){if(!(f=Kw(n,u,t-o,i-o,s)))break;return s?new st(e.type,e.children.slice(0,a).concat(f),e.positions.slice(0,a+1),o+f.length):f}}return null}function HO(n,e,t,i,s){for(let a of e){let o=a.from+(a.openStart?25:0),u=a.to-(a.openEnd?25:0),f=o<=t&&u>t&&Tg(n,a.tree,0-a.offset,t,u),d;if(f&&f.pos<=i&&(d=Kw(n,a.tree,t+a.offset,f.pos+a.offset,!1)))return{state:f.state,tree:d}}return{state:n.streamParser.startState(s?xs(s):4),tree:st.empty}}class VO{constructor(e,t,i,s){this.lang=e,this.input=t,this.fragments=i,this.ranges=s,this.stoppedAt=null,this.chunks=[],this.chunkPos=[],this.chunk=[],this.chunkReused=void 0,this.rangeIndex=0,this.to=s[s.length-1].to;let a=Dr.get(),o=s[0].from,{state:u,tree:f}=HO(e,i,o,this.to,a==null?void 0:a.state);this.state=u,this.parsedPos=this.chunkStart=o+f.length;for(let d=0;d<f.children.length;d++)this.chunks.push(f.children[d]),this.chunkPos.push(f.positions[d]);a&&this.parsedPos<a.viewport.from-1e5&&s.some(d=>d.from<=a.viewport.from&&d.to>=a.viewport.from)&&(this.state=this.lang.streamParser.startState(xs(a.state)),a.skipUntilInView(this.parsedPos,a.viewport.from),this.parsedPos=a.viewport.from),this.moveRangeIndex()}advance(){let e=Dr.get(),t=this.stoppedAt==null?this.to:Math.min(this.to,this.stoppedAt),i=Math.min(t,this.chunkStart+512);for(e&&(i=Math.min(i,e.viewport.to));this.parsedPos<i;)this.parseLine(e);return this.chunkStart<this.parsedPos&&this.finishChunk(),this.parsedPos>=t?this.finish():e&&this.parsedPos>=e.viewport.to?(e.skipUntilInView(this.parsedPos,t),this.finish()):null}stopAt(e){this.stoppedAt=e}lineAfter(e){let t=this.input.chunk(e);if(this.input.lineChunks)t==`
`&&(t="");else{let i=t.indexOf(`
`);i>-1&&(t=t.slice(0,i))}return e+t.length<=this.to?t:t.slice(0,this.to-e)}nextLine(){let e=this.parsedPos,t=this.lineAfter(e),i=e+t.length;for(let s=this.rangeIndex;;){let a=this.ranges[s].to;if(a>=i||(t=t.slice(0,a-(i-t.length)),s++,s==this.ranges.length))break;let o=this.ranges[s].from,u=this.lineAfter(o);t+=u,i=o+u.length}return{line:t,end:i}}skipGapsTo(e,t,i){for(;;){let s=this.ranges[this.rangeIndex].to,a=e+t;if(i>0?s>a:s>=a)break;let o=this.ranges[++this.rangeIndex].from;t+=o-s}return t}moveRangeIndex(){for(;this.ranges[this.rangeIndex].to<this.parsedPos;)this.rangeIndex++}emitToken(e,t,i,s){let a=4;if(this.ranges.length>1){s=this.skipGapsTo(t,s,1),t+=s;let u=this.chunk.length;s=this.skipGapsTo(i,s,-1),i+=s,a+=this.chunk.length-u}let o=this.chunk.length-4;return this.lang.streamParser.mergeTokens&&a==4&&o>=0&&this.chunk[o]==e&&this.chunk[o+2]==t?this.chunk[o+2]=i:this.chunk.push(e,t,i,a),s}parseLine(e){let{line:t,end:i}=this.nextLine(),s=0,{streamParser:a}=this.lang,o=new Pw(t,e?e.state.tabSize:4,e?xs(e.state):2);if(o.eol())a.blankLine(this.state,o.indentUnit);else for(;!o.eol();){let u=Yw(a.token,o,this.state);if(u&&(s=this.emitToken(this.lang.tokenTable.resolve(u),this.parsedPos+o.start,this.parsedPos+o.pos,s)),o.start>1e4)break}this.parsedPos=i,this.moveRangeIndex(),this.parsedPos<this.to&&this.parsedPos++}finishChunk(){let e=st.build({buffer:this.chunk,start:this.chunkStart,length:this.parsedPos-this.chunkStart,nodeSet:UO,topID:0,maxBufferLength:512,reused:this.chunkReused});e=new st(e.type,e.children,e.positions,e.length,[[this.lang.stateAfter,this.lang.streamParser.copyState(this.state)]]),this.chunks.push(e),this.chunkPos.push(this.chunkStart-this.ranges[0].from),this.chunk=[],this.chunkReused=void 0,this.chunkStart=this.parsedPos}finish(){return new st(this.lang.topNode,this.chunks,this.chunkPos,this.parsedPos-this.ranges[0].from).balance()}}function Yw(n,e,t){e.start=e.pos;for(let i=0;i<10;i++){let s=n(e,t);if(e.pos>e.start)return s}throw new Error("Stream parser failed to advance stream.")}const Eg=Object.create(null),xo=[fn.none],UO=new tg(xo),Mv=[],Tv=Object.create(null),Gw=Object.create(null);for(let[n,e]of[["variable","variableName"],["variable-2","variableName.special"],["string-2","string.special"],["def","variableName.definition"],["tag","tagName"],["attribute","attributeName"],["type","typeName"],["builtin","variableName.standard"],["qualifier","modifier"],["error","invalid"],["header","heading"],["property","propertyName"]])Gw[n]=Fw(Eg,e);class Iw{constructor(e){this.extra=e,this.table=Object.assign(Object.create(null),Gw)}resolve(e){return e?this.table[e]||(this.table[e]=Fw(this.extra,e)):0}}const qO=new Iw(Eg);function Am(n,e){Mv.indexOf(n)>-1||(Mv.push(n),console.warn(e))}function Fw(n,e){let t=[];for(let u of e.split(" ")){let f=[];for(let d of u.split(".")){let p=n[d]||I[d];p?typeof p=="function"?f.length?f=f.map(p):Am(d,`Modifier ${d} used at start of tag`):f.length?Am(d,`Tag ${d} used as modifier`):f=Array.isArray(p)?p:[p]:Am(d,`Unknown highlighting tag ${d}`)}for(let d of f)t.push(d)}if(!t.length)return 0;let i=e.replace(/ /g,"_"),s=i+" "+t.map(u=>u.id),a=Tv[s];if(a)return a.id;let o=Tv[s]=fn.define({id:xo.length,name:i,props:[KD({[i]:t})]});return xo.push(o),o.id}function PO(n,e){let t=fn.define({id:xo.length,name:"Document",props:[pr.add(()=>n),Ew.add(()=>i=>e.getIndent(i))],top:!0});return xo.push(t),t}Je.RTL,Je.LTR;const KO="#e5c07b",Ev="#e06c75",YO="#56b6c2",GO="#ffffff",Bu="#abb2bf",Dp="#7d8799",IO="#61afef",FO="#98c379",Nv="#d19a66",WO="#c678dd",XO="#21252b",Dv="#2c313a",Ov="#282c34",Mm="#353a42",QO="#3E4451",Rv="#528bff",ZO=re.theme({"&":{color:Bu,backgroundColor:Ov},".cm-content":{caretColor:Rv},".cm-cursor, .cm-dropCursor":{borderLeftColor:Rv},"&.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground, .cm-selectionBackground, .cm-content ::selection":{backgroundColor:QO},".cm-panels":{backgroundColor:XO,color:Bu},".cm-panels.cm-panels-top":{borderBottom:"2px solid black"},".cm-panels.cm-panels-bottom":{borderTop:"2px solid black"},".cm-searchMatch":{backgroundColor:"#72a1ff59",outline:"1px solid #457dff"},".cm-searchMatch.cm-searchMatch-selected":{backgroundColor:"#6199ff2f"},".cm-activeLine":{backgroundColor:"#6699ff0b"},".cm-selectionMatch":{backgroundColor:"#aafe661a"},"&.cm-focused .cm-matchingBracket, &.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bad0f847"},".cm-gutters":{backgroundColor:Ov,color:Dp,border:"none"},".cm-activeLineGutter":{backgroundColor:Dv},".cm-foldPlaceholder":{backgroundColor:"transparent",border:"none",color:"#ddd"},".cm-tooltip":{border:"none",backgroundColor:Mm},".cm-tooltip .cm-tooltip-arrow:before":{borderTopColor:"transparent",borderBottomColor:"transparent"},".cm-tooltip .cm-tooltip-arrow:after":{borderTopColor:Mm,borderBottomColor:Mm},".cm-tooltip-autocomplete":{"& > ul > li[aria-selected]":{backgroundColor:Dv,color:Bu}}},{dark:!0}),$O=_o.define([{tag:I.keyword,color:WO},{tag:[I.name,I.deleted,I.character,I.propertyName,I.macroName],color:Ev},{tag:[I.function(I.variableName),I.labelName],color:IO},{tag:[I.color,I.constant(I.name),I.standard(I.name)],color:Nv},{tag:[I.definition(I.name),I.separator],color:Bu},{tag:[I.typeName,I.className,I.number,I.changed,I.annotation,I.modifier,I.self,I.namespace],color:KO},{tag:[I.operator,I.operatorKeyword,I.url,I.escape,I.regexp,I.link,I.special(I.string)],color:YO},{tag:[I.meta,I.comment],color:Dp},{tag:I.strong,fontWeight:"bold"},{tag:I.emphasis,fontStyle:"italic"},{tag:I.strikethrough,textDecoration:"line-through"},{tag:I.link,color:Dp,textDecoration:"underline"},{tag:I.heading,fontWeight:"bold",color:Ev},{tag:[I.atom,I.bool,I.special(I.variableName)],color:Nv},{tag:[I.processingInstruction,I.string,I.inserted],color:FO},{tag:I.invalid,color:GO}]),Ww=[ZO,Hw($O)],JO={name:"toml",startState:function(){return{inString:!1,stringType:"",lhs:!0,inArray:0}},token:function(n,e){let t;if(!e.inString&&(t=n.match(/^('''|"""|'|")/))&&(e.stringType=t[0],e.inString=!0),n.sol()&&!e.inString&&e.inArray===0&&(e.lhs=!0),e.inString){for(;e.inString;)if(n.match(e.stringType))e.inString=!1;else if(n.peek()==="\\")n.next(),n.next();else{if(n.eol())break;n.match(/^.[^\\\"\']*/)}return e.lhs?"property":"string"}else{if(e.inArray&&n.peek()==="]")return n.next(),e.inArray--,"bracket";if(e.lhs&&n.peek()==="["&&n.skipTo("]"))return n.next(),n.peek()==="]"&&n.next(),"atom";if(n.peek()==="#")return n.skipToEnd(),"comment";if(n.eatSpace())return null;if(e.lhs&&n.eatWhile(function(i){return i!="="&&i!=" "}))return"property";if(e.lhs&&n.peek()==="=")return n.next(),e.lhs=!1,null;if(!e.lhs&&n.match(/^\d\d\d\d[\d\-\:\.T]*Z/))return"atom";if(!e.lhs&&(n.match("true")||n.match("false")))return"atom";if(!e.lhs&&n.peek()==="[")return e.inArray++,n.next(),"bracket";if(!e.lhs&&n.match(/^\-?\d+(?:\.\d+)?/))return"number";n.eatSpace()||n.next()}return null},languageData:{commentTokens:{line:"#"}}};function Op(){return Op=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Op.apply(null,arguments)}function e8(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)!==-1)continue;t[i]=n[i]}return t}const t8=n=>{let{state:e}=n,t=e.doc.lineAt(e.selection.main.from),i=Dg(n.state,t.from);return i.line?n8(n):i.block?l8(n):!1};function Ng(n,e){return({state:t,dispatch:i})=>{if(t.readOnly)return!1;let s=n(e,t);return s?(i(t.update(s)),!0):!1}}const n8=Ng(a8,0),i8=Ng(Xw,0),l8=Ng((n,e)=>Xw(n,e,r8(e)),0);function Dg(n,e){let t=n.languageDataAt("commentTokens",e,1);return t.length?t[0]:{}}const Pa=50;function s8(n,{open:e,close:t},i,s){let a=n.sliceDoc(i-Pa,i),o=n.sliceDoc(s,s+Pa),u=/\s*$/.exec(a)[0].length,f=/^\s*/.exec(o)[0].length,d=a.length-u;if(a.slice(d-e.length,d)==e&&o.slice(f,f+t.length)==t)return{open:{pos:i-u,margin:u&&1},close:{pos:s+f,margin:f&&1}};let p,y;s-i<=2*Pa?p=y=n.sliceDoc(i,s):(p=n.sliceDoc(i,i+Pa),y=n.sliceDoc(s-Pa,s));let x=/^\s*/.exec(p)[0].length,S=/\s*$/.exec(y)[0].length,w=y.length-S-t.length;return p.slice(x,x+e.length)==e&&y.slice(w,w+t.length)==t?{open:{pos:i+x+e.length,margin:/\s/.test(p.charAt(x+e.length))?1:0},close:{pos:s-S-t.length,margin:/\s/.test(y.charAt(w-1))?1:0}}:null}function r8(n){let e=[];for(let t of n.selection.ranges){let i=n.doc.lineAt(t.from),s=t.to<=i.to?i:n.doc.lineAt(t.to);s.from>i.from&&s.from==t.to&&(s=t.to==i.to+1?i:n.doc.lineAt(t.to-1));let a=e.length-1;a>=0&&e[a].to>i.from?e[a].to=s.to:e.push({from:i.from+/^\s*/.exec(i.text)[0].length,to:s.to})}return e}function Xw(n,e,t=e.selection.ranges){let i=t.map(a=>Dg(e,a.from).block);if(!i.every(a=>a))return null;let s=t.map((a,o)=>s8(e,i[o],a.from,a.to));if(n!=2&&!s.every(a=>a))return{changes:e.changes(t.map((a,o)=>s[o]?[]:[{from:a.from,insert:i[o].open+" "},{from:a.to,insert:" "+i[o].close}]))};if(n!=1&&s.some(a=>a)){let a=[];for(let o=0,u;o<s.length;o++)if(u=s[o]){let f=i[o],{open:d,close:p}=u;a.push({from:d.pos-f.open.length,to:d.pos+d.margin},{from:p.pos-p.margin,to:p.pos+f.close.length})}return{changes:a}}return null}function a8(n,e,t=e.selection.ranges){let i=[],s=-1;e:for(let{from:a,to:o}of t){let u=i.length,f=1e9,d;for(let p=a;p<=o;){let y=e.doc.lineAt(p);if(d==null&&(d=Dg(e,y.from).line,!d))continue e;if(y.from>s&&(a==o||o>y.from)){s=y.from;let x=/^\s*/.exec(y.text)[0].length,S=x==y.length,w=y.text.slice(x,x+d.length)==d?x:-1;x<y.text.length&&x<f&&(f=x),i.push({line:y,comment:w,token:d,indent:x,empty:S,single:!1})}p=y.to+1}if(f<1e9)for(let p=u;p<i.length;p++)i[p].indent<i[p].line.text.length&&(i[p].indent=f);i.length==u+1&&(i[u].single=!0)}if(n!=2&&i.some(a=>a.comment<0&&(!a.empty||a.single))){let a=[];for(let{line:u,token:f,indent:d,empty:p,single:y}of i)(y||!p)&&a.push({from:u.from+d,insert:f+" "});let o=e.changes(a);return{changes:o,selection:e.selection.map(o,1)}}else if(n!=1&&i.some(a=>a.comment>=0)){let a=[];for(let{line:o,comment:u,token:f}of i)if(u>=0){let d=o.from+u,p=d+f.length;o.text[p-o.from]==" "&&p++,a.push({from:d,to:p})}return{changes:a}}return null}const Rp=Si.define(),o8=Si.define(),c8=ce.define(),Qw=ce.define({combine(n){return wi(n,{minDepth:100,newGroupDelay:500,joinToEvent:(e,t)=>t},{minDepth:Math.max,newGroupDelay:Math.min,joinToEvent:(e,t)=>(i,s)=>e(i,s)||t(i,s)})}}),Zw=Gt.define({create(){return bi.empty},update(n,e){let t=e.state.facet(Qw),i=e.annotation(Rp);if(i){let f=hn.fromTransaction(e,i.selection),d=i.side,p=d==0?n.undone:n.done;return f?p=eh(p,p.length,t.minDepth,f):p=ek(p,e.startState.selection),new bi(d==0?i.rest:p,d==0?p:i.rest)}let s=e.annotation(o8);if((s=="full"||s=="before")&&(n=n.isolate()),e.annotation(At.addToHistory)===!1)return e.changes.empty?n:n.addMapping(e.changes.desc);let a=hn.fromTransaction(e),o=e.annotation(At.time),u=e.annotation(At.userEvent);return a?n=n.addChanges(a,o,u,t,e):e.selection&&(n=n.addSelection(e.startState.selection,o,u,t.newGroupDelay)),(s=="full"||s=="after")&&(n=n.isolate()),n},toJSON(n){return{done:n.done.map(e=>e.toJSON()),undone:n.undone.map(e=>e.toJSON())}},fromJSON(n){return new bi(n.done.map(hn.fromJSON),n.undone.map(hn.fromJSON))}});function u8(n={}){return[Zw,Qw.of(n),re.domEventHandlers({beforeinput(e,t){let i=e.inputType=="historyUndo"?$w:e.inputType=="historyRedo"?jp:null;return i?(e.preventDefault(),i(t)):!1}})]}function Ah(n,e){return function({state:t,dispatch:i}){if(!e&&t.readOnly)return!1;let s=t.field(Zw,!1);if(!s)return!1;let a=s.pop(n,t,e);return a?(i(a),!0):!1}}const $w=Ah(0,!1),jp=Ah(1,!1),h8=Ah(0,!0),f8=Ah(1,!0);class hn{constructor(e,t,i,s,a){this.changes=e,this.effects=t,this.mapped=i,this.startSelection=s,this.selectionsAfter=a}setSelAfter(e){return new hn(this.changes,this.effects,this.mapped,this.startSelection,e)}toJSON(){var e,t,i;return{changes:(e=this.changes)===null||e===void 0?void 0:e.toJSON(),mapped:(t=this.mapped)===null||t===void 0?void 0:t.toJSON(),startSelection:(i=this.startSelection)===null||i===void 0?void 0:i.toJSON(),selectionsAfter:this.selectionsAfter.map(s=>s.toJSON())}}static fromJSON(e){return new hn(e.changes&&Ct.fromJSON(e.changes),[],e.mapped&&vi.fromJSON(e.mapped),e.startSelection&&X.fromJSON(e.startSelection),e.selectionsAfter.map(X.fromJSON))}static fromTransaction(e,t){let i=Hn;for(let s of e.startState.facet(c8)){let a=s(e);a.length&&(i=i.concat(a))}return!i.length&&e.changes.empty?null:new hn(e.changes.invert(e.startState.doc),i,void 0,t||e.startState.selection,Hn)}static selection(e){return new hn(void 0,Hn,void 0,void 0,e)}}function eh(n,e,t,i){let s=e+1>t+20?e-t-1:0,a=n.slice(s,e);return a.push(i),a}function d8(n,e){let t=[],i=!1;return n.iterChangedRanges((s,a)=>t.push(s,a)),e.iterChangedRanges((s,a,o,u)=>{for(let f=0;f<t.length;){let d=t[f++],p=t[f++];u>=d&&o<=p&&(i=!0)}}),i}function m8(n,e){return n.ranges.length==e.ranges.length&&n.ranges.filter((t,i)=>t.empty!=e.ranges[i].empty).length===0}function Jw(n,e){return n.length?e.length?n.concat(e):n:e}const Hn=[],p8=200;function ek(n,e){if(n.length){let t=n[n.length-1],i=t.selectionsAfter.slice(Math.max(0,t.selectionsAfter.length-p8));return i.length&&i[i.length-1].eq(e)?n:(i.push(e),eh(n,n.length-1,1e9,t.setSelAfter(i)))}else return[hn.selection([e])]}function g8(n){let e=n[n.length-1],t=n.slice();return t[n.length-1]=e.setSelAfter(e.selectionsAfter.slice(0,e.selectionsAfter.length-1)),t}function Tm(n,e){if(!n.length)return n;let t=n.length,i=Hn;for(;t;){let s=y8(n[t-1],e,i);if(s.changes&&!s.changes.empty||s.effects.length){let a=n.slice(0,t);return a[t-1]=s,a}else e=s.mapped,t--,i=s.selectionsAfter}return i.length?[hn.selection(i)]:Hn}function y8(n,e,t){let i=Jw(n.selectionsAfter.length?n.selectionsAfter.map(u=>u.map(e)):Hn,t);if(!n.changes)return hn.selection(i);let s=n.changes.map(e),a=e.mapDesc(n.changes,!0),o=n.mapped?n.mapped.composeDesc(a):a;return new hn(s,Me.mapEffects(n.effects,e),o,n.startSelection.map(a),i)}const b8=/^(input\.type|delete)($|\.)/;class bi{constructor(e,t,i=0,s=void 0){this.done=e,this.undone=t,this.prevTime=i,this.prevUserEvent=s}isolate(){return this.prevTime?new bi(this.done,this.undone):this}addChanges(e,t,i,s,a){let o=this.done,u=o[o.length-1];return u&&u.changes&&!u.changes.empty&&e.changes&&(!i||b8.test(i))&&(!u.selectionsAfter.length&&t-this.prevTime<s.newGroupDelay&&s.joinToEvent(a,d8(u.changes,e.changes))||i=="input.type.compose")?o=eh(o,o.length-1,s.minDepth,new hn(e.changes.compose(u.changes),Jw(Me.mapEffects(e.effects,u.changes),u.effects),u.mapped,u.startSelection,Hn)):o=eh(o,o.length,s.minDepth,e),new bi(o,Hn,t,i)}addSelection(e,t,i,s){let a=this.done.length?this.done[this.done.length-1].selectionsAfter:Hn;return a.length>0&&t-this.prevTime<s&&i==this.prevUserEvent&&i&&/^select($|\.)/.test(i)&&m8(a[a.length-1],e)?this:new bi(ek(this.done,e),this.undone,t,i)}addMapping(e){return new bi(Tm(this.done,e),Tm(this.undone,e),this.prevTime,this.prevUserEvent)}pop(e,t,i){let s=e==0?this.done:this.undone;if(s.length==0)return null;let a=s[s.length-1],o=a.selectionsAfter[0]||(a.startSelection?a.startSelection.map(a.changes.invertedDesc,1):t.selection);if(i&&a.selectionsAfter.length)return t.update({selection:a.selectionsAfter[a.selectionsAfter.length-1],annotations:Rp.of({side:e,rest:g8(s),selection:o}),userEvent:e==0?"select.undo":"select.redo",scrollIntoView:!0});if(a.changes){let u=s.length==1?Hn:s.slice(0,s.length-1);return a.mapped&&(u=Tm(u,a.mapped)),t.update({changes:a.changes,selection:a.startSelection,effects:a.effects,annotations:Rp.of({side:e,rest:u,selection:o}),filter:!1,userEvent:e==0?"undo":"redo",scrollIntoView:!0})}else return null}}bi.empty=new bi(Hn,Hn);const x8=[{key:"Mod-z",run:$w,preventDefault:!0},{key:"Mod-y",mac:"Mod-Shift-z",run:jp,preventDefault:!0},{linux:"Ctrl-Shift-z",run:jp,preventDefault:!0},{key:"Mod-u",run:h8,preventDefault:!0},{key:"Alt-u",mac:"Mod-Shift-u",run:f8,preventDefault:!0}];function zr(n,e){return X.create(n.ranges.map(e),n.mainIndex)}function $n(n,e){return n.update({selection:e,scrollIntoView:!0,userEvent:"select"})}function Jn({state:n,dispatch:e},t){let i=zr(n.selection,t);return i.eq(n.selection,!0)?!1:(e($n(n,i)),!0)}function Mh(n,e){return X.cursor(e?n.to:n.from)}function tk(n,e){return Jn(n,t=>t.empty?n.moveByChar(t,e):Mh(t,e))}function It(n){return n.textDirectionAt(n.state.selection.main.head)==Je.LTR}const nk=n=>tk(n,!It(n)),ik=n=>tk(n,It(n));function lk(n,e){return Jn(n,t=>t.empty?n.moveByGroup(t,e):Mh(t,e))}const v8=n=>lk(n,!It(n)),S8=n=>lk(n,It(n));function w8(n,e,t){if(e.type.prop(t))return!0;let i=e.to-e.from;return i&&(i>2||/[^\s,.;:]/.test(n.sliceDoc(e.from,e.to)))||e.firstChild}function Th(n,e,t){let i=Yt(n).resolveInner(e.head),s=t?Le.closedBy:Le.openedBy;for(let f=e.head;;){let d=t?i.childAfter(f):i.childBefore(f);if(!d)break;w8(n,d,s)?i=d:f=t?d.to:d.from}let a=i.type.prop(s),o,u;return a&&(o=t?yi(n,i.from,1):yi(n,i.to,-1))&&o.matched?u=t?o.end.to:o.end.from:u=t?i.to:i.from,X.cursor(u,t?-1:1)}const k8=n=>Jn(n,e=>Th(n.state,e,!It(n))),C8=n=>Jn(n,e=>Th(n.state,e,It(n)));function sk(n,e){return Jn(n,t=>{if(!t.empty)return Mh(t,e);let i=n.moveVertically(t,e);return i.head!=t.head?i:n.moveToLineBoundary(t,e)})}const rk=n=>sk(n,!1),ak=n=>sk(n,!0);function ok(n){let e=n.scrollDOM.clientHeight<n.scrollDOM.scrollHeight-2,t=0,i=0,s;if(e){for(let a of n.state.facet(re.scrollMargins)){let o=a(n);o!=null&&o.top&&(t=Math.max(o==null?void 0:o.top,t)),o!=null&&o.bottom&&(i=Math.max(o==null?void 0:o.bottom,i))}s=n.scrollDOM.clientHeight-t-i}else s=(n.dom.ownerDocument.defaultView||window).innerHeight;return{marginTop:t,marginBottom:i,selfScroll:e,height:Math.max(n.defaultLineHeight,s-5)}}function ck(n,e){let t=ok(n),{state:i}=n,s=zr(i.selection,o=>o.empty?n.moveVertically(o,e,t.height):Mh(o,e));if(s.eq(i.selection))return!1;let a;if(t.selfScroll){let o=n.coordsAtPos(i.selection.main.head),u=n.scrollDOM.getBoundingClientRect(),f=u.top+t.marginTop,d=u.bottom-t.marginBottom;o&&o.top>f&&o.bottom<d&&(a=re.scrollIntoView(s.main.head,{y:"start",yMargin:o.top-f}))}return n.dispatch($n(i,s),{effects:a}),!0}const jv=n=>ck(n,!1),_p=n=>ck(n,!0);function zl(n,e,t){let i=n.lineBlockAt(e.head),s=n.moveToLineBoundary(e,t);if(s.head==e.head&&s.head!=(t?i.to:i.from)&&(s=n.moveToLineBoundary(e,t,!1)),!t&&s.head==i.from&&i.length){let a=/^\s*/.exec(n.state.sliceDoc(i.from,Math.min(i.from+100,i.to)))[0].length;a&&e.head!=i.from+a&&(s=X.cursor(i.from+a))}return s}const A8=n=>Jn(n,e=>zl(n,e,!0)),M8=n=>Jn(n,e=>zl(n,e,!1)),T8=n=>Jn(n,e=>zl(n,e,!It(n))),E8=n=>Jn(n,e=>zl(n,e,It(n))),N8=n=>Jn(n,e=>X.cursor(n.lineBlockAt(e.head).from,1)),D8=n=>Jn(n,e=>X.cursor(n.lineBlockAt(e.head).to,-1));function O8(n,e,t){let i=!1,s=zr(n.selection,a=>{let o=yi(n,a.head,-1)||yi(n,a.head,1)||a.head>0&&yi(n,a.head-1,1)||a.head<n.doc.length&&yi(n,a.head+1,-1);if(!o||!o.end)return a;i=!0;let u=o.start.from==a.head?o.end.to:o.end.from;return X.cursor(u)});return i?(e($n(n,s)),!0):!1}const R8=({state:n,dispatch:e})=>O8(n,e);function Pn(n,e){let t=zr(n.state.selection,i=>{let s=e(i);return X.range(i.anchor,s.head,s.goalColumn,s.bidiLevel||void 0)});return t.eq(n.state.selection)?!1:(n.dispatch($n(n.state,t)),!0)}function uk(n,e){return Pn(n,t=>n.moveByChar(t,e))}const hk=n=>uk(n,!It(n)),fk=n=>uk(n,It(n));function dk(n,e){return Pn(n,t=>n.moveByGroup(t,e))}const j8=n=>dk(n,!It(n)),_8=n=>dk(n,It(n)),L8=n=>Pn(n,e=>Th(n.state,e,!It(n))),B8=n=>Pn(n,e=>Th(n.state,e,It(n)));function mk(n,e){return Pn(n,t=>n.moveVertically(t,e))}const pk=n=>mk(n,!1),gk=n=>mk(n,!0);function yk(n,e){return Pn(n,t=>n.moveVertically(t,e,ok(n).height))}const _v=n=>yk(n,!1),Lv=n=>yk(n,!0),z8=n=>Pn(n,e=>zl(n,e,!0)),H8=n=>Pn(n,e=>zl(n,e,!1)),V8=n=>Pn(n,e=>zl(n,e,!It(n))),U8=n=>Pn(n,e=>zl(n,e,It(n))),q8=n=>Pn(n,e=>X.cursor(n.lineBlockAt(e.head).from)),P8=n=>Pn(n,e=>X.cursor(n.lineBlockAt(e.head).to)),Bv=({state:n,dispatch:e})=>(e($n(n,{anchor:0})),!0),zv=({state:n,dispatch:e})=>(e($n(n,{anchor:n.doc.length})),!0),Hv=({state:n,dispatch:e})=>(e($n(n,{anchor:n.selection.main.anchor,head:0})),!0),Vv=({state:n,dispatch:e})=>(e($n(n,{anchor:n.selection.main.anchor,head:n.doc.length})),!0),K8=({state:n,dispatch:e})=>(e(n.update({selection:{anchor:0,head:n.doc.length},userEvent:"select"})),!0),Y8=({state:n,dispatch:e})=>{let t=Eh(n).map(({from:i,to:s})=>X.range(i,Math.min(s+1,n.doc.length)));return e(n.update({selection:X.create(t),userEvent:"select"})),!0},G8=({state:n,dispatch:e})=>{let t=zr(n.selection,i=>{let s=Yt(n),a=s.resolveStack(i.from,1);if(i.empty){let o=s.resolveStack(i.from,-1);o.node.from>=a.node.from&&o.node.to<=a.node.to&&(a=o)}for(let o=a;o;o=o.next){let{node:u}=o;if((u.from<i.from&&u.to>=i.to||u.to>i.to&&u.from<=i.from)&&o.next)return X.range(u.to,u.from)}return i});return t.eq(n.selection)?!1:(e($n(n,t)),!0)};function bk(n,e){let{state:t}=n,i=t.selection,s=t.selection.ranges.slice();for(let a of t.selection.ranges){let o=t.doc.lineAt(a.head);if(e?o.to<n.state.doc.length:o.from>0)for(let u=a;;){let f=n.moveVertically(u,e);if(f.head<o.from||f.head>o.to){s.some(d=>d.head==f.head)||s.push(f);break}else{if(f.head==u.head)break;u=f}}}return s.length==i.ranges.length?!1:(n.dispatch($n(t,X.create(s,s.length-1))),!0)}const I8=n=>bk(n,!1),F8=n=>bk(n,!0),W8=({state:n,dispatch:e})=>{let t=n.selection,i=null;return t.ranges.length>1?i=X.create([t.main]):t.main.empty||(i=X.create([X.cursor(t.main.head)])),i?(e($n(n,i)),!0):!1};function Lo(n,e){if(n.state.readOnly)return!1;let t="delete.selection",{state:i}=n,s=i.changeByRange(a=>{let{from:o,to:u}=a;if(o==u){let f=e(a);f<o?(t="delete.backward",f=vu(n,f,!1)):f>o&&(t="delete.forward",f=vu(n,f,!0)),o=Math.min(o,f),u=Math.max(u,f)}else o=vu(n,o,!1),u=vu(n,u,!0);return o==u?{range:a}:{changes:{from:o,to:u},range:X.cursor(o,o<a.head?-1:1)}});return s.changes.empty?!1:(n.dispatch(i.update(s,{scrollIntoView:!0,userEvent:t,effects:t=="delete.selection"?re.announce.of(i.phrase("Selection deleted")):void 0})),!0)}function vu(n,e,t){if(n instanceof re)for(let i of n.state.facet(re.atomicRanges).map(s=>s(n)))i.between(e,e,(s,a)=>{s<e&&a>e&&(e=t?a:s)});return e}const xk=(n,e,t)=>Lo(n,i=>{let s=i.from,{state:a}=n,o=a.doc.lineAt(s),u,f;if(t&&!e&&s>o.from&&s<o.from+200&&!/[^ \t]/.test(u=o.text.slice(0,s-o.from))){if(u[u.length-1]=="	")return s-1;let d=Br(u,a.tabSize),p=d%xs(a)||xs(a);for(let y=0;y<p&&u[u.length-1-y]==" ";y++)s--;f=s}else f=Rt(o.text,s-o.from,e,e)+o.from,f==s&&o.number!=(e?a.doc.lines:1)?f+=e?1:-1:!e&&/[\ufe00-\ufe0f]/.test(o.text.slice(f-o.from,s-o.from))&&(f=Rt(o.text,f-o.from,!1,!1)+o.from);return f}),Lp=n=>xk(n,!1,!0),vk=n=>xk(n,!0,!1),Sk=(n,e)=>Lo(n,t=>{let i=t.head,{state:s}=n,a=s.doc.lineAt(i),o=s.charCategorizer(i);for(let u=null;;){if(i==(e?a.to:a.from)){i==t.head&&a.number!=(e?s.doc.lines:1)&&(i+=e?1:-1);break}let f=Rt(a.text,i-a.from,e)+a.from,d=a.text.slice(Math.min(i,f)-a.from,Math.max(i,f)-a.from),p=o(d);if(u!=null&&p!=u)break;(d!=" "||i!=t.head)&&(u=p),i=f}return i}),wk=n=>Sk(n,!1),X8=n=>Sk(n,!0),Q8=n=>Lo(n,e=>{let t=n.lineBlockAt(e.head).to;return e.head<t?t:Math.min(n.state.doc.length,e.head+1)}),Z8=n=>Lo(n,e=>{let t=n.moveToLineBoundary(e,!1).head;return e.head>t?t:Math.max(0,e.head-1)}),$8=n=>Lo(n,e=>{let t=n.moveToLineBoundary(e,!0).head;return e.head<t?t:Math.min(n.state.doc.length,e.head+1)}),J8=({state:n,dispatch:e})=>{if(n.readOnly)return!1;let t=n.changeByRange(i=>({changes:{from:i.from,to:i.to,insert:qe.of(["",""])},range:X.cursor(i.from)}));return e(n.update(t,{scrollIntoView:!0,userEvent:"input"})),!0},eR=({state:n,dispatch:e})=>{if(n.readOnly)return!1;let t=n.changeByRange(i=>{if(!i.empty||i.from==0||i.from==n.doc.length)return{range:i};let s=i.from,a=n.doc.lineAt(s),o=s==a.from?s-1:Rt(a.text,s-a.from,!1)+a.from,u=s==a.to?s+1:Rt(a.text,s-a.from,!0)+a.from;return{changes:{from:o,to:u,insert:n.doc.slice(s,u).append(n.doc.slice(o,s))},range:X.cursor(u)}});return t.changes.empty?!1:(e(n.update(t,{scrollIntoView:!0,userEvent:"move.character"})),!0)};function Eh(n){let e=[],t=-1;for(let i of n.selection.ranges){let s=n.doc.lineAt(i.from),a=n.doc.lineAt(i.to);if(!i.empty&&i.to==a.from&&(a=n.doc.lineAt(i.to-1)),t>=s.number){let o=e[e.length-1];o.to=a.to,o.ranges.push(i)}else e.push({from:s.from,to:a.to,ranges:[i]});t=a.number+1}return e}function kk(n,e,t){if(n.readOnly)return!1;let i=[],s=[];for(let a of Eh(n)){if(t?a.to==n.doc.length:a.from==0)continue;let o=n.doc.lineAt(t?a.to+1:a.from-1),u=o.length+1;if(t){i.push({from:a.to,to:o.to},{from:a.from,insert:o.text+n.lineBreak});for(let f of a.ranges)s.push(X.range(Math.min(n.doc.length,f.anchor+u),Math.min(n.doc.length,f.head+u)))}else{i.push({from:o.from,to:a.from},{from:a.to,insert:n.lineBreak+o.text});for(let f of a.ranges)s.push(X.range(f.anchor-u,f.head-u))}}return i.length?(e(n.update({changes:i,scrollIntoView:!0,selection:X.create(s,n.selection.mainIndex),userEvent:"move.line"})),!0):!1}const tR=({state:n,dispatch:e})=>kk(n,e,!1),nR=({state:n,dispatch:e})=>kk(n,e,!0);function Ck(n,e,t){if(n.readOnly)return!1;let i=[];for(let a of Eh(n))t?i.push({from:a.from,insert:n.doc.slice(a.from,a.to)+n.lineBreak}):i.push({from:a.to,insert:n.lineBreak+n.doc.slice(a.from,a.to)});let s=n.changes(i);return e(n.update({changes:s,selection:n.selection.map(s,t?1:-1),scrollIntoView:!0,userEvent:"input.copyline"})),!0}const iR=({state:n,dispatch:e})=>Ck(n,e,!1),lR=({state:n,dispatch:e})=>Ck(n,e,!0),sR=n=>{if(n.state.readOnly)return!1;let{state:e}=n,t=e.changes(Eh(e).map(({from:s,to:a})=>(s>0?s--:a<e.doc.length&&a++,{from:s,to:a}))),i=zr(e.selection,s=>{let a;if(n.lineWrapping){let o=n.lineBlockAt(s.head),u=n.coordsAtPos(s.head,s.assoc||1);u&&(a=o.bottom+n.documentTop-u.bottom+n.defaultLineHeight/2)}return n.moveVertically(s,!0,a)}).map(t);return n.dispatch({changes:t,selection:i,scrollIntoView:!0,userEvent:"delete.line"}),!0};function rR(n,e){if(/\(\)|\[\]|\{\}/.test(n.sliceDoc(e-1,e+1)))return{from:e,to:e};let t=Yt(n).resolveInner(e),i=t.childBefore(e),s=t.childAfter(e),a;return i&&s&&i.to<=e&&s.from>=e&&(a=i.type.prop(Le.closedBy))&&a.indexOf(s.name)>-1&&n.doc.lineAt(i.to).from==n.doc.lineAt(s.from).from&&!/\S/.test(n.sliceDoc(i.to,s.from))?{from:i.to,to:s.from}:null}const Uv=Ak(!1),aR=Ak(!0);function Ak(n){return({state:e,dispatch:t})=>{if(e.readOnly)return!1;let i=e.changeByRange(s=>{let{from:a,to:o}=s,u=e.doc.lineAt(a),f=!n&&a==o&&rR(e,a);n&&(a=o=(o<=u.to?u:e.doc.lineAt(o)).to);let d=new kh(e,{simulateBreak:a,simulateDoubleBreak:!!f}),p=Cg(d,a);for(p==null&&(p=Br(/^\s*/.exec(e.doc.lineAt(a).text)[0],e.tabSize));o<u.to&&/\s/.test(u.text[o-u.from]);)o++;f?{from:a,to:o}=f:a>u.from&&a<u.from+100&&!/\S/.test(u.text.slice(0,a))&&(a=u.from);let y=["",bo(e,p)];return f&&y.push(bo(e,d.lineIndent(u.from,-1))),{changes:{from:a,to:o,insert:qe.of(y)},range:X.cursor(a+1+y[1].length)}});return t(e.update(i,{scrollIntoView:!0,userEvent:"input"})),!0}}function Og(n,e){let t=-1;return n.changeByRange(i=>{let s=[];for(let o=i.from;o<=i.to;){let u=n.doc.lineAt(o);u.number>t&&(i.empty||i.to>u.from)&&(e(u,s,i),t=u.number),o=u.to+1}let a=n.changes(s);return{changes:s,range:X.range(a.mapPos(i.anchor,1),a.mapPos(i.head,1))}})}const oR=({state:n,dispatch:e})=>{if(n.readOnly)return!1;let t=Object.create(null),i=new kh(n,{overrideIndentation:a=>{let o=t[a];return o??-1}}),s=Og(n,(a,o,u)=>{let f=Cg(i,a.from);if(f==null)return;/\S/.test(a.text)||(f=0);let d=/^\s*/.exec(a.text)[0],p=bo(n,f);(d!=p||u.from<a.from+d.length)&&(t[a.from]=f,o.push({from:a.from,to:a.from+d.length,insert:p}))});return s.changes.empty||e(n.update(s,{userEvent:"indent"})),!0},Mk=({state:n,dispatch:e})=>n.readOnly?!1:(e(n.update(Og(n,(t,i)=>{i.push({from:t.from,insert:n.facet(wh)})}),{userEvent:"input.indent"})),!0),Tk=({state:n,dispatch:e})=>n.readOnly?!1:(e(n.update(Og(n,(t,i)=>{let s=/^\s*/.exec(t.text)[0];if(!s)return;let a=Br(s,n.tabSize),o=0,u=bo(n,Math.max(0,a-xs(n)));for(;o<s.length&&o<u.length&&s.charCodeAt(o)==u.charCodeAt(o);)o++;i.push({from:t.from+o,to:t.from+s.length,insert:u.slice(o)})}),{userEvent:"delete.dedent"})),!0),cR=n=>(n.setTabFocusMode(),!0),uR=[{key:"Ctrl-b",run:nk,shift:hk,preventDefault:!0},{key:"Ctrl-f",run:ik,shift:fk},{key:"Ctrl-p",run:rk,shift:pk},{key:"Ctrl-n",run:ak,shift:gk},{key:"Ctrl-a",run:N8,shift:q8},{key:"Ctrl-e",run:D8,shift:P8},{key:"Ctrl-d",run:vk},{key:"Ctrl-h",run:Lp},{key:"Ctrl-k",run:Q8},{key:"Ctrl-Alt-h",run:wk},{key:"Ctrl-o",run:J8},{key:"Ctrl-t",run:eR},{key:"Ctrl-v",run:_p}],hR=[{key:"ArrowLeft",run:nk,shift:hk,preventDefault:!0},{key:"Mod-ArrowLeft",mac:"Alt-ArrowLeft",run:v8,shift:j8,preventDefault:!0},{mac:"Cmd-ArrowLeft",run:T8,shift:V8,preventDefault:!0},{key:"ArrowRight",run:ik,shift:fk,preventDefault:!0},{key:"Mod-ArrowRight",mac:"Alt-ArrowRight",run:S8,shift:_8,preventDefault:!0},{mac:"Cmd-ArrowRight",run:E8,shift:U8,preventDefault:!0},{key:"ArrowUp",run:rk,shift:pk,preventDefault:!0},{mac:"Cmd-ArrowUp",run:Bv,shift:Hv},{mac:"Ctrl-ArrowUp",run:jv,shift:_v},{key:"ArrowDown",run:ak,shift:gk,preventDefault:!0},{mac:"Cmd-ArrowDown",run:zv,shift:Vv},{mac:"Ctrl-ArrowDown",run:_p,shift:Lv},{key:"PageUp",run:jv,shift:_v},{key:"PageDown",run:_p,shift:Lv},{key:"Home",run:M8,shift:H8,preventDefault:!0},{key:"Mod-Home",run:Bv,shift:Hv},{key:"End",run:A8,shift:z8,preventDefault:!0},{key:"Mod-End",run:zv,shift:Vv},{key:"Enter",run:Uv,shift:Uv},{key:"Mod-a",run:K8},{key:"Backspace",run:Lp,shift:Lp,preventDefault:!0},{key:"Delete",run:vk,preventDefault:!0},{key:"Mod-Backspace",mac:"Alt-Backspace",run:wk,preventDefault:!0},{key:"Mod-Delete",mac:"Alt-Delete",run:X8,preventDefault:!0},{mac:"Mod-Backspace",run:Z8,preventDefault:!0},{mac:"Mod-Delete",run:$8,preventDefault:!0}].concat(uR.map(n=>({mac:n.key,run:n.run,shift:n.shift}))),fR=[{key:"Alt-ArrowLeft",mac:"Ctrl-ArrowLeft",run:k8,shift:L8},{key:"Alt-ArrowRight",mac:"Ctrl-ArrowRight",run:C8,shift:B8},{key:"Alt-ArrowUp",run:tR},{key:"Shift-Alt-ArrowUp",run:iR},{key:"Alt-ArrowDown",run:nR},{key:"Shift-Alt-ArrowDown",run:lR},{key:"Mod-Alt-ArrowUp",run:I8},{key:"Mod-Alt-ArrowDown",run:F8},{key:"Escape",run:W8},{key:"Mod-Enter",run:aR},{key:"Alt-l",mac:"Ctrl-l",run:Y8},{key:"Mod-i",run:G8,preventDefault:!0},{key:"Mod-[",run:Tk},{key:"Mod-]",run:Mk},{key:"Mod-Alt-\\",run:oR},{key:"Shift-Mod-k",run:sR},{key:"Shift-Mod-\\",run:R8},{key:"Mod-/",run:t8},{key:"Alt-A",run:i8},{key:"Ctrl-m",mac:"Shift-Alt-m",run:cR}].concat(hR),dR={key:"Tab",run:Mk,shift:Tk},qv=typeof String.prototype.normalize=="function"?n=>n.normalize("NFKD"):n=>n;class Rr{constructor(e,t,i=0,s=e.length,a,o){this.test=o,this.value={from:0,to:0},this.done=!1,this.matches=[],this.buffer="",this.bufferPos=0,this.iter=e.iterRange(i,s),this.bufferStart=i,this.normalize=a?u=>a(qv(u)):qv,this.query=this.normalize(t)}peek(){if(this.bufferPos==this.buffer.length){if(this.bufferStart+=this.buffer.length,this.iter.next(),this.iter.done)return-1;this.bufferPos=0,this.buffer=this.iter.value}return an(this.buffer,this.bufferPos)}next(){for(;this.matches.length;)this.matches.pop();return this.nextOverlapping()}nextOverlapping(){for(;;){let e=this.peek();if(e<0)return this.done=!0,this;let t=sg(e),i=this.bufferStart+this.bufferPos;this.bufferPos+=mi(e);let s=this.normalize(t);if(s.length)for(let a=0,o=i;;a++){let u=s.charCodeAt(a),f=this.match(u,o,this.bufferPos+this.bufferStart);if(a==s.length-1){if(f)return this.value=f,this;break}o==i&&a<t.length&&t.charCodeAt(a)==u&&o++}}}match(e,t,i){let s=null;for(let a=0;a<this.matches.length;a+=2){let o=this.matches[a],u=!1;this.query.charCodeAt(o)==e&&(o==this.query.length-1?s={from:this.matches[a+1],to:i}:(this.matches[a]++,u=!0)),u||(this.matches.splice(a,2),a-=2)}return this.query.charCodeAt(0)==e&&(this.query.length==1?s={from:t,to:i}:this.matches.push(1,t)),s&&this.test&&!this.test(s.from,s.to,this.buffer,this.bufferStart)&&(s=null),s}}typeof Symbol<"u"&&(Rr.prototype[Symbol.iterator]=function(){return this});const Ek={from:-1,to:-1,match:/.*/.exec("")},Rg="gm"+(/x/.unicode==null?"":"u");class Nk{constructor(e,t,i,s=0,a=e.length){if(this.text=e,this.to=a,this.curLine="",this.done=!1,this.value=Ek,/\\[sWDnr]|\n|\r|\[\^/.test(t))return new Dk(e,t,i,s,a);this.re=new RegExp(t,Rg+(i!=null&&i.ignoreCase?"i":"")),this.test=i==null?void 0:i.test,this.iter=e.iter();let o=e.lineAt(s);this.curLineStart=o.from,this.matchPos=th(e,s),this.getLine(this.curLineStart)}getLine(e){this.iter.next(e),this.iter.lineBreak?this.curLine="":(this.curLine=this.iter.value,this.curLineStart+this.curLine.length>this.to&&(this.curLine=this.curLine.slice(0,this.to-this.curLineStart)),this.iter.next())}nextLine(){this.curLineStart=this.curLineStart+this.curLine.length+1,this.curLineStart>this.to?this.curLine="":this.getLine(0)}next(){for(let e=this.matchPos-this.curLineStart;;){this.re.lastIndex=e;let t=this.matchPos<=this.to&&this.re.exec(this.curLine);if(t){let i=this.curLineStart+t.index,s=i+t[0].length;if(this.matchPos=th(this.text,s+(i==s?1:0)),i==this.curLineStart+this.curLine.length&&this.nextLine(),(i<s||i>this.value.to)&&(!this.test||this.test(i,s,t)))return this.value={from:i,to:s,match:t},this;e=this.matchPos-this.curLineStart}else if(this.curLineStart+this.curLine.length<this.to)this.nextLine(),e=0;else return this.done=!0,this}}}const Em=new WeakMap;class wr{constructor(e,t){this.from=e,this.text=t}get to(){return this.from+this.text.length}static get(e,t,i){let s=Em.get(e);if(!s||s.from>=i||s.to<=t){let u=new wr(t,e.sliceString(t,i));return Em.set(e,u),u}if(s.from==t&&s.to==i)return s;let{text:a,from:o}=s;return o>t&&(a=e.sliceString(t,o)+a,o=t),s.to<i&&(a+=e.sliceString(s.to,i)),Em.set(e,new wr(o,a)),new wr(t,a.slice(t-o,i-o))}}class Dk{constructor(e,t,i,s,a){this.text=e,this.to=a,this.done=!1,this.value=Ek,this.matchPos=th(e,s),this.re=new RegExp(t,Rg+(i!=null&&i.ignoreCase?"i":"")),this.test=i==null?void 0:i.test,this.flat=wr.get(e,s,this.chunkEnd(s+5e3))}chunkEnd(e){return e>=this.to?this.to:this.text.lineAt(e).to}next(){for(;;){let e=this.re.lastIndex=this.matchPos-this.flat.from,t=this.re.exec(this.flat.text);if(t&&!t[0]&&t.index==e&&(this.re.lastIndex=e+1,t=this.re.exec(this.flat.text)),t){let i=this.flat.from+t.index,s=i+t[0].length;if((this.flat.to>=this.to||t.index+t[0].length<=this.flat.text.length-10)&&(!this.test||this.test(i,s,t)))return this.value={from:i,to:s,match:t},this.matchPos=th(this.text,s+(i==s?1:0)),this}if(this.flat.to==this.to)return this.done=!0,this;this.flat=wr.get(this.text,this.flat.from,this.chunkEnd(this.flat.from+this.flat.text.length*2))}}}typeof Symbol<"u"&&(Nk.prototype[Symbol.iterator]=Dk.prototype[Symbol.iterator]=function(){return this});function mR(n){try{return new RegExp(n,Rg),!0}catch{return!1}}function th(n,e){if(e>=n.length)return e;let t=n.lineAt(e),i;for(;e<t.to&&(i=t.text.charCodeAt(e-t.from))>=56320&&i<57344;)e++;return e}const pR=n=>{let{state:e}=n,t=String(e.doc.lineAt(n.state.selection.main.head).number),{close:i,result:s}=CD(n,{label:e.phrase("Go to line"),input:{type:"text",name:"line",value:t},focus:!0,submitLabel:e.phrase("go")});return s.then(a=>{let o=a&&/^([+-])?(\d+)?(:\d+)?(%)?$/.exec(a.elements.line.value);if(!o){n.dispatch({effects:i});return}let u=e.doc.lineAt(e.selection.main.head),[,f,d,p,y]=o,x=p?+p.slice(1):0,S=d?+d:u.number;if(d&&y){let C=S/100;f&&(C=C*(f=="-"?-1:1)+u.number/e.doc.lines),S=Math.round(e.doc.lines*C)}else d&&f&&(S=S*(f=="-"?-1:1)+u.number);let w=e.doc.line(Math.max(1,Math.min(e.doc.lines,S))),A=X.cursor(w.from+Math.max(0,Math.min(x,w.length)));n.dispatch({effects:[i,re.scrollIntoView(A.from,{y:"center"})],selection:A})}),!0},gR={highlightWordAroundCursor:!1,minSelectionLength:1,maxMatches:100,wholeWords:!1},yR=ce.define({combine(n){return wi(n,gR,{highlightWordAroundCursor:(e,t)=>e||t,minSelectionLength:Math.min,maxMatches:Math.min})}});function bR(n){return[kR,wR]}const xR=Se.mark({class:"cm-selectionMatch"}),vR=Se.mark({class:"cm-selectionMatch cm-selectionMatch-main"});function Pv(n,e,t,i){return(t==0||n(e.sliceDoc(t-1,t))!=rt.Word)&&(i==e.doc.length||n(e.sliceDoc(i,i+1))!=rt.Word)}function SR(n,e,t,i){return n(e.sliceDoc(t,t+1))==rt.Word&&n(e.sliceDoc(i-1,i))==rt.Word}const wR=ft.fromClass(class{constructor(n){this.decorations=this.getDeco(n)}update(n){(n.selectionSet||n.docChanged||n.viewportChanged)&&(this.decorations=this.getDeco(n.view))}getDeco(n){let e=n.state.facet(yR),{state:t}=n,i=t.selection;if(i.ranges.length>1)return Se.none;let s=i.main,a,o=null;if(s.empty){if(!e.highlightWordAroundCursor)return Se.none;let f=t.wordAt(s.head);if(!f)return Se.none;o=t.charCategorizer(s.head),a=t.sliceDoc(f.from,f.to)}else{let f=s.to-s.from;if(f<e.minSelectionLength||f>200)return Se.none;if(e.wholeWords){if(a=t.sliceDoc(s.from,s.to),o=t.charCategorizer(s.head),!(Pv(o,t,s.from,s.to)&&SR(o,t,s.from,s.to)))return Se.none}else if(a=t.sliceDoc(s.from,s.to),!a)return Se.none}let u=[];for(let f of n.visibleRanges){let d=new Rr(t.doc,a,f.from,f.to);for(;!d.next().done;){let{from:p,to:y}=d.value;if((!o||Pv(o,t,p,y))&&(s.empty&&p<=s.from&&y>=s.to?u.push(vR.range(p,y)):(p>=s.to||y<=s.from)&&u.push(xR.range(p,y)),u.length>e.maxMatches))return Se.none}}return Se.set(u)}},{decorations:n=>n.decorations}),kR=re.baseTheme({".cm-selectionMatch":{backgroundColor:"#99ff7780"},".cm-searchMatch .cm-selectionMatch":{backgroundColor:"transparent"}}),CR=({state:n,dispatch:e})=>{let{selection:t}=n,i=X.create(t.ranges.map(s=>n.wordAt(s.head)||X.cursor(s.head)),t.mainIndex);return i.eq(t)?!1:(e(n.update({selection:i})),!0)};function AR(n,e){let{main:t,ranges:i}=n.selection,s=n.wordAt(t.head),a=s&&s.from==t.from&&s.to==t.to;for(let o=!1,u=new Rr(n.doc,e,i[i.length-1].to);;)if(u.next(),u.done){if(o)return null;u=new Rr(n.doc,e,0,Math.max(0,i[i.length-1].from-1)),o=!0}else{if(o&&i.some(f=>f.from==u.value.from))continue;if(a){let f=n.wordAt(u.value.from);if(!f||f.from!=u.value.from||f.to!=u.value.to)continue}return u.value}}const MR=({state:n,dispatch:e})=>{let{ranges:t}=n.selection;if(t.some(a=>a.from===a.to))return CR({state:n,dispatch:e});let i=n.sliceDoc(t[0].from,t[0].to);if(n.selection.ranges.some(a=>n.sliceDoc(a.from,a.to)!=i))return!1;let s=AR(n,i);return s?(e(n.update({selection:n.selection.addRange(X.range(s.from,s.to),!1),effects:re.scrollIntoView(s.to)})),!0):!1},Hr=ce.define({combine(n){return wi(n,{top:!1,caseSensitive:!1,literal:!1,regexp:!1,wholeWord:!1,createPanel:e=>new UR(e),scrollToMatch:e=>re.scrollIntoView(e)})}});class Ok{constructor(e){this.search=e.search,this.caseSensitive=!!e.caseSensitive,this.literal=!!e.literal,this.regexp=!!e.regexp,this.replace=e.replace||"",this.valid=!!this.search&&(!this.regexp||mR(this.search)),this.unquoted=this.unquote(this.search),this.wholeWord=!!e.wholeWord,this.test=e.test}unquote(e){return this.literal?e:e.replace(/\\([nrt\\])/g,(t,i)=>i=="n"?`
`:i=="r"?"\r":i=="t"?"	":"\\")}eq(e){return this.search==e.search&&this.replace==e.replace&&this.caseSensitive==e.caseSensitive&&this.regexp==e.regexp&&this.wholeWord==e.wholeWord&&this.test==e.test}create(){return this.regexp?new RR(this):new NR(this)}getCursor(e,t=0,i){let s=e.doc?e:ze.create({doc:e});return i==null&&(i=s.doc.length),this.regexp?fr(this,s,t,i):hr(this,s,t,i)}}class Rk{constructor(e){this.spec=e}}function TR(n,e,t){return(i,s,a,o)=>{if(t&&!t(i,s,a,o))return!1;let u=i>=o&&s<=o+a.length?a.slice(i-o,s-o):e.doc.sliceString(i,s);return n(u,e,i,s)}}function hr(n,e,t,i){let s;return n.wholeWord&&(s=ER(e.doc,e.charCategorizer(e.selection.main.head))),n.test&&(s=TR(n.test,e,s)),new Rr(e.doc,n.unquoted,t,i,n.caseSensitive?void 0:a=>a.toLowerCase(),s)}function ER(n,e){return(t,i,s,a)=>((a>t||a+s.length<i)&&(a=Math.max(0,t-2),s=n.sliceString(a,Math.min(n.length,i+2))),(e(nh(s,t-a))!=rt.Word||e(ih(s,t-a))!=rt.Word)&&(e(ih(s,i-a))!=rt.Word||e(nh(s,i-a))!=rt.Word))}class NR extends Rk{constructor(e){super(e)}nextMatch(e,t,i){let s=hr(this.spec,e,i,e.doc.length).nextOverlapping();if(s.done){let a=Math.min(e.doc.length,t+this.spec.unquoted.length);s=hr(this.spec,e,0,a).nextOverlapping()}return s.done||s.value.from==t&&s.value.to==i?null:s.value}prevMatchInRange(e,t,i){for(let s=i;;){let a=Math.max(t,s-1e4-this.spec.unquoted.length),o=hr(this.spec,e,a,s),u=null;for(;!o.nextOverlapping().done;)u=o.value;if(u)return u;if(a==t)return null;s-=1e4}}prevMatch(e,t,i){let s=this.prevMatchInRange(e,0,t);return s||(s=this.prevMatchInRange(e,Math.max(0,i-this.spec.unquoted.length),e.doc.length)),s&&(s.from!=t||s.to!=i)?s:null}getReplacement(e){return this.spec.unquote(this.spec.replace)}matchAll(e,t){let i=hr(this.spec,e,0,e.doc.length),s=[];for(;!i.next().done;){if(s.length>=t)return null;s.push(i.value)}return s}highlight(e,t,i,s){let a=hr(this.spec,e,Math.max(0,t-this.spec.unquoted.length),Math.min(i+this.spec.unquoted.length,e.doc.length));for(;!a.next().done;)s(a.value.from,a.value.to)}}function DR(n,e,t){return(i,s,a)=>(!t||t(i,s,a))&&n(a[0],e,i,s)}function fr(n,e,t,i){let s;return n.wholeWord&&(s=OR(e.charCategorizer(e.selection.main.head))),n.test&&(s=DR(n.test,e,s)),new Nk(e.doc,n.search,{ignoreCase:!n.caseSensitive,test:s},t,i)}function nh(n,e){return n.slice(Rt(n,e,!1),e)}function ih(n,e){return n.slice(e,Rt(n,e))}function OR(n){return(e,t,i)=>!i[0].length||(n(nh(i.input,i.index))!=rt.Word||n(ih(i.input,i.index))!=rt.Word)&&(n(ih(i.input,i.index+i[0].length))!=rt.Word||n(nh(i.input,i.index+i[0].length))!=rt.Word)}class RR extends Rk{nextMatch(e,t,i){let s=fr(this.spec,e,i,e.doc.length).next();return s.done&&(s=fr(this.spec,e,0,t).next()),s.done?null:s.value}prevMatchInRange(e,t,i){for(let s=1;;s++){let a=Math.max(t,i-s*1e4),o=fr(this.spec,e,a,i),u=null;for(;!o.next().done;)u=o.value;if(u&&(a==t||u.from>a+10))return u;if(a==t)return null}}prevMatch(e,t,i){return this.prevMatchInRange(e,0,t)||this.prevMatchInRange(e,i,e.doc.length)}getReplacement(e){return this.spec.unquote(this.spec.replace).replace(/\$([$&]|\d+)/g,(t,i)=>{if(i=="&")return e.match[0];if(i=="$")return"$";for(let s=i.length;s>0;s--){let a=+i.slice(0,s);if(a>0&&a<e.match.length)return e.match[a]+i.slice(s)}return t})}matchAll(e,t){let i=fr(this.spec,e,0,e.doc.length),s=[];for(;!i.next().done;){if(s.length>=t)return null;s.push(i.value)}return s}highlight(e,t,i,s){let a=fr(this.spec,e,Math.max(0,t-250),Math.min(i+250,e.doc.length));for(;!a.next().done;)s(a.value.from,a.value.to)}}const vo=Me.define(),jg=Me.define(),Nl=Gt.define({create(n){return new Nm(Bp(n).create(),null)},update(n,e){for(let t of e.effects)t.is(vo)?n=new Nm(t.value.create(),n.panel):t.is(jg)&&(n=new Nm(n.query,t.value?_g:null));return n},provide:n=>go.from(n,e=>e.panel)});class Nm{constructor(e,t){this.query=e,this.panel=t}}const jR=Se.mark({class:"cm-searchMatch"}),_R=Se.mark({class:"cm-searchMatch cm-searchMatch-selected"}),LR=ft.fromClass(class{constructor(n){this.view=n,this.decorations=this.highlight(n.state.field(Nl))}update(n){let e=n.state.field(Nl);(e!=n.startState.field(Nl)||n.docChanged||n.selectionSet||n.viewportChanged)&&(this.decorations=this.highlight(e))}highlight({query:n,panel:e}){if(!e||!n.spec.valid)return Se.none;let{view:t}=this,i=new Fi;for(let s=0,a=t.visibleRanges,o=a.length;s<o;s++){let{from:u,to:f}=a[s];for(;s<o-1&&f>a[s+1].from-500;)f=a[++s].to;n.highlight(t.state,u,f,(d,p)=>{let y=t.state.selection.ranges.some(x=>x.from==d&&x.to==p);i.add(d,p,y?_R:jR)})}return i.finish()}},{decorations:n=>n.decorations});function Bo(n){return e=>{let t=e.state.field(Nl,!1);return t&&t.query.spec.valid?n(e,t):Lk(e)}}const lh=Bo((n,{query:e})=>{let{to:t}=n.state.selection.main,i=e.nextMatch(n.state,t,t);if(!i)return!1;let s=X.single(i.from,i.to),a=n.state.facet(Hr);return n.dispatch({selection:s,effects:[Lg(n,i),a.scrollToMatch(s.main,n)],userEvent:"select.search"}),_k(n),!0}),sh=Bo((n,{query:e})=>{let{state:t}=n,{from:i}=t.selection.main,s=e.prevMatch(t,i,i);if(!s)return!1;let a=X.single(s.from,s.to),o=n.state.facet(Hr);return n.dispatch({selection:a,effects:[Lg(n,s),o.scrollToMatch(a.main,n)],userEvent:"select.search"}),_k(n),!0}),BR=Bo((n,{query:e})=>{let t=e.matchAll(n.state,1e3);return!t||!t.length?!1:(n.dispatch({selection:X.create(t.map(i=>X.range(i.from,i.to))),userEvent:"select.search.matches"}),!0)}),zR=({state:n,dispatch:e})=>{let t=n.selection;if(t.ranges.length>1||t.main.empty)return!1;let{from:i,to:s}=t.main,a=[],o=0;for(let u=new Rr(n.doc,n.sliceDoc(i,s));!u.next().done;){if(a.length>1e3)return!1;u.value.from==i&&(o=a.length),a.push(X.range(u.value.from,u.value.to))}return e(n.update({selection:X.create(a,o),userEvent:"select.search.matches"})),!0},Kv=Bo((n,{query:e})=>{let{state:t}=n,{from:i,to:s}=t.selection.main;if(t.readOnly)return!1;let a=e.nextMatch(t,i,i);if(!a)return!1;let o=a,u=[],f,d,p=[];o.from==i&&o.to==s&&(d=t.toText(e.getReplacement(o)),u.push({from:o.from,to:o.to,insert:d}),o=e.nextMatch(t,o.from,o.to),p.push(re.announce.of(t.phrase("replaced match on line $",t.doc.lineAt(i).number)+".")));let y=n.state.changes(u);return o&&(f=X.single(o.from,o.to).map(y),p.push(Lg(n,o)),p.push(t.facet(Hr).scrollToMatch(f.main,n))),n.dispatch({changes:y,selection:f,effects:p,userEvent:"input.replace"}),!0}),HR=Bo((n,{query:e})=>{if(n.state.readOnly)return!1;let t=e.matchAll(n.state,1e9).map(s=>{let{from:a,to:o}=s;return{from:a,to:o,insert:e.getReplacement(s)}});if(!t.length)return!1;let i=n.state.phrase("replaced $ matches",t.length)+".";return n.dispatch({changes:t,effects:re.announce.of(i),userEvent:"input.replace.all"}),!0});function _g(n){return n.state.facet(Hr).createPanel(n)}function Bp(n,e){var t,i,s,a,o;let u=n.selection.main,f=u.empty||u.to>u.from+100?"":n.sliceDoc(u.from,u.to);if(e&&!f)return e;let d=n.facet(Hr);return new Ok({search:((t=e==null?void 0:e.literal)!==null&&t!==void 0?t:d.literal)?f:f.replace(/\n/g,"\\n"),caseSensitive:(i=e==null?void 0:e.caseSensitive)!==null&&i!==void 0?i:d.caseSensitive,literal:(s=e==null?void 0:e.literal)!==null&&s!==void 0?s:d.literal,regexp:(a=e==null?void 0:e.regexp)!==null&&a!==void 0?a:d.regexp,wholeWord:(o=e==null?void 0:e.wholeWord)!==null&&o!==void 0?o:d.wholeWord})}function jk(n){let e=kg(n,_g);return e&&e.dom.querySelector("[main-field]")}function _k(n){let e=jk(n);e&&e==n.root.activeElement&&e.select()}const Lk=n=>{let e=n.state.field(Nl,!1);if(e&&e.panel){let t=jk(n);if(t&&t!=n.root.activeElement){let i=Bp(n.state,e.query.spec);i.valid&&n.dispatch({effects:vo.of(i)}),t.focus(),t.select()}}else n.dispatch({effects:[jg.of(!0),e?vo.of(Bp(n.state,e.query.spec)):Me.appendConfig.of(PR)]});return!0},Bk=n=>{let e=n.state.field(Nl,!1);if(!e||!e.panel)return!1;let t=kg(n,_g);return t&&t.dom.contains(n.root.activeElement)&&n.focus(),n.dispatch({effects:jg.of(!1)}),!0},VR=[{key:"Mod-f",run:Lk,scope:"editor search-panel"},{key:"F3",run:lh,shift:sh,scope:"editor search-panel",preventDefault:!0},{key:"Mod-g",run:lh,shift:sh,scope:"editor search-panel",preventDefault:!0},{key:"Escape",run:Bk,scope:"editor search-panel"},{key:"Mod-Shift-l",run:zR},{key:"Mod-Alt-g",run:pR},{key:"Mod-d",run:MR,preventDefault:!0}];class UR{constructor(e){this.view=e;let t=this.query=e.state.field(Nl).query.spec;this.commit=this.commit.bind(this),this.searchField=Qe("input",{value:t.search,placeholder:wn(e,"Find"),"aria-label":wn(e,"Find"),class:"cm-textfield",name:"search",form:"","main-field":"true",onchange:this.commit,onkeyup:this.commit}),this.replaceField=Qe("input",{value:t.replace,placeholder:wn(e,"Replace"),"aria-label":wn(e,"Replace"),class:"cm-textfield",name:"replace",form:"",onchange:this.commit,onkeyup:this.commit}),this.caseField=Qe("input",{type:"checkbox",name:"case",form:"",checked:t.caseSensitive,onchange:this.commit}),this.reField=Qe("input",{type:"checkbox",name:"re",form:"",checked:t.regexp,onchange:this.commit}),this.wordField=Qe("input",{type:"checkbox",name:"word",form:"",checked:t.wholeWord,onchange:this.commit});function i(s,a,o){return Qe("button",{class:"cm-button",name:s,onclick:a,type:"button"},o)}this.dom=Qe("div",{onkeydown:s=>this.keydown(s),class:"cm-search"},[this.searchField,i("next",()=>lh(e),[wn(e,"next")]),i("prev",()=>sh(e),[wn(e,"previous")]),i("select",()=>BR(e),[wn(e,"all")]),Qe("label",null,[this.caseField,wn(e,"match case")]),Qe("label",null,[this.reField,wn(e,"regexp")]),Qe("label",null,[this.wordField,wn(e,"by word")]),...e.state.readOnly?[]:[Qe("br"),this.replaceField,i("replace",()=>Kv(e),[wn(e,"replace")]),i("replaceAll",()=>HR(e),[wn(e,"replace all")])],Qe("button",{name:"close",onclick:()=>Bk(e),"aria-label":wn(e,"close"),type:"button"},[""])])}commit(){let e=new Ok({search:this.searchField.value,caseSensitive:this.caseField.checked,regexp:this.reField.checked,wholeWord:this.wordField.checked,replace:this.replaceField.value});e.eq(this.query)||(this.query=e,this.view.dispatch({effects:vo.of(e)}))}keydown(e){_5(this.view,e,"search-panel")?e.preventDefault():e.keyCode==13&&e.target==this.searchField?(e.preventDefault(),(e.shiftKey?sh:lh)(this.view)):e.keyCode==13&&e.target==this.replaceField&&(e.preventDefault(),Kv(this.view))}update(e){for(let t of e.transactions)for(let i of t.effects)i.is(vo)&&!i.value.eq(this.query)&&this.setQuery(i.value)}setQuery(e){this.query=e,this.searchField.value=e.search,this.replaceField.value=e.replace,this.caseField.checked=e.caseSensitive,this.reField.checked=e.regexp,this.wordField.checked=e.wholeWord}mount(){this.searchField.select()}get pos(){return 80}get top(){return this.view.state.facet(Hr).top}}function wn(n,e){return n.state.phrase(e)}const Su=30,wu=/[\s\.,:;?!]/;function Lg(n,{from:e,to:t}){let i=n.state.doc.lineAt(e),s=n.state.doc.lineAt(t).to,a=Math.max(i.from,e-Su),o=Math.min(s,t+Su),u=n.state.sliceDoc(a,o);if(a!=i.from){for(let f=0;f<Su;f++)if(!wu.test(u[f+1])&&wu.test(u[f])){u=u.slice(f);break}}if(o!=s){for(let f=u.length-1;f>u.length-Su;f--)if(!wu.test(u[f-1])&&wu.test(u[f])){u=u.slice(0,f);break}}return re.announce.of(`${n.state.phrase("current match")}. ${u} ${n.state.phrase("on line")} ${i.number}.`)}const qR=re.baseTheme({".cm-panel.cm-search":{padding:"2px 6px 4px",position:"relative","& [name=close]":{position:"absolute",top:"0",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",padding:0,margin:0},"& input, & button, & label":{margin:".2em .6em .2em 0"},"& input[type=checkbox]":{marginRight:".2em"},"& label":{fontSize:"80%",whiteSpace:"pre"}},"&light .cm-searchMatch":{backgroundColor:"#ffff0054"},"&dark .cm-searchMatch":{backgroundColor:"#00ffff8a"},"&light .cm-searchMatch-selected":{backgroundColor:"#ff6a0054"},"&dark .cm-searchMatch-selected":{backgroundColor:"#ff00ff8a"}}),PR=[Nl,ws.low(LR),qR];class zk{constructor(e,t,i,s){this.state=e,this.pos=t,this.explicit=i,this.view=s,this.abortListeners=[],this.abortOnDocChange=!1}tokenBefore(e){let t=Yt(this.state).resolveInner(this.pos,-1);for(;t&&e.indexOf(t.name)<0;)t=t.parent;return t?{from:t.from,to:this.pos,text:this.state.sliceDoc(t.from,this.pos),type:t.type}:null}matchBefore(e){let t=this.state.doc.lineAt(this.pos),i=Math.max(t.from,this.pos-250),s=t.text.slice(i-t.from,this.pos-t.from),a=s.search(Hk(e,!1));return a<0?null:{from:i+a,to:this.pos,text:s.slice(a)}}get aborted(){return this.abortListeners==null}addEventListener(e,t,i){e=="abort"&&this.abortListeners&&(this.abortListeners.push(t),i&&i.onDocChange&&(this.abortOnDocChange=!0))}}function Yv(n){let e=Object.keys(n).join(""),t=/\w/.test(e);return t&&(e=e.replace(/\w/g,"")),`[${t?"\\w":""}${e.replace(/[^\w\s]/g,"\\$&")}]`}function KR(n){let e=Object.create(null),t=Object.create(null);for(let{label:s}of n){e[s[0]]=!0;for(let a=1;a<s.length;a++)t[s[a]]=!0}let i=Yv(e)+Yv(t)+"*$";return[new RegExp("^"+i),new RegExp(i)]}function YR(n){let e=n.map(s=>typeof s=="string"?{label:s}:s),[t,i]=e.every(s=>/^\w+$/.test(s.label))?[/\w*$/,/\w+$/]:KR(e);return s=>{let a=s.matchBefore(i);return a||s.explicit?{from:a?a.from:s.pos,options:e,validFor:t}:null}}class Gv{constructor(e,t,i,s){this.completion=e,this.source=t,this.match=i,this.score=s}}function ps(n){return n.selection.main.from}function Hk(n,e){var t;let{source:i}=n,s=e&&i[0]!="^",a=i[i.length-1]!="$";return!s&&!a?n:new RegExp(`${s?"^":""}(?:${i})${a?"$":""}`,(t=n.flags)!==null&&t!==void 0?t:n.ignoreCase?"i":"")}const Vk=Si.define();function GR(n,e,t,i){let{main:s}=n.selection,a=t-s.from,o=i-s.from;return{...n.changeByRange(u=>{if(u!=s&&t!=i&&n.sliceDoc(u.from+a,u.from+o)!=n.sliceDoc(t,i))return{range:u};let f=n.toText(e);return{changes:{from:u.from+a,to:i==s.from?u.to:u.from+o,insert:f},range:X.cursor(u.from+a+f.length)}}),scrollIntoView:!0,userEvent:"input.complete"}}const Iv=new WeakMap;function IR(n){if(!Array.isArray(n))return n;let e=Iv.get(n);return e||Iv.set(n,e=YR(n)),e}const rh=Me.define(),So=Me.define();class FR{constructor(e){this.pattern=e,this.chars=[],this.folded=[],this.any=[],this.precise=[],this.byWord=[],this.score=0,this.matched=[];for(let t=0;t<e.length;){let i=an(e,t),s=mi(i);this.chars.push(i);let a=e.slice(t,t+s),o=a.toUpperCase();this.folded.push(an(o==a?a.toLowerCase():o,0)),t+=s}this.astral=e.length!=this.chars.length}ret(e,t){return this.score=e,this.matched=t,this}match(e){if(this.pattern.length==0)return this.ret(-100,[]);if(e.length<this.pattern.length)return null;let{chars:t,folded:i,any:s,precise:a,byWord:o}=this;if(t.length==1){let j=an(e,0),N=mi(j),q=N==e.length?0:-100;if(j!=t[0])if(j==i[0])q+=-200;else return null;return this.ret(q,[0,N])}let u=e.indexOf(this.pattern);if(u==0)return this.ret(e.length==this.pattern.length?0:-100,[0,this.pattern.length]);let f=t.length,d=0;if(u<0){for(let j=0,N=Math.min(e.length,200);j<N&&d<f;){let q=an(e,j);(q==t[d]||q==i[d])&&(s[d++]=j),j+=mi(q)}if(d<f)return null}let p=0,y=0,x=!1,S=0,w=-1,A=-1,C=/[a-z]/.test(e),T=!0;for(let j=0,N=Math.min(e.length,200),q=0;j<N&&y<f;){let B=an(e,j);u<0&&(p<f&&B==t[p]&&(a[p++]=j),S<f&&(B==t[S]||B==i[S]?(S==0&&(w=j),A=j+1,S++):S=0));let G,V=B<255?B>=48&&B<=57||B>=97&&B<=122?2:B>=65&&B<=90?1:0:(G=sg(B))!=G.toLowerCase()?1:G!=G.toUpperCase()?2:0;(!j||V==1&&C||q==0&&V!=0)&&(t[y]==B||i[y]==B&&(x=!0)?o[y++]=j:o.length&&(T=!1)),q=V,j+=mi(B)}return y==f&&o[0]==0&&T?this.result(-100+(x?-200:0),o,e):S==f&&w==0?this.ret(-200-e.length+(A==e.length?0:-100),[0,A]):u>-1?this.ret(-700-e.length,[u,u+this.pattern.length]):S==f?this.ret(-900-e.length,[w,A]):y==f?this.result(-100+(x?-200:0)+-700+(T?0:-1100),o,e):t.length==2?null:this.result((s[0]?-700:0)+-200+-1100,s,e)}result(e,t,i){let s=[],a=0;for(let o of t){let u=o+(this.astral?mi(an(i,o)):1);a&&s[a-1]==o?s[a-1]=u:(s[a++]=o,s[a++]=u)}return this.ret(e-i.length,s)}}class WR{constructor(e){this.pattern=e,this.matched=[],this.score=0,this.folded=e.toLowerCase()}match(e){if(e.length<this.pattern.length)return null;let t=e.slice(0,this.pattern.length),i=t==this.pattern?0:t.toLowerCase()==this.folded?-200:null;return i==null?null:(this.matched=[0,t.length],this.score=i+(e.length==this.pattern.length?0:-100),this)}}const Ot=ce.define({combine(n){return wi(n,{activateOnTyping:!0,activateOnCompletion:()=>!1,activateOnTypingDelay:100,selectOnOpen:!0,override:null,closeOnBlur:!0,maxRenderedOptions:100,defaultKeymap:!0,tooltipClass:()=>"",optionClass:()=>"",aboveCursor:!1,icons:!0,addToOptions:[],positionInfo:XR,filterStrict:!1,compareCompletions:(e,t)=>(e.sortText||e.label).localeCompare(t.sortText||t.label),interactionDelay:75,updateSyncTime:100},{defaultKeymap:(e,t)=>e&&t,closeOnBlur:(e,t)=>e&&t,icons:(e,t)=>e&&t,tooltipClass:(e,t)=>i=>Fv(e(i),t(i)),optionClass:(e,t)=>i=>Fv(e(i),t(i)),addToOptions:(e,t)=>e.concat(t),filterStrict:(e,t)=>e||t})}});function Fv(n,e){return n?e?n+" "+e:n:e}function XR(n,e,t,i,s,a){let o=n.textDirection==Je.RTL,u=o,f=!1,d="top",p,y,x=e.left-s.left,S=s.right-e.right,w=i.right-i.left,A=i.bottom-i.top;if(u&&x<Math.min(w,S)?u=!1:!u&&S<Math.min(w,x)&&(u=!0),w<=(u?x:S))p=Math.max(s.top,Math.min(t.top,s.bottom-A))-e.top,y=Math.min(400,u?x:S);else{f=!0,y=Math.min(400,(o?e.right:s.right-e.left)-30);let j=s.bottom-e.bottom;j>=A||j>e.top?p=t.bottom-e.top:(d="bottom",p=e.bottom-t.top)}let C=(e.bottom-e.top)/a.offsetHeight,T=(e.right-e.left)/a.offsetWidth;return{style:`${d}: ${p/C}px; max-width: ${y/T}px`,class:"cm-completionInfo-"+(f?o?"left-narrow":"right-narrow":u?"left":"right")}}function QR(n){let e=n.addToOptions.slice();return n.icons&&e.push({render(t){let i=document.createElement("div");return i.classList.add("cm-completionIcon"),t.type&&i.classList.add(...t.type.split(/\s+/g).map(s=>"cm-completionIcon-"+s)),i.setAttribute("aria-hidden","true"),i},position:20}),e.push({render(t,i,s,a){let o=document.createElement("span");o.className="cm-completionLabel";let u=t.displayLabel||t.label,f=0;for(let d=0;d<a.length;){let p=a[d++],y=a[d++];p>f&&o.appendChild(document.createTextNode(u.slice(f,p)));let x=o.appendChild(document.createElement("span"));x.appendChild(document.createTextNode(u.slice(p,y))),x.className="cm-completionMatchedText",f=y}return f<u.length&&o.appendChild(document.createTextNode(u.slice(f))),o},position:50},{render(t){if(!t.detail)return null;let i=document.createElement("span");return i.className="cm-completionDetail",i.textContent=t.detail,i},position:80}),e.sort((t,i)=>t.position-i.position).map(t=>t.render)}function Dm(n,e,t){if(n<=t)return{from:0,to:n};if(e<0&&(e=0),e<=n>>1){let s=Math.floor(e/t);return{from:s*t,to:(s+1)*t}}let i=Math.floor((n-e)/t);return{from:n-(i+1)*t,to:n-i*t}}class ZR{constructor(e,t,i){this.view=e,this.stateField=t,this.applyCompletion=i,this.info=null,this.infoDestroy=null,this.placeInfoReq={read:()=>this.measureInfo(),write:f=>this.placeInfo(f),key:this},this.space=null,this.currentClass="";let s=e.state.field(t),{options:a,selected:o}=s.open,u=e.state.facet(Ot);this.optionContent=QR(u),this.optionClass=u.optionClass,this.tooltipClass=u.tooltipClass,this.range=Dm(a.length,o,u.maxRenderedOptions),this.dom=document.createElement("div"),this.dom.className="cm-tooltip-autocomplete",this.updateTooltipClass(e.state),this.dom.addEventListener("mousedown",f=>{let{options:d}=e.state.field(t).open;for(let p=f.target,y;p&&p!=this.dom;p=p.parentNode)if(p.nodeName=="LI"&&(y=/-(\d+)$/.exec(p.id))&&+y[1]<d.length){this.applyCompletion(e,d[+y[1]]),f.preventDefault();return}}),this.dom.addEventListener("focusout",f=>{let d=e.state.field(this.stateField,!1);d&&d.tooltip&&e.state.facet(Ot).closeOnBlur&&f.relatedTarget!=e.contentDOM&&e.dispatch({effects:So.of(null)})}),this.showOptions(a,s.id)}mount(){this.updateSel()}showOptions(e,t){this.list&&this.list.remove(),this.list=this.dom.appendChild(this.createListBox(e,t,this.range)),this.list.addEventListener("scroll",()=>{this.info&&this.view.requestMeasure(this.placeInfoReq)})}update(e){var t;let i=e.state.field(this.stateField),s=e.startState.field(this.stateField);if(this.updateTooltipClass(e.state),i!=s){let{options:a,selected:o,disabled:u}=i.open;(!s.open||s.open.options!=a)&&(this.range=Dm(a.length,o,e.state.facet(Ot).maxRenderedOptions),this.showOptions(a,i.id)),this.updateSel(),u!=((t=s.open)===null||t===void 0?void 0:t.disabled)&&this.dom.classList.toggle("cm-tooltip-autocomplete-disabled",!!u)}}updateTooltipClass(e){let t=this.tooltipClass(e);if(t!=this.currentClass){for(let i of this.currentClass.split(" "))i&&this.dom.classList.remove(i);for(let i of t.split(" "))i&&this.dom.classList.add(i);this.currentClass=t}}positioned(e){this.space=e,this.info&&this.view.requestMeasure(this.placeInfoReq)}updateSel(){let e=this.view.state.field(this.stateField),t=e.open;(t.selected>-1&&t.selected<this.range.from||t.selected>=this.range.to)&&(this.range=Dm(t.options.length,t.selected,this.view.state.facet(Ot).maxRenderedOptions),this.showOptions(t.options,e.id));let i=this.updateSelectedOption(t.selected);if(i){this.destroyInfo();let{completion:s}=t.options[t.selected],{info:a}=s;if(!a)return;let o=typeof a=="string"?document.createTextNode(a):a(s);if(!o)return;"then"in o?o.then(u=>{u&&this.view.state.field(this.stateField,!1)==e&&this.addInfoPane(u,s)}).catch(u=>un(this.view.state,u,"completion info")):(this.addInfoPane(o,s),i.setAttribute("aria-describedby",this.info.id))}}addInfoPane(e,t){this.destroyInfo();let i=this.info=document.createElement("div");if(i.className="cm-tooltip cm-completionInfo",i.id="cm-completionInfo-"+Math.floor(Math.random()*65535).toString(16),e.nodeType!=null)i.appendChild(e),this.infoDestroy=null;else{let{dom:s,destroy:a}=e;i.appendChild(s),this.infoDestroy=a||null}this.dom.appendChild(i),this.view.requestMeasure(this.placeInfoReq)}updateSelectedOption(e){let t=null;for(let i=this.list.firstChild,s=this.range.from;i;i=i.nextSibling,s++)i.nodeName!="LI"||!i.id?s--:s==e?i.hasAttribute("aria-selected")||(i.setAttribute("aria-selected","true"),t=i):i.hasAttribute("aria-selected")&&(i.removeAttribute("aria-selected"),i.removeAttribute("aria-describedby"));return t&&JR(this.list,t),t}measureInfo(){let e=this.dom.querySelector("[aria-selected]");if(!e||!this.info)return null;let t=this.dom.getBoundingClientRect(),i=this.info.getBoundingClientRect(),s=e.getBoundingClientRect(),a=this.space;if(!a){let o=this.dom.ownerDocument.documentElement;a={left:0,top:0,right:o.clientWidth,bottom:o.clientHeight}}return s.top>Math.min(a.bottom,t.bottom)-10||s.bottom<Math.max(a.top,t.top)+10?null:this.view.state.facet(Ot).positionInfo(this.view,t,s,i,a,this.dom)}placeInfo(e){this.info&&(e?(e.style&&(this.info.style.cssText=e.style),this.info.className="cm-tooltip cm-completionInfo "+(e.class||"")):this.info.style.cssText="top: -1e6px")}createListBox(e,t,i){const s=document.createElement("ul");s.id=t,s.setAttribute("role","listbox"),s.setAttribute("aria-expanded","true"),s.setAttribute("aria-label",this.view.state.phrase("Completions")),s.addEventListener("mousedown",o=>{o.target==s&&o.preventDefault()});let a=null;for(let o=i.from;o<i.to;o++){let{completion:u,match:f}=e[o],{section:d}=u;if(d){let x=typeof d=="string"?d:d.name;if(x!=a&&(o>i.from||i.from==0))if(a=x,typeof d!="string"&&d.header)s.appendChild(d.header(d));else{let S=s.appendChild(document.createElement("completion-section"));S.textContent=x}}const p=s.appendChild(document.createElement("li"));p.id=t+"-"+o,p.setAttribute("role","option");let y=this.optionClass(u);y&&(p.className=y);for(let x of this.optionContent){let S=x(u,this.view.state,this.view,f);S&&p.appendChild(S)}}return i.from&&s.classList.add("cm-completionListIncompleteTop"),i.to<e.length&&s.classList.add("cm-completionListIncompleteBottom"),s}destroyInfo(){this.info&&(this.infoDestroy&&this.infoDestroy(),this.info.remove(),this.info=null)}destroy(){this.destroyInfo()}}function $R(n,e){return t=>new ZR(t,n,e)}function JR(n,e){let t=n.getBoundingClientRect(),i=e.getBoundingClientRect(),s=t.height/n.offsetHeight;i.top<t.top?n.scrollTop-=(t.top-i.top)/s:i.bottom>t.bottom&&(n.scrollTop+=(i.bottom-t.bottom)/s)}function Wv(n){return(n.boost||0)*100+(n.apply?10:0)+(n.info?5:0)+(n.type?1:0)}function e6(n,e){let t=[],i=null,s=null,a=p=>{t.push(p);let{section:y}=p.completion;if(y){i||(i=[]);let x=typeof y=="string"?y:y.name;i.some(S=>S.name==x)||i.push(typeof y=="string"?{name:x}:y)}},o=e.facet(Ot);for(let p of n)if(p.hasResult()){let y=p.result.getMatch;if(p.result.filter===!1)for(let x of p.result.options)a(new Gv(x,p.source,y?y(x):[],1e9-t.length));else{let x=e.sliceDoc(p.from,p.to),S,w=o.filterStrict?new WR(x):new FR(x);for(let A of p.result.options)if(S=w.match(A.label)){let C=A.displayLabel?y?y(A,S.matched):[]:S.matched,T=S.score+(A.boost||0);if(a(new Gv(A,p.source,C,T)),typeof A.section=="object"&&A.section.rank==="dynamic"){let{name:j}=A.section;s||(s=Object.create(null)),s[j]=Math.max(T,s[j]||-1e9)}}}}if(i){let p=Object.create(null),y=0,x=(S,w)=>(S.rank==="dynamic"&&w.rank==="dynamic"?s[w.name]-s[S.name]:0)||(typeof S.rank=="number"?S.rank:1e9)-(typeof w.rank=="number"?w.rank:1e9)||(S.name<w.name?-1:1);for(let S of i.sort(x))y-=1e5,p[S.name]=y;for(let S of t){let{section:w}=S.completion;w&&(S.score+=p[typeof w=="string"?w:w.name])}}let u=[],f=null,d=o.compareCompletions;for(let p of t.sort((y,x)=>x.score-y.score||d(y.completion,x.completion))){let y=p.completion;!f||f.label!=y.label||f.detail!=y.detail||f.type!=null&&y.type!=null&&f.type!=y.type||f.apply!=y.apply||f.boost!=y.boost?u.push(p):Wv(p.completion)>Wv(f)&&(u[u.length-1]=p),f=p.completion}return u}class gr{constructor(e,t,i,s,a,o){this.options=e,this.attrs=t,this.tooltip=i,this.timestamp=s,this.selected=a,this.disabled=o}setSelected(e,t){return e==this.selected||e>=this.options.length?this:new gr(this.options,Xv(t,e),this.tooltip,this.timestamp,e,this.disabled)}static build(e,t,i,s,a,o){if(s&&!o&&e.some(d=>d.isPending))return s.setDisabled();let u=e6(e,t);if(!u.length)return s&&e.some(d=>d.isPending)?s.setDisabled():null;let f=t.facet(Ot).selectOnOpen?0:-1;if(s&&s.selected!=f&&s.selected!=-1){let d=s.options[s.selected].completion;for(let p=0;p<u.length;p++)if(u[p].completion==d){f=p;break}}return new gr(u,Xv(i,f),{pos:e.reduce((d,p)=>p.hasResult()?Math.min(d,p.from):d,1e8),create:r6,above:a.aboveCursor},s?s.timestamp:Date.now(),f,!1)}map(e){return new gr(this.options,this.attrs,{...this.tooltip,pos:e.mapPos(this.tooltip.pos)},this.timestamp,this.selected,this.disabled)}setDisabled(){return new gr(this.options,this.attrs,this.tooltip,this.timestamp,this.selected,!0)}}class ah{constructor(e,t,i){this.active=e,this.id=t,this.open=i}static start(){return new ah(l6,"cm-ac-"+Math.floor(Math.random()*2e6).toString(36),null)}update(e){let{state:t}=e,i=t.facet(Ot),a=(i.override||t.languageDataAt("autocomplete",ps(t)).map(IR)).map(f=>(this.active.find(p=>p.source==f)||new Vn(f,this.active.some(p=>p.state!=0)?1:0)).update(e,i));a.length==this.active.length&&a.every((f,d)=>f==this.active[d])&&(a=this.active);let o=this.open,u=e.effects.some(f=>f.is(Bg));o&&e.docChanged&&(o=o.map(e.changes)),e.selection||a.some(f=>f.hasResult()&&e.changes.touchesRange(f.from,f.to))||!t6(a,this.active)||u?o=gr.build(a,t,this.id,o,i,u):o&&o.disabled&&!a.some(f=>f.isPending)&&(o=null),!o&&a.every(f=>!f.isPending)&&a.some(f=>f.hasResult())&&(a=a.map(f=>f.hasResult()?new Vn(f.source,0):f));for(let f of e.effects)f.is(qk)&&(o=o&&o.setSelected(f.value,this.id));return a==this.active&&o==this.open?this:new ah(a,this.id,o)}get tooltip(){return this.open?this.open.tooltip:null}get attrs(){return this.open?this.open.attrs:this.active.length?n6:i6}}function t6(n,e){if(n==e)return!0;for(let t=0,i=0;;){for(;t<n.length&&!n[t].hasResult();)t++;for(;i<e.length&&!e[i].hasResult();)i++;let s=t==n.length,a=i==e.length;if(s||a)return s==a;if(n[t++].result!=e[i++].result)return!1}}const n6={"aria-autocomplete":"list"},i6={};function Xv(n,e){let t={"aria-autocomplete":"list","aria-haspopup":"listbox","aria-controls":n};return e>-1&&(t["aria-activedescendant"]=n+"-"+e),t}const l6=[];function Uk(n,e){if(n.isUserEvent("input.complete")){let i=n.annotation(Vk);if(i&&e.activateOnCompletion(i))return 12}let t=n.isUserEvent("input.type");return t&&e.activateOnTyping?5:t?1:n.isUserEvent("delete.backward")?2:n.selection?8:n.docChanged?16:0}class Vn{constructor(e,t,i=!1){this.source=e,this.state=t,this.explicit=i}hasResult(){return!1}get isPending(){return this.state==1}update(e,t){let i=Uk(e,t),s=this;(i&8||i&16&&this.touches(e))&&(s=new Vn(s.source,0)),i&4&&s.state==0&&(s=new Vn(this.source,1)),s=s.updateFor(e,i);for(let a of e.effects)if(a.is(rh))s=new Vn(s.source,1,a.value);else if(a.is(So))s=new Vn(s.source,0);else if(a.is(Bg))for(let o of a.value)o.source==s.source&&(s=o);return s}updateFor(e,t){return this.map(e.changes)}map(e){return this}touches(e){return e.changes.touchesRange(ps(e.state))}}class kr extends Vn{constructor(e,t,i,s,a,o){super(e,3,t),this.limit=i,this.result=s,this.from=a,this.to=o}hasResult(){return!0}updateFor(e,t){var i;if(!(t&3))return this.map(e.changes);let s=this.result;s.map&&!e.changes.empty&&(s=s.map(s,e.changes));let a=e.changes.mapPos(this.from),o=e.changes.mapPos(this.to,1),u=ps(e.state);if(u>o||!s||t&2&&(ps(e.startState)==this.from||u<this.limit))return new Vn(this.source,t&4?1:0);let f=e.changes.mapPos(this.limit);return s6(s.validFor,e.state,a,o)?new kr(this.source,this.explicit,f,s,a,o):s.update&&(s=s.update(s,a,o,new zk(e.state,u,!1)))?new kr(this.source,this.explicit,f,s,s.from,(i=s.to)!==null&&i!==void 0?i:ps(e.state)):new Vn(this.source,1,this.explicit)}map(e){return e.empty?this:(this.result.map?this.result.map(this.result,e):this.result)?new kr(this.source,this.explicit,e.mapPos(this.limit),this.result,e.mapPos(this.from),e.mapPos(this.to,1)):new Vn(this.source,0)}touches(e){return e.changes.touchesRange(this.from,this.to)}}function s6(n,e,t,i){if(!n)return!1;let s=e.sliceDoc(t,i);return typeof n=="function"?n(s,t,i,e):Hk(n,!0).test(s)}const Bg=Me.define({map(n,e){return n.map(t=>t.map(e))}}),qk=Me.define(),on=Gt.define({create(){return ah.start()},update(n,e){return n.update(e)},provide:n=>[wg.from(n,e=>e.tooltip),re.contentAttributes.from(n,e=>e.attrs)]});function zg(n,e){const t=e.completion.apply||e.completion.label;let i=n.state.field(on).active.find(s=>s.source==e.source);return i instanceof kr?(typeof t=="string"?n.dispatch({...GR(n.state,t,i.from,i.to),annotations:Vk.of(e.completion)}):t(n,e.completion,i.from,i.to),!0):!1}const r6=$R(on,zg);function ku(n,e="option"){return t=>{let i=t.state.field(on,!1);if(!i||!i.open||i.open.disabled||Date.now()-i.open.timestamp<t.state.facet(Ot).interactionDelay)return!1;let s=1,a;e=="page"&&(a=xw(t,i.open.tooltip))&&(s=Math.max(2,Math.floor(a.dom.offsetHeight/a.dom.querySelector("li").offsetHeight)-1));let{length:o}=i.open.options,u=i.open.selected>-1?i.open.selected+s*(n?1:-1):n?0:o-1;return u<0?u=e=="page"?0:o-1:u>=o&&(u=e=="page"?o-1:0),t.dispatch({effects:qk.of(u)}),!0}}const a6=n=>{let e=n.state.field(on,!1);return n.state.readOnly||!e||!e.open||e.open.selected<0||e.open.disabled||Date.now()-e.open.timestamp<n.state.facet(Ot).interactionDelay?!1:zg(n,e.open.options[e.open.selected])},Om=n=>n.state.field(on,!1)?(n.dispatch({effects:rh.of(!0)}),!0):!1,o6=n=>{let e=n.state.field(on,!1);return!e||!e.active.some(t=>t.state!=0)?!1:(n.dispatch({effects:So.of(null)}),!0)};class c6{constructor(e,t){this.active=e,this.context=t,this.time=Date.now(),this.updates=[],this.done=void 0}}const u6=50,h6=1e3,f6=ft.fromClass(class{constructor(n){this.view=n,this.debounceUpdate=-1,this.running=[],this.debounceAccept=-1,this.pendingStart=!1,this.composing=0;for(let e of n.state.field(on).active)e.isPending&&this.startQuery(e)}update(n){let e=n.state.field(on),t=n.state.facet(Ot);if(!n.selectionSet&&!n.docChanged&&n.startState.field(on)==e)return;let i=n.transactions.some(a=>{let o=Uk(a,t);return o&8||(a.selection||a.docChanged)&&!(o&3)});for(let a=0;a<this.running.length;a++){let o=this.running[a];if(i||o.context.abortOnDocChange&&n.docChanged||o.updates.length+n.transactions.length>u6&&Date.now()-o.time>h6){for(let u of o.context.abortListeners)try{u()}catch(f){un(this.view.state,f)}o.context.abortListeners=null,this.running.splice(a--,1)}else o.updates.push(...n.transactions)}this.debounceUpdate>-1&&clearTimeout(this.debounceUpdate),n.transactions.some(a=>a.effects.some(o=>o.is(rh)))&&(this.pendingStart=!0);let s=this.pendingStart?50:t.activateOnTypingDelay;if(this.debounceUpdate=e.active.some(a=>a.isPending&&!this.running.some(o=>o.active.source==a.source))?setTimeout(()=>this.startUpdate(),s):-1,this.composing!=0)for(let a of n.transactions)a.isUserEvent("input.type")?this.composing=2:this.composing==2&&a.selection&&(this.composing=3)}startUpdate(){this.debounceUpdate=-1,this.pendingStart=!1;let{state:n}=this.view,e=n.field(on);for(let t of e.active)t.isPending&&!this.running.some(i=>i.active.source==t.source)&&this.startQuery(t);this.running.length&&e.open&&e.open.disabled&&(this.debounceAccept=setTimeout(()=>this.accept(),this.view.state.facet(Ot).updateSyncTime))}startQuery(n){let{state:e}=this.view,t=ps(e),i=new zk(e,t,n.explicit,this.view),s=new c6(n,i);this.running.push(s),Promise.resolve(n.source(i)).then(a=>{s.context.aborted||(s.done=a||null,this.scheduleAccept())},a=>{this.view.dispatch({effects:So.of(null)}),un(this.view.state,a)})}scheduleAccept(){this.running.every(n=>n.done!==void 0)?this.accept():this.debounceAccept<0&&(this.debounceAccept=setTimeout(()=>this.accept(),this.view.state.facet(Ot).updateSyncTime))}accept(){var n;this.debounceAccept>-1&&clearTimeout(this.debounceAccept),this.debounceAccept=-1;let e=[],t=this.view.state.facet(Ot),i=this.view.state.field(on);for(let s=0;s<this.running.length;s++){let a=this.running[s];if(a.done===void 0)continue;if(this.running.splice(s--,1),a.done){let u=ps(a.updates.length?a.updates[0].startState:this.view.state),f=Math.min(u,a.done.from+(a.active.explicit?0:1)),d=new kr(a.active.source,a.active.explicit,f,a.done,a.done.from,(n=a.done.to)!==null&&n!==void 0?n:u);for(let p of a.updates)d=d.update(p,t);if(d.hasResult()){e.push(d);continue}}let o=i.active.find(u=>u.source==a.active.source);if(o&&o.isPending)if(a.done==null){let u=new Vn(a.active.source,0);for(let f of a.updates)u=u.update(f,t);u.isPending||e.push(u)}else this.startQuery(o)}(e.length||i.open&&i.open.disabled)&&this.view.dispatch({effects:Bg.of(e)})}},{eventHandlers:{blur(n){let e=this.view.state.field(on,!1);if(e&&e.tooltip&&this.view.state.facet(Ot).closeOnBlur){let t=e.open&&xw(this.view,e.open.tooltip);(!t||!t.dom.contains(n.relatedTarget))&&setTimeout(()=>this.view.dispatch({effects:So.of(null)}),10)}},compositionstart(){this.composing=1},compositionend(){this.composing==3&&setTimeout(()=>this.view.dispatch({effects:rh.of(!1)}),20),this.composing=0}}}),d6=typeof navigator=="object"&&/Win/.test(navigator.platform),m6=ws.highest(re.domEventHandlers({keydown(n,e){let t=e.state.field(on,!1);if(!t||!t.open||t.open.disabled||t.open.selected<0||n.key.length>1||n.ctrlKey&&!(d6&&n.altKey)||n.metaKey)return!1;let i=t.open.options[t.open.selected],s=t.active.find(o=>o.source==i.source),a=i.completion.commitCharacters||s.result.commitCharacters;return a&&a.indexOf(n.key)>-1&&zg(e,i),!1}})),p6=re.baseTheme({".cm-tooltip.cm-tooltip-autocomplete":{"& > ul":{fontFamily:"monospace",whiteSpace:"nowrap",overflow:"hidden auto",maxWidth_fallback:"700px",maxWidth:"min(700px, 95vw)",minWidth:"250px",maxHeight:"10em",height:"100%",listStyle:"none",margin:0,padding:0,"& > li, & > completion-section":{padding:"1px 3px",lineHeight:1.2},"& > li":{overflowX:"hidden",textOverflow:"ellipsis",cursor:"pointer"},"& > completion-section":{display:"list-item",borderBottom:"1px solid silver",paddingLeft:"0.5em",opacity:.7}}},"&light .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#17c",color:"white"},"&light .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#777"},"&dark .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#347",color:"white"},"&dark .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#444"},".cm-completionListIncompleteTop:before, .cm-completionListIncompleteBottom:after":{content:'""',opacity:.5,display:"block",textAlign:"center"},".cm-tooltip.cm-completionInfo":{position:"absolute",padding:"3px 9px",width:"max-content",maxWidth:"400px",boxSizing:"border-box",whiteSpace:"pre-line"},".cm-completionInfo.cm-completionInfo-left":{right:"100%"},".cm-completionInfo.cm-completionInfo-right":{left:"100%"},".cm-completionInfo.cm-completionInfo-left-narrow":{right:"30px"},".cm-completionInfo.cm-completionInfo-right-narrow":{left:"30px"},"&light .cm-snippetField":{backgroundColor:"#00000022"},"&dark .cm-snippetField":{backgroundColor:"#ffffff22"},".cm-snippetFieldPosition":{verticalAlign:"text-top",width:0,height:"1.15em",display:"inline-block",margin:"0 -0.7px -.7em",borderLeft:"1.4px dotted #888"},".cm-completionMatchedText":{textDecoration:"underline"},".cm-completionDetail":{marginLeft:"0.5em",fontStyle:"italic"},".cm-completionIcon":{fontSize:"90%",width:".8em",display:"inline-block",textAlign:"center",paddingRight:".6em",opacity:"0.6",boxSizing:"content-box"},".cm-completionIcon-function, .cm-completionIcon-method":{"&:after":{content:"''"}},".cm-completionIcon-class":{"&:after":{content:"''"}},".cm-completionIcon-interface":{"&:after":{content:"''"}},".cm-completionIcon-variable":{"&:after":{content:"''"}},".cm-completionIcon-constant":{"&:after":{content:"''"}},".cm-completionIcon-type":{"&:after":{content:"''"}},".cm-completionIcon-enum":{"&:after":{content:"''"}},".cm-completionIcon-property":{"&:after":{content:"''"}},".cm-completionIcon-keyword":{"&:after":{content:"''"}},".cm-completionIcon-namespace":{"&:after":{content:"''"}},".cm-completionIcon-text":{"&:after":{content:"'abc'",fontSize:"50%",verticalAlign:"middle"}}}),wo={brackets:["(","[","{","'",'"'],before:")]}:;>",stringPrefixes:[]},ds=Me.define({map(n,e){let t=e.mapPos(n,-1,Qt.TrackAfter);return t??void 0}}),Hg=new class extends Ol{};Hg.startSide=1;Hg.endSide=-1;const Pk=Gt.define({create(){return Re.empty},update(n,e){if(n=n.map(e.changes),e.selection){let t=e.state.doc.lineAt(e.selection.main.head);n=n.update({filter:i=>i>=t.from&&i<=t.to})}for(let t of e.effects)t.is(ds)&&(n=n.update({add:[Hg.range(t.value,t.value+1)]}));return n}});function g6(){return[b6,Pk]}const Rm="()[]{}<>";function Kk(n){for(let e=0;e<Rm.length;e+=2)if(Rm.charCodeAt(e)==n)return Rm.charAt(e+1);return sg(n<128?n:n+1)}function Yk(n,e){return n.languageDataAt("closeBrackets",e)[0]||wo}const y6=typeof navigator=="object"&&/Android\b/.test(navigator.userAgent),b6=re.inputHandler.of((n,e,t,i)=>{if((y6?n.composing:n.compositionStarted)||n.state.readOnly)return!1;let s=n.state.selection.main;if(i.length>2||i.length==2&&mi(an(i,0))==1||e!=s.from||t!=s.to)return!1;let a=S6(n.state,i);return a?(n.dispatch(a),!0):!1}),x6=({state:n,dispatch:e})=>{if(n.readOnly)return!1;let i=Yk(n,n.selection.main.head).brackets||wo.brackets,s=null,a=n.changeByRange(o=>{if(o.empty){let u=w6(n.doc,o.head);for(let f of i)if(f==u&&Nh(n.doc,o.head)==Kk(an(f,0)))return{changes:{from:o.head-f.length,to:o.head+f.length},range:X.cursor(o.head-f.length)}}return{range:s=o}});return s||e(n.update(a,{scrollIntoView:!0,userEvent:"delete.backward"})),!s},v6=[{key:"Backspace",run:x6}];function S6(n,e){let t=Yk(n,n.selection.main.head),i=t.brackets||wo.brackets;for(let s of i){let a=Kk(an(s,0));if(e==s)return a==s?A6(n,s,i.indexOf(s+s+s)>-1,t):k6(n,s,a,t.before||wo.before);if(e==a&&Gk(n,n.selection.main.from))return C6(n,s,a)}return null}function Gk(n,e){let t=!1;return n.field(Pk).between(0,n.doc.length,i=>{i==e&&(t=!0)}),t}function Nh(n,e){let t=n.sliceString(e,e+2);return t.slice(0,mi(an(t,0)))}function w6(n,e){let t=n.sliceString(e-2,e);return mi(an(t,0))==t.length?t:t.slice(1)}function k6(n,e,t,i){let s=null,a=n.changeByRange(o=>{if(!o.empty)return{changes:[{insert:e,from:o.from},{insert:t,from:o.to}],effects:ds.of(o.to+e.length),range:X.range(o.anchor+e.length,o.head+e.length)};let u=Nh(n.doc,o.head);return!u||/\s/.test(u)||i.indexOf(u)>-1?{changes:{insert:e+t,from:o.head},effects:ds.of(o.head+e.length),range:X.cursor(o.head+e.length)}:{range:s=o}});return s?null:n.update(a,{scrollIntoView:!0,userEvent:"input.type"})}function C6(n,e,t){let i=null,s=n.changeByRange(a=>a.empty&&Nh(n.doc,a.head)==t?{changes:{from:a.head,to:a.head+t.length,insert:t},range:X.cursor(a.head+t.length)}:i={range:a});return i?null:n.update(s,{scrollIntoView:!0,userEvent:"input.type"})}function A6(n,e,t,i){let s=i.stringPrefixes||wo.stringPrefixes,a=null,o=n.changeByRange(u=>{if(!u.empty)return{changes:[{insert:e,from:u.from},{insert:e,from:u.to}],effects:ds.of(u.to+e.length),range:X.range(u.anchor+e.length,u.head+e.length)};let f=u.head,d=Nh(n.doc,f),p;if(d==e){if(Qv(n,f))return{changes:{insert:e+e,from:f},effects:ds.of(f+e.length),range:X.cursor(f+e.length)};if(Gk(n,f)){let x=t&&n.sliceDoc(f,f+e.length*3)==e+e+e?e+e+e:e;return{changes:{from:f,to:f+x.length,insert:x},range:X.cursor(f+x.length)}}}else{if(t&&n.sliceDoc(f-2*e.length,f)==e+e&&(p=Zv(n,f-2*e.length,s))>-1&&Qv(n,p))return{changes:{insert:e+e+e+e,from:f},effects:ds.of(f+e.length),range:X.cursor(f+e.length)};if(n.charCategorizer(f)(d)!=rt.Word&&Zv(n,f,s)>-1&&!M6(n,f,e,s))return{changes:{insert:e+e,from:f},effects:ds.of(f+e.length),range:X.cursor(f+e.length)}}return{range:a=u}});return a?null:n.update(o,{scrollIntoView:!0,userEvent:"input.type"})}function Qv(n,e){let t=Yt(n).resolveInner(e+1);return t.parent&&t.from==e}function M6(n,e,t,i){let s=Yt(n).resolveInner(e,-1),a=i.reduce((o,u)=>Math.max(o,u.length),0);for(let o=0;o<5;o++){let u=n.sliceDoc(s.from,Math.min(s.to,s.from+t.length+a)),f=u.indexOf(t);if(!f||f>-1&&i.indexOf(u.slice(0,f))>-1){let p=s.firstChild;for(;p&&p.from==s.from&&p.to-p.from>t.length+f;){if(n.sliceDoc(p.to-t.length,p.to)==t)return!1;p=p.firstChild}return!0}let d=s.to==e&&s.parent;if(!d)break;s=d}return!1}function Zv(n,e,t){let i=n.charCategorizer(e);if(i(n.sliceDoc(e-1,e))!=rt.Word)return e;for(let s of t){let a=e-s.length;if(n.sliceDoc(a,e)==s&&i(n.sliceDoc(a-1,a))!=rt.Word)return a}return-1}function T6(n={}){return[m6,on,Ot.of(n),f6,E6,p6]}const Ik=[{key:"Ctrl-Space",run:Om},{mac:"Alt-`",run:Om},{mac:"Alt-i",run:Om},{key:"Escape",run:o6},{key:"ArrowDown",run:ku(!0)},{key:"ArrowUp",run:ku(!1)},{key:"PageDown",run:ku(!0,"page")},{key:"PageUp",run:ku(!1,"page")},{key:"Enter",run:a6}],E6=ws.highest(vh.computeN([Ot],n=>n.facet(Ot).defaultKeymap?[Ik]:[]));class $v{constructor(e,t,i){this.from=e,this.to=t,this.diagnostic=i}}class us{constructor(e,t,i){this.diagnostics=e,this.panel=t,this.selected=i}static init(e,t,i){let s=i.facet(ko).markerFilter;s&&(e=s(e,i));let a=e.slice().sort((S,w)=>S.from-w.from||S.to-w.to),o=new Fi,u=[],f=0,d=i.doc.iter(),p=0,y=i.doc.length;for(let S=0;;){let w=S==a.length?null:a[S];if(!w&&!u.length)break;let A,C;if(u.length)A=f,C=u.reduce((N,q)=>Math.min(N,q.to),w&&w.from>A?w.from:1e8);else{if(A=w.from,A>y)break;C=w.to,u.push(w),S++}for(;S<a.length;){let N=a[S];if(N.from==A&&(N.to>N.from||N.to==A))u.push(N),S++,C=Math.min(N.to,C);else{C=Math.min(N.from,C);break}}C=Math.min(C,y);let T=!1;if(u.some(N=>N.from==A&&(N.to==C||C==y))&&(T=A==C,!T&&C-A<10)){let N=A-(p+d.value.length);N>0&&(d.next(N),p=A);for(let q=A;;){if(q>=C){T=!0;break}if(!d.lineBreak&&p+d.value.length>q)break;q=p+d.value.length,p+=d.value.length,d.next()}}let j=q6(u);if(T)o.add(A,A,Se.widget({widget:new z6(j),diagnostics:u.slice()}));else{let N=u.reduce((q,B)=>B.markClass?q+" "+B.markClass:q,"");o.add(A,C,Se.mark({class:"cm-lintRange cm-lintRange-"+j+N,diagnostics:u.slice(),inclusiveEnd:u.some(q=>q.to>C)}))}if(f=C,f==y)break;for(let N=0;N<u.length;N++)u[N].to<=f&&u.splice(N--,1)}let x=o.finish();return new us(x,t,Bl(x))}}function Bl(n,e=null,t=0){let i=null;return n.between(t,1e9,(s,a,{spec:o})=>{if(!(e&&o.diagnostics.indexOf(e)<0))if(!i)i=new $v(s,a,e||o.diagnostics[0]);else{if(o.diagnostics.indexOf(i.diagnostic)<0)return!1;i=new $v(i.from,a,i.diagnostic)}}),i}function N6(n,e){let t=e.pos,i=e.end||t,s=n.state.facet(ko).hideOn(n,t,i);if(s!=null)return s;let a=n.startState.doc.lineAt(e.pos);return!!(n.effects.some(o=>o.is(Fk))||n.changes.touchesRange(a.from,Math.max(a.to,i)))}function D6(n,e){return n.field(Cn,!1)?e:e.concat(Me.appendConfig.of(P6))}const Fk=Me.define(),Vg=Me.define(),Wk=Me.define(),Cn=Gt.define({create(){return new us(Se.none,null,null)},update(n,e){if(e.docChanged&&n.diagnostics.size){let t=n.diagnostics.map(e.changes),i=null,s=n.panel;if(n.selected){let a=e.changes.mapPos(n.selected.from,1);i=Bl(t,n.selected.diagnostic,a)||Bl(t,null,a)}!t.size&&s&&e.state.facet(ko).autoPanel&&(s=null),n=new us(t,s,i)}for(let t of e.effects)if(t.is(Fk)){let i=e.state.facet(ko).autoPanel?t.value.length?Co.open:null:n.panel;n=us.init(t.value,i,e.state)}else t.is(Vg)?n=new us(n.diagnostics,t.value?Co.open:null,n.selected):t.is(Wk)&&(n=new us(n.diagnostics,n.panel,t.value));return n},provide:n=>[go.from(n,e=>e.panel),re.decorations.from(n,e=>e.diagnostics)]}),O6=Se.mark({class:"cm-lintRange cm-lintRange-active"});function R6(n,e,t){let{diagnostics:i}=n.state.field(Cn),s,a=-1,o=-1;i.between(e-(t<0?1:0),e+(t>0?1:0),(f,d,{spec:p})=>{if(e>=f&&e<=d&&(f==d||(e>f||t>0)&&(e<d||t<0)))return s=p.diagnostics,a=f,o=d,!1});let u=n.state.facet(ko).tooltipFilter;return s&&u&&(s=u(s,n.state)),s?{pos:a,end:o,above:n.state.doc.lineAt(a).to<o,create(){return{dom:j6(n,s)}}}:null}function j6(n,e){return Qe("ul",{class:"cm-tooltip-lint"},e.map(t=>Qk(n,t,!1)))}const _6=n=>{let e=n.state.field(Cn,!1);(!e||!e.panel)&&n.dispatch({effects:D6(n.state,[Vg.of(!0)])});let t=kg(n,Co.open);return t&&t.dom.querySelector(".cm-panel-lint ul").focus(),!0},Jv=n=>{let e=n.state.field(Cn,!1);return!e||!e.panel?!1:(n.dispatch({effects:Vg.of(!1)}),!0)},L6=n=>{let e=n.state.field(Cn,!1);if(!e)return!1;let t=n.state.selection.main,i=Bl(e.diagnostics,null,t.to+1);return!i&&(i=Bl(e.diagnostics,null,0),!i||i.from==t.from&&i.to==t.to)?!1:(n.dispatch({selection:{anchor:i.from,head:i.to},scrollIntoView:!0}),!0)},B6=[{key:"Mod-Shift-m",run:_6,preventDefault:!0},{key:"F8",run:L6}],ko=ce.define({combine(n){return{sources:n.map(e=>e.source).filter(e=>e!=null),...wi(n.map(e=>e.config),{delay:750,markerFilter:null,tooltipFilter:null,needsRefresh:null,hideOn:()=>null},{delay:Math.max,markerFilter:e2,tooltipFilter:e2,needsRefresh:(e,t)=>e?t?i=>e(i)||t(i):e:t,hideOn:(e,t)=>e?t?(i,s,a)=>e(i,s,a)||t(i,s,a):e:t,autoPanel:(e,t)=>e||t})}}});function e2(n,e){return n?e?(t,i)=>e(n(t,i),i):n:e}function Xk(n){let e=[];if(n)e:for(let{name:t}of n){for(let i=0;i<t.length;i++){let s=t[i];if(/[a-zA-Z]/.test(s)&&!e.some(a=>a.toLowerCase()==s.toLowerCase())){e.push(s);continue e}}e.push("")}return e}function Qk(n,e,t){var i;let s=t?Xk(e.actions):[];return Qe("li",{class:"cm-diagnostic cm-diagnostic-"+e.severity},Qe("span",{class:"cm-diagnosticText"},e.renderMessage?e.renderMessage(n):e.message),(i=e.actions)===null||i===void 0?void 0:i.map((a,o)=>{let u=!1,f=S=>{if(S.preventDefault(),u)return;u=!0;let w=Bl(n.state.field(Cn).diagnostics,e);w&&a.apply(n,w.from,w.to)},{name:d}=a,p=s[o]?d.indexOf(s[o]):-1,y=p<0?d:[d.slice(0,p),Qe("u",d.slice(p,p+1)),d.slice(p+1)],x=a.markClass?" "+a.markClass:"";return Qe("button",{type:"button",class:"cm-diagnosticAction"+x,onclick:f,onmousedown:f,"aria-label":` Action: ${d}${p<0?"":` (access key "${s[o]})"`}.`},y)}),e.source&&Qe("div",{class:"cm-diagnosticSource"},e.source))}class z6 extends ki{constructor(e){super(),this.sev=e}eq(e){return e.sev==this.sev}toDOM(){return Qe("span",{class:"cm-lintPoint cm-lintPoint-"+this.sev})}}class t2{constructor(e,t){this.diagnostic=t,this.id="item_"+Math.floor(Math.random()*4294967295).toString(16),this.dom=Qk(e,t,!0),this.dom.id=this.id,this.dom.setAttribute("role","option")}}class Co{constructor(e){this.view=e,this.items=[];let t=s=>{if(!(s.ctrlKey||s.altKey||s.metaKey)){if(s.keyCode==27)Jv(this.view),this.view.focus();else if(s.keyCode==38||s.keyCode==33)this.moveSelection((this.selectedIndex-1+this.items.length)%this.items.length);else if(s.keyCode==40||s.keyCode==34)this.moveSelection((this.selectedIndex+1)%this.items.length);else if(s.keyCode==36)this.moveSelection(0);else if(s.keyCode==35)this.moveSelection(this.items.length-1);else if(s.keyCode==13)this.view.focus();else if(s.keyCode>=65&&s.keyCode<=90&&this.selectedIndex>=0){let{diagnostic:a}=this.items[this.selectedIndex],o=Xk(a.actions);for(let u=0;u<o.length;u++)if(o[u].toUpperCase().charCodeAt(0)==s.keyCode){let f=Bl(this.view.state.field(Cn).diagnostics,a);f&&a.actions[u].apply(e,f.from,f.to)}}else return;s.preventDefault()}},i=s=>{for(let a=0;a<this.items.length;a++)this.items[a].dom.contains(s.target)&&this.moveSelection(a)};this.list=Qe("ul",{tabIndex:0,role:"listbox","aria-label":this.view.state.phrase("Diagnostics"),onkeydown:t,onclick:i}),this.dom=Qe("div",{class:"cm-panel-lint"},this.list,Qe("button",{type:"button",name:"close","aria-label":this.view.state.phrase("close"),onclick:()=>Jv(this.view)},"")),this.update()}get selectedIndex(){let e=this.view.state.field(Cn).selected;if(!e)return-1;for(let t=0;t<this.items.length;t++)if(this.items[t].diagnostic==e.diagnostic)return t;return-1}update(){let{diagnostics:e,selected:t}=this.view.state.field(Cn),i=0,s=!1,a=null,o=new Set;for(e.between(0,this.view.state.doc.length,(u,f,{spec:d})=>{for(let p of d.diagnostics){if(o.has(p))continue;o.add(p);let y=-1,x;for(let S=i;S<this.items.length;S++)if(this.items[S].diagnostic==p){y=S;break}y<0?(x=new t2(this.view,p),this.items.splice(i,0,x),s=!0):(x=this.items[y],y>i&&(this.items.splice(i,y-i),s=!0)),t&&x.diagnostic==t.diagnostic?x.dom.hasAttribute("aria-selected")||(x.dom.setAttribute("aria-selected","true"),a=x):x.dom.hasAttribute("aria-selected")&&x.dom.removeAttribute("aria-selected"),i++}});i<this.items.length&&!(this.items.length==1&&this.items[0].diagnostic.from<0);)s=!0,this.items.pop();this.items.length==0&&(this.items.push(new t2(this.view,{from:-1,to:-1,severity:"info",message:this.view.state.phrase("No diagnostics")})),s=!0),a?(this.list.setAttribute("aria-activedescendant",a.id),this.view.requestMeasure({key:this,read:()=>({sel:a.dom.getBoundingClientRect(),panel:this.list.getBoundingClientRect()}),write:({sel:u,panel:f})=>{let d=f.height/this.list.offsetHeight;u.top<f.top?this.list.scrollTop-=(f.top-u.top)/d:u.bottom>f.bottom&&(this.list.scrollTop+=(u.bottom-f.bottom)/d)}})):this.selectedIndex<0&&this.list.removeAttribute("aria-activedescendant"),s&&this.sync()}sync(){let e=this.list.firstChild;function t(){let i=e;e=i.nextSibling,i.remove()}for(let i of this.items)if(i.dom.parentNode==this.list){for(;e!=i.dom;)t();e=i.dom.nextSibling}else this.list.insertBefore(i.dom,e);for(;e;)t()}moveSelection(e){if(this.selectedIndex<0)return;let t=this.view.state.field(Cn),i=Bl(t.diagnostics,this.items[e].diagnostic);i&&this.view.dispatch({selection:{anchor:i.from,head:i.to},scrollIntoView:!0,effects:Wk.of(i)})}static open(e){return new Co(e)}}function H6(n,e='viewBox="0 0 40 40"'){return`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" ${e}>${encodeURIComponent(n)}</svg>')`}function Cu(n){return H6(`<path d="m0 2.5 l2 -1.5 l1 0 l2 1.5 l1 0" stroke="${n}" fill="none" stroke-width=".7"/>`,'width="6" height="3"')}const V6=re.baseTheme({".cm-diagnostic":{padding:"3px 6px 3px 8px",marginLeft:"-1px",display:"block",whiteSpace:"pre-wrap"},".cm-diagnostic-error":{borderLeft:"5px solid #d11"},".cm-diagnostic-warning":{borderLeft:"5px solid orange"},".cm-diagnostic-info":{borderLeft:"5px solid #999"},".cm-diagnostic-hint":{borderLeft:"5px solid #66d"},".cm-diagnosticAction":{font:"inherit",border:"none",padding:"2px 4px",backgroundColor:"#444",color:"white",borderRadius:"3px",marginLeft:"8px",cursor:"pointer"},".cm-diagnosticSource":{fontSize:"70%",opacity:.7},".cm-lintRange":{backgroundPosition:"left bottom",backgroundRepeat:"repeat-x",paddingBottom:"0.7px"},".cm-lintRange-error":{backgroundImage:Cu("#d11")},".cm-lintRange-warning":{backgroundImage:Cu("orange")},".cm-lintRange-info":{backgroundImage:Cu("#999")},".cm-lintRange-hint":{backgroundImage:Cu("#66d")},".cm-lintRange-active":{backgroundColor:"#ffdd9980"},".cm-tooltip-lint":{padding:0,margin:0},".cm-lintPoint":{position:"relative","&:after":{content:'""',position:"absolute",bottom:0,left:"-2px",borderLeft:"3px solid transparent",borderRight:"3px solid transparent",borderBottom:"4px solid #d11"}},".cm-lintPoint-warning":{"&:after":{borderBottomColor:"orange"}},".cm-lintPoint-info":{"&:after":{borderBottomColor:"#999"}},".cm-lintPoint-hint":{"&:after":{borderBottomColor:"#66d"}},".cm-panel.cm-panel-lint":{position:"relative","& ul":{maxHeight:"100px",overflowY:"auto","& [aria-selected]":{backgroundColor:"#ddd","& u":{textDecoration:"underline"}},"&:focus [aria-selected]":{background_fallback:"#bdf",backgroundColor:"Highlight",color_fallback:"white",color:"HighlightText"},"& u":{textDecoration:"none"},padding:0,margin:0},"& [name=close]":{position:"absolute",top:"0",right:"2px",background:"inherit",border:"none",font:"inherit",padding:0,margin:0}}});function U6(n){return n=="error"?4:n=="warning"?3:n=="info"?2:1}function q6(n){let e="hint",t=1;for(let i of n){let s=U6(i.severity);s>t&&(t=s,e=i.severity)}return e}const P6=[Cn,re.decorations.compute([Cn],n=>{let{selected:e,panel:t}=n.field(Cn);return!e||!t||e.from==e.to?Se.none:Se.set([O6.range(e.from,e.to)])}),wD(R6,{hideOn:N6}),V6];var n2=function(e){e===void 0&&(e={});var{crosshairCursor:t=!1}=e,i=[];e.closeBracketsKeymap!==!1&&(i=i.concat(v6)),e.defaultKeymap!==!1&&(i=i.concat(fR)),e.searchKeymap!==!1&&(i=i.concat(VR)),e.historyKeymap!==!1&&(i=i.concat(x8)),e.foldKeymap!==!1&&(i=i.concat(yO)),e.completionKeymap!==!1&&(i=i.concat(Ik)),e.lintKeymap!==!1&&(i=i.concat(B6));var s=[];return e.lineNumbers!==!1&&s.push(LD()),e.highlightActiveLineGutter!==!1&&s.push(HD()),e.highlightSpecialChars!==!1&&s.push(Z5()),e.history!==!1&&s.push(u8()),e.foldGutter!==!1&&s.push(SO()),e.drawSelection!==!1&&s.push(U5()),e.dropCursor!==!1&&s.push(G5()),e.allowMultipleSelections!==!1&&s.push(ze.allowMultipleSelections.of(!0)),e.indentOnInput!==!1&&s.push(aO()),e.syntaxHighlighting!==!1&&s.push(Hw(AO,{fallback:!0})),e.bracketMatching!==!1&&s.push(RO()),e.closeBrackets!==!1&&s.push(g6()),e.autocompletion!==!1&&s.push(T6()),e.rectangularSelection!==!1&&s.push(hD()),t!==!1&&s.push(mD()),e.highlightActiveLine!==!1&&s.push(iD()),e.highlightSelectionMatches!==!1&&s.push(bR()),e.tabSize&&typeof e.tabSize=="number"&&s.push(wh.of(" ".repeat(e.tabSize))),s.concat([vh.of(i.flat())]).filter(Boolean)},K6=re.theme({"&":{backgroundColor:"#fff"}},{dark:!1}),Y6=function(e){e===void 0&&(e={});var{indentWithTab:t=!0,editable:i=!0,readOnly:s=!1,theme:a="light",placeholder:o="",basicSetup:u=!0}=e,f=[];switch(t&&f.unshift(vh.of([dR])),u&&(typeof u=="boolean"?f.unshift(n2()):f.unshift(n2(u))),o&&f.unshift(aD(o)),a){case"light":f.push(K6);break;case"dark":f.push(Ww);break;case"none":break;default:f.push(a);break}return i===!1&&f.push(re.editable.of(!1)),s&&f.push(ze.readOnly.of(!0)),[...f]},G6=n=>({line:n.state.doc.lineAt(n.state.selection.main.from),lineCount:n.state.doc.lines,lineBreak:n.state.lineBreak,length:n.state.doc.length,readOnly:n.state.readOnly,tabSize:n.state.tabSize,selection:n.state.selection,selectionAsSingle:n.state.selection.asSingle().main,ranges:n.state.selection.ranges,selectionCode:n.state.sliceDoc(n.state.selection.main.from,n.state.selection.main.to),selections:n.state.selection.ranges.map(e=>n.state.sliceDoc(e.from,e.to)),selectedText:n.state.selection.ranges.some(e=>!e.empty)});class I6{constructor(e,t){this.timeLeftMS=void 0,this.timeoutMS=void 0,this.isCancelled=!1,this.isTimeExhausted=!1,this.callbacks=[],this.timeLeftMS=t,this.timeoutMS=t,this.callbacks.push(e)}tick(){if(!this.isCancelled&&!this.isTimeExhausted&&(this.timeLeftMS--,this.timeLeftMS<=0)){this.isTimeExhausted=!0;var e=this.callbacks.slice();this.callbacks.length=0,e.forEach(t=>{try{t()}catch(i){console.error("TimeoutLatch callback error:",i)}})}}cancel(){this.isCancelled=!0,this.callbacks.length=0}reset(){this.timeLeftMS=this.timeoutMS,this.isCancelled=!1,this.isTimeExhausted=!1}get isDone(){return this.isCancelled||this.isTimeExhausted}}class i2{constructor(){this.interval=null,this.latches=new Set}add(e){this.latches.add(e),this.start()}remove(e){this.latches.delete(e),this.latches.size===0&&this.stop()}start(){this.interval===null&&(this.interval=setInterval(()=>{this.latches.forEach(e=>{e.tick(),e.isDone&&this.remove(e)})},1))}stop(){this.interval!==null&&(clearInterval(this.interval),this.interval=null)}}var jm=null,F6=()=>typeof window>"u"?new i2:(jm||(jm=new i2),jm),l2=Si.define(),W6=200,X6=[];function Q6(n){var{value:e,selection:t,onChange:i,onStatistics:s,onCreateEditor:a,onUpdate:o,extensions:u=X6,autoFocus:f,theme:d="light",height:p=null,minHeight:y=null,maxHeight:x=null,width:S=null,minWidth:w=null,maxWidth:A=null,placeholder:C="",editable:T=!0,readOnly:j=!1,indentWithTab:N=!0,basicSetup:q=!0,root:B,initialState:G}=n,[V,Q]=M.useState(),[Z,ue]=M.useState(),[fe,ne]=M.useState(),pe=M.useState(()=>({current:null}))[0],J=M.useState(()=>({current:null}))[0],ve=re.theme({"&":{height:p,minHeight:y,maxHeight:x,width:S,minWidth:w,maxWidth:A},"& .cm-scroller":{height:"100% !important"}}),z=re.updateListener.of(ie=>{if(ie.docChanged&&typeof i=="function"&&!ie.transactions.some(P=>P.annotation(l2))){pe.current?pe.current.reset():(pe.current=new I6(()=>{if(J.current){var P=J.current;J.current=null,P()}pe.current=null},W6),F6().add(pe.current));var ge=ie.state.doc,D=ge.toString();i(D,ie)}s&&s(G6(ie))}),K=Y6({theme:d,editable:T,readOnly:j,placeholder:C,indentWithTab:N,basicSetup:q}),$=[z,ve,...K];return o&&typeof o=="function"&&$.push(re.updateListener.of(o)),$=$.concat(u),M.useLayoutEffect(()=>{if(V&&!fe){var ie={doc:e,selection:t,extensions:$},ge=G?ze.fromJSON(G.json,ie,G.fields):ze.create(ie);if(ne(ge),!Z){var D=new re({state:ge,parent:V,root:B});ue(D),a&&a(D,ge)}}return()=>{Z&&(ne(void 0),ue(void 0))}},[V,fe]),M.useEffect(()=>{n.container&&Q(n.container)},[n.container]),M.useEffect(()=>()=>{Z&&(Z.destroy(),ue(void 0)),pe.current&&(pe.current.cancel(),pe.current=null)},[Z]),M.useEffect(()=>{f&&Z&&Z.focus()},[f,Z]),M.useEffect(()=>{Z&&Z.dispatch({effects:Me.reconfigure.of($)})},[d,u,p,y,x,S,w,A,C,T,j,N,q,i,o]),M.useEffect(()=>{if(e!==void 0){var ie=Z?Z.state.doc.toString():"";if(Z&&e!==ie){var ge=pe.current&&!pe.current.isDone,D=()=>{Z&&e!==Z.state.doc.toString()&&Z.dispatch({changes:{from:0,to:Z.state.doc.toString().length,insert:e||""},annotations:[l2.of(!0)]})};ge?J.current=D:D()}}},[e,Z]),{state:fe,setState:ne,view:Z,setView:ue,container:V,setContainer:Q}}var Z6=["className","value","selection","extensions","onChange","onStatistics","onCreateEditor","onUpdate","autoFocus","theme","height","minHeight","maxHeight","width","minWidth","maxWidth","basicSetup","placeholder","indentWithTab","editable","readOnly","root","initialState"],Zk=M.forwardRef((n,e)=>{var{className:t,value:i="",selection:s,extensions:a=[],onChange:o,onStatistics:u,onCreateEditor:f,onUpdate:d,autoFocus:p,theme:y="light",height:x,minHeight:S,maxHeight:w,width:A,minWidth:C,maxWidth:T,basicSetup:j,placeholder:N,indentWithTab:q,editable:B,readOnly:G,root:V,initialState:Q}=n,Z=e8(n,Z6),ue=M.useRef(null),{state:fe,view:ne,container:pe,setContainer:J}=Q6({root:V,value:i,autoFocus:p,theme:y,height:x,minHeight:S,maxHeight:w,width:A,minWidth:C,maxWidth:T,basicSetup:j,placeholder:N,indentWithTab:q,editable:B,readOnly:G,selection:s,onChange:o,onStatistics:u,onCreateEditor:f,onUpdate:d,extensions:a,initialState:Q});M.useImperativeHandle(e,()=>({editor:ue.current,state:fe,view:ne}),[ue,pe,fe,ne]);var ve=M.useCallback(K=>{ue.current=K,J(K)},[J]);if(typeof i!="string")throw new Error("value must be typeof string but got "+typeof i);var z=typeof y=="string"?"cm-theme-"+y:"cm-theme";return b.jsx("div",Op({ref:ve,className:""+z+(t?" "+t:"")},Z))});Zk.displayName="CodeMirror";const $6=Mg.define(JO);function J6({rawToml:n,onChange:e,disabled:t}){return b.jsxs("div",{className:"bg-gray-900 rounded-xl border border-gray-800 overflow-hidden",children:[b.jsxs("div",{className:"flex items-center justify-between px-4 py-2 border-b border-gray-800 bg-gray-800/50",children:[b.jsx("span",{className:"text-xs text-gray-400 font-medium uppercase tracking-wider",children:"TOML Configuration"}),b.jsxs("span",{className:"text-xs text-gray-500",children:[n.split(`
`).length," lines"]})]}),b.jsx(Zk,{value:n,onChange:e,theme:Ww,readOnly:!!t,editable:!t,height:"500px",basicSetup:{lineNumbers:!0,foldGutter:!1,highlightActiveLineGutter:!1,highlightActiveLine:!1},extensions:[$6,re.lineWrapping],className:"text-sm [&_.cm-scroller]:font-mono [&_.cm-scroller]:leading-6 [&_.cm-content]:py-4 [&_.cm-content]:px-0 [&_.cm-gutters]:border-r [&_.cm-gutters]:border-gray-800 [&_.cm-gutters]:bg-gray-950 [&_.cm-editor]:bg-gray-950 [&_.cm-editor]:focus:outline-none [&_.cm-focused]:ring-2 [&_.cm-focused]:ring-blue-500/70 [&_.cm-focused]:ring-inset","aria-label":"Raw TOML configuration editor with syntax highlighting"})]})}function s2({mode:n,active:e,icon:t,label:i,onClick:s}){return b.jsxs("button",{onClick:s,className:`flex items-center gap-1.5 px-3 py-1.5 rounded-lg text-sm font-medium transition-colors ${e?"bg-blue-600 text-white":"text-gray-400 hover:text-gray-200 hover:bg-gray-800"}`,"aria-pressed":e,"data-mode":n,children:[b.jsx(t,{className:"h-3.5 w-3.5"}),i]})}function ej(){const{loading:n,saving:e,error:t,success:i,mode:s,rawToml:a,setMode:o,getFieldValue:u,setFieldValue:f,isFieldMasked:d,setRawToml:p,save:y}=uE();return n?b.jsx("div",{className:"flex items-center justify-center h-64",children:b.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-2 border-blue-500 border-t-transparent"})}):b.jsxs("div",{className:"p-6 space-y-6",children:[b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx(Xp,{className:"h-5 w-5 text-blue-400"}),b.jsx("h2",{className:"text-base font-semibold text-white",children:"Configuration"})]}),b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsxs("div",{className:"flex items-center gap-1 bg-gray-900 border border-gray-800 rounded-lg p-0.5",children:[b.jsx(s2,{mode:"form",active:s==="form",icon:VT,label:"Form",onClick:()=>o("form")}),b.jsx(s2,{mode:"raw",active:s==="raw",icon:R2,label:"Raw",onClick:()=>o("raw")})]}),b.jsxs("button",{onClick:y,disabled:e,className:"flex items-center gap-2 bg-blue-600 hover:bg-blue-700 text-white text-sm font-medium px-4 py-2 rounded-lg transition-colors disabled:opacity-50",children:[b.jsx(_T,{className:"h-4 w-4"}),e?"Saving...":"Save"]})]})]}),b.jsxs("div",{className:"flex items-start gap-3 bg-yellow-900/20 border border-yellow-700/40 rounded-lg p-4",children:[b.jsx(BT,{className:"h-5 w-5 text-yellow-400 flex-shrink-0 mt-0.5"}),b.jsxs("div",{children:[b.jsx("p",{className:"text-sm text-yellow-300 font-medium",children:"Sensitive fields are masked"}),b.jsx("p",{className:"text-sm text-yellow-400/70 mt-0.5",children:s==="form"?'Masked fields show "Configured (masked)" as a placeholder. Leave them untouched to preserve existing values, or enter a new value to update.':"API keys, tokens, and passwords are hidden for security. To update a masked field, replace the entire masked value with your new value."})]})]}),i&&b.jsxs("div",{className:"flex items-center gap-2 bg-green-900/30 border border-green-700 rounded-lg p-3",children:[b.jsx(uh,{className:"h-4 w-4 text-green-400 flex-shrink-0"}),b.jsx("span",{className:"text-sm text-green-300",children:i})]}),t&&b.jsxs("div",{className:"flex items-center gap-2 bg-red-900/30 border border-red-700 rounded-lg p-3",children:[b.jsx(Qp,{className:"h-4 w-4 text-red-400 flex-shrink-0"}),b.jsx("span",{className:"text-sm text-red-300",children:t})]}),s==="form"?b.jsx(bE,{getFieldValue:u,setFieldValue:f,isFieldMasked:d}):b.jsx(J6,{rawToml:a,onChange:p,disabled:e})]})}function Ka(n){return`$${n.toFixed(4)}`}function tj(){const[n,e]=M.useState(null),[t,i]=M.useState(!0),[s,a]=M.useState(null);if(M.useEffect(()=>{I2().then(e).catch(u=>a(u.message)).finally(()=>i(!1))},[]),s)return b.jsx("div",{className:"p-6",children:b.jsxs("div",{className:"rounded-lg bg-red-900/30 border border-red-700 p-4 text-red-300",children:["Failed to load cost data: ",s]})});if(t||!n)return b.jsx("div",{className:"flex items-center justify-center h-64",children:b.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-2 border-blue-500 border-t-transparent"})});const o=Object.values(n.by_model);return b.jsxs("div",{className:"p-6 space-y-6",children:[b.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[b.jsxs("div",{className:"bg-gray-900 rounded-xl p-5 border border-gray-800",children:[b.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[b.jsx("div",{className:"p-2 bg-blue-600/20 rounded-lg",children:b.jsx(hh,{className:"h-5 w-5 text-blue-400"})}),b.jsx("span",{className:"text-sm text-gray-400",children:"Session Cost"})]}),b.jsx("p",{className:"text-2xl font-bold text-white",children:Ka(n.session_cost_usd)})]}),b.jsxs("div",{className:"bg-gray-900 rounded-xl p-5 border border-gray-800",children:[b.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[b.jsx("div",{className:"p-2 bg-green-600/20 rounded-lg",children:b.jsx(YT,{className:"h-5 w-5 text-green-400"})}),b.jsx("span",{className:"text-sm text-gray-400",children:"Daily Cost"})]}),b.jsx("p",{className:"text-2xl font-bold text-white",children:Ka(n.daily_cost_usd)})]}),b.jsxs("div",{className:"bg-gray-900 rounded-xl p-5 border border-gray-800",children:[b.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[b.jsx("div",{className:"p-2 bg-purple-600/20 rounded-lg",children:b.jsx(wT,{className:"h-5 w-5 text-purple-400"})}),b.jsx("span",{className:"text-sm text-gray-400",children:"Monthly Cost"})]}),b.jsx("p",{className:"text-2xl font-bold text-white",children:Ka(n.monthly_cost_usd)})]}),b.jsxs("div",{className:"bg-gray-900 rounded-xl p-5 border border-gray-800",children:[b.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[b.jsx("div",{className:"p-2 bg-orange-600/20 rounded-lg",children:b.jsx(Hm,{className:"h-5 w-5 text-orange-400"})}),b.jsx("span",{className:"text-sm text-gray-400",children:"Total Requests"})]}),b.jsx("p",{className:"text-2xl font-bold text-white",children:n.request_count.toLocaleString()})]})]}),b.jsxs("div",{className:"bg-gray-900 rounded-xl border border-gray-800 p-5",children:[b.jsx("h3",{className:"text-base font-semibold text-white mb-4",children:"Token Statistics"}),b.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[b.jsxs("div",{className:"bg-gray-800/50 rounded-lg p-4",children:[b.jsx("p",{className:"text-sm text-gray-400",children:"Total Tokens"}),b.jsx("p",{className:"text-xl font-bold text-white mt-1",children:n.total_tokens.toLocaleString()})]}),b.jsxs("div",{className:"bg-gray-800/50 rounded-lg p-4",children:[b.jsx("p",{className:"text-sm text-gray-400",children:"Avg Tokens / Request"}),b.jsx("p",{className:"text-xl font-bold text-white mt-1",children:n.request_count>0?Math.round(n.total_tokens/n.request_count).toLocaleString():"0"})]}),b.jsxs("div",{className:"bg-gray-800/50 rounded-lg p-4",children:[b.jsx("p",{className:"text-sm text-gray-400",children:"Cost per 1K Tokens"}),b.jsx("p",{className:"text-xl font-bold text-white mt-1",children:n.total_tokens>0?Ka(n.monthly_cost_usd/n.total_tokens*1e3):"$0.0000"})]})]})]}),b.jsxs("div",{className:"bg-gray-900 rounded-xl border border-gray-800 overflow-hidden",children:[b.jsx("div",{className:"px-5 py-4 border-b border-gray-800",children:b.jsx("h3",{className:"text-base font-semibold text-white",children:"Model Breakdown"})}),o.length===0?b.jsx("div",{className:"p-8 text-center text-gray-500",children:"No model data available."}):b.jsx("div",{className:"overflow-x-auto",children:b.jsxs("table",{className:"w-full text-sm",children:[b.jsx("thead",{children:b.jsxs("tr",{className:"border-b border-gray-800",children:[b.jsx("th",{className:"text-left px-5 py-3 text-gray-400 font-medium",children:"Model"}),b.jsx("th",{className:"text-right px-5 py-3 text-gray-400 font-medium",children:"Cost"}),b.jsx("th",{className:"text-right px-5 py-3 text-gray-400 font-medium",children:"Tokens"}),b.jsx("th",{className:"text-right px-5 py-3 text-gray-400 font-medium",children:"Requests"}),b.jsx("th",{className:"text-left px-5 py-3 text-gray-400 font-medium",children:"Share"})]})}),b.jsx("tbody",{children:o.sort((u,f)=>f.cost_usd-u.cost_usd).map(u=>{const f=n.monthly_cost_usd>0?u.cost_usd/n.monthly_cost_usd*100:0;return b.jsxs("tr",{className:"border-b border-gray-800/50 hover:bg-gray-800/30 transition-colors",children:[b.jsx("td",{className:"px-5 py-3 text-white font-medium",children:u.model}),b.jsx("td",{className:"px-5 py-3 text-gray-300 text-right font-mono",children:Ka(u.cost_usd)}),b.jsx("td",{className:"px-5 py-3 text-gray-300 text-right",children:u.total_tokens.toLocaleString()}),b.jsx("td",{className:"px-5 py-3 text-gray-300 text-right",children:u.request_count.toLocaleString()}),b.jsx("td",{className:"px-5 py-3",children:b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("div",{className:"w-20 h-2 bg-gray-800 rounded-full overflow-hidden",children:b.jsx("div",{className:"h-full bg-blue-500 rounded-full",style:{width:`${Math.max(f,2)}%`}})}),b.jsxs("span",{className:"text-xs text-gray-400 w-10 text-right",children:[f.toFixed(1),"%"]})]})})]},u.model)})})]})})]})]})}const nj=1e3,ij=3e4;class lj{constructor(e={}){Xe(this,"controller",null);Xe(this,"reconnectTimer",null);Xe(this,"currentDelay");Xe(this,"intentionallyClosed",!1);Xe(this,"onEvent",null);Xe(this,"onError",null);Xe(this,"onConnect",null);Xe(this,"path");Xe(this,"reconnectDelay");Xe(this,"maxReconnectDelay");Xe(this,"autoReconnect");this.path=e.path??"/api/events",this.reconnectDelay=e.reconnectDelay??nj,this.maxReconnectDelay=e.maxReconnectDelay??ij,this.autoReconnect=e.autoReconnect??!0,this.currentDelay=this.reconnectDelay}connect(){this.intentionallyClosed=!1,this.clearReconnectTimer(),this.controller=new AbortController;const e=Ar(),t={Accept:"text/event-stream"};e&&(t.Authorization=`Bearer ${e}`),fetch(this.path,{headers:t,signal:this.controller.signal}).then(i=>{var s;if(!i.ok)throw new Error(`SSE connection failed: ${i.status}`);if(!i.body)throw new Error("SSE response has no body");return this.currentDelay=this.reconnectDelay,(s=this.onConnect)==null||s.call(this),this.consumeStream(i.body)}).catch(i=>{var s;i instanceof DOMException&&i.name==="AbortError"||((s=this.onError)==null||s.call(this,i instanceof Error?i:new Error(String(i))),this.scheduleReconnect())})}disconnect(){this.intentionallyClosed=!0,this.clearReconnectTimer(),this.controller&&(this.controller.abort(),this.controller=null)}async consumeStream(e){var a;const t=e.getReader(),i=new TextDecoder;let s="";try{for(;;){const{done:o,value:u}=await t.read();if(o)break;s+=i.decode(u,{stream:!0});const f=s.split(`

`);s=f.pop()??"";for(const d of f)this.parseEvent(d)}}catch(o){if(o instanceof DOMException&&o.name==="AbortError")return;(a=this.onError)==null||a.call(this,o instanceof Error?o:new Error(String(o)))}finally{t.releaseLock()}this.scheduleReconnect()}parseEvent(e){var o;let t="message";const i=[];for(const u of e.split(`
`))u.startsWith("event:")?t=u.slice(6).trim():u.startsWith("data:")&&i.push(u.slice(5).trim());if(i.length===0)return;const s=i.join(`
`);let a;try{a=JSON.parse(s),a.type=a.type??t}catch{a={type:t,data:s}}(o=this.onEvent)==null||o.call(this,a)}scheduleReconnect(){this.intentionallyClosed||!this.autoReconnect||(this.reconnectTimer=setTimeout(()=>{this.currentDelay=Math.min(this.currentDelay*2,this.maxReconnectDelay),this.connect()},this.currentDelay))}clearReconnectTimer(){this.reconnectTimer!==null&&(clearTimeout(this.reconnectTimer),this.reconnectTimer=null)}}function sj(n){return n?new Date(n).toLocaleTimeString():new Date().toLocaleTimeString()}function rj(n){switch(n.toLowerCase()){case"error":return"bg-red-900/50 text-red-400 border-red-700/50";case"warn":case"warning":return"bg-yellow-900/50 text-yellow-400 border-yellow-700/50";case"tool_call":case"tool_result":return"bg-purple-900/50 text-purple-400 border-purple-700/50";case"message":case"chat":return"bg-blue-900/50 text-blue-400 border-blue-700/50";case"health":case"status":return"bg-green-900/50 text-green-400 border-green-700/50";default:return"bg-gray-800 text-gray-400 border-gray-700"}}function aj(){const[n,e]=M.useState([]),[t,i]=M.useState(!1),[s,a]=M.useState(!1),[o,u]=M.useState(!0),[f,d]=M.useState(new Set),p=M.useRef(null),y=M.useRef(null),x=M.useRef(!1),S=M.useRef(0);M.useEffect(()=>{x.current=t},[t]),M.useEffect(()=>{const N=new lj;return N.onConnect=()=>{a(!0)},N.onError=()=>{a(!1)},N.onEvent=q=>{if(x.current)return;S.current+=1;const B={id:`log-${S.current}`,event:q};e(G=>{const V=[...G,B];return V.length>500?V.slice(-500):V})},N.connect(),y.current=N,()=>{N.disconnect()}},[]),M.useEffect(()=>{o&&p.current&&(p.current.scrollTop=p.current.scrollHeight)},[n,o]);const w=M.useCallback(()=>{if(!p.current)return;const{scrollTop:N,scrollHeight:q,clientHeight:B}=p.current,G=q-N-B<50;u(G)},[]),A=()=>{p.current&&(p.current.scrollTop=p.current.scrollHeight),u(!0)},C=Array.from(new Set(n.map(N=>N.event.type))).sort(),T=N=>{d(q=>{const B=new Set(q);return B.has(N)?B.delete(N):B.add(N),B})},j=f.size===0?n:n.filter(N=>f.has(N.event.type));return b.jsxs("div",{className:"flex flex-col h-[calc(100vh-3.5rem)]",children:[b.jsxs("div",{className:"flex items-center justify-between px-6 py-3 border-b border-gray-800 bg-gray-900",children:[b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx(Hu,{className:"h-5 w-5 text-blue-400"}),b.jsx("h2",{className:"text-base font-semibold text-white",children:"Live Logs"}),b.jsxs("div",{className:"flex items-center gap-2 ml-2",children:[b.jsx("span",{className:`inline-block h-2 w-2 rounded-full ${s?"bg-green-500":"bg-red-500"}`}),b.jsx("span",{className:"text-xs text-gray-500",children:s?"Connected":"Disconnected"})]}),b.jsxs("span",{className:"text-xs text-gray-500 ml-2",children:[j.length," events"]})]}),b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("button",{onClick:()=>i(!t),className:`flex items-center gap-1.5 px-3 py-1.5 rounded-lg text-sm font-medium transition-colors ${t?"bg-green-600 hover:bg-green-700 text-white":"bg-yellow-600 hover:bg-yellow-700 text-white"}`,children:t?b.jsxs(b.Fragment,{children:[b.jsx(Wp,{className:"h-3.5 w-3.5"})," Resume"]}):b.jsxs(b.Fragment,{children:[b.jsx(OT,{className:"h-3.5 w-3.5"})," Pause"]})}),!o&&b.jsxs("button",{onClick:A,className:"flex items-center gap-1.5 px-3 py-1.5 rounded-lg text-sm font-medium bg-blue-600 hover:bg-blue-700 text-white transition-colors",children:[b.jsx(uT,{className:"h-3.5 w-3.5"}),"Jump to bottom"]})]})]}),C.length>0&&b.jsxs("div",{className:"flex items-center gap-2 px-6 py-2 border-b border-gray-800 bg-gray-900/80 overflow-x-auto",children:[b.jsx(Fp,{className:"h-4 w-4 text-gray-500 flex-shrink-0"}),b.jsx("span",{className:"text-xs text-gray-500 flex-shrink-0",children:"Filter:"}),C.map(N=>b.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer flex-shrink-0",children:[b.jsx("input",{type:"checkbox",checked:f.has(N),onChange:()=>T(N),className:"rounded bg-gray-800 border-gray-600 text-blue-500 focus:ring-blue-500 focus:ring-offset-0 h-3.5 w-3.5"}),b.jsx("span",{className:"text-xs text-gray-400 capitalize",children:N})]},N)),f.size>0&&b.jsx("button",{onClick:()=>d(new Set),className:"text-xs text-blue-400 hover:text-blue-300 flex-shrink-0 ml-1",children:"Clear"})]}),b.jsx("div",{ref:p,onScroll:w,className:"flex-1 overflow-y-auto p-4 space-y-2",children:j.length===0?b.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-gray-500",children:[b.jsx(Hu,{className:"h-10 w-10 text-gray-600 mb-3"}),b.jsx("p",{className:"text-sm",children:t?"Log streaming is paused.":"Waiting for events..."})]}):j.map(N=>{const{event:q}=N,B=q.message??q.content??q.data??JSON.stringify(Object.fromEntries(Object.entries(q).filter(([G])=>G!=="type"&&G!=="timestamp")));return b.jsx("div",{className:"bg-gray-900 border border-gray-800 rounded-lg p-3 hover:border-gray-700 transition-colors",children:b.jsxs("div",{className:"flex items-start gap-3",children:[b.jsx("span",{className:"text-xs text-gray-500 font-mono whitespace-nowrap mt-0.5",children:sj(q.timestamp)}),b.jsx("span",{className:`inline-flex items-center px-2 py-0.5 rounded text-xs font-medium border capitalize flex-shrink-0 ${rj(q.type)}`,children:q.type}),b.jsx("p",{className:"text-sm text-gray-300 break-all min-w-0",children:typeof B=="string"?B:JSON.stringify(B)})]})},N.id)})})]})}function oj(n){switch(n){case"ok":return b.jsx(uh,{className:"h-4 w-4 text-green-400 flex-shrink-0"});case"warn":return b.jsx(Qp,{className:"h-4 w-4 text-yellow-400 flex-shrink-0"});case"error":return b.jsx(Ip,{className:"h-4 w-4 text-red-400 flex-shrink-0"})}}function cj(n){switch(n){case"ok":return"border-green-700/40";case"warn":return"border-yellow-700/40";case"error":return"border-red-700/40"}}function uj(n){switch(n){case"ok":return"bg-green-900/10";case"warn":return"bg-yellow-900/10";case"error":return"bg-red-900/10"}}function hj(){const[n,e]=M.useState(null),[t,i]=M.useState(!1),[s,a]=M.useState(null),o=async()=>{i(!0),a(null),e(null);try{const y=await a3();e(y)}catch(y){a(y instanceof Error?y.message:"Failed to run diagnostics")}finally{i(!1)}},u=(n==null?void 0:n.filter(y=>y.severity==="ok").length)??0,f=(n==null?void 0:n.filter(y=>y.severity==="warn").length)??0,d=(n==null?void 0:n.filter(y=>y.severity==="error").length)??0,p=(n==null?void 0:n.reduce((y,x)=>{const S=x.category;return y[S]||(y[S]=[]),y[S].push(x),y},{}))??{};return b.jsxs("div",{className:"p-6 space-y-6",children:[b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx(Vm,{className:"h-5 w-5 text-blue-400"}),b.jsx("h2",{className:"text-base font-semibold text-white",children:"Diagnostics"})]}),b.jsx("button",{onClick:o,disabled:t,className:"flex items-center gap-2 bg-blue-600 hover:bg-blue-700 text-white text-sm font-medium px-4 py-2 rounded-lg transition-colors disabled:opacity-50",children:t?b.jsxs(b.Fragment,{children:[b.jsx(ex,{className:"h-4 w-4 animate-spin"}),"Running..."]}):b.jsxs(b.Fragment,{children:[b.jsx(Wp,{className:"h-4 w-4"}),"Run Diagnostics"]})})]}),s&&b.jsx("div",{className:"rounded-lg bg-red-900/30 border border-red-700 p-4 text-red-300",children:s}),t&&b.jsxs("div",{className:"flex flex-col items-center justify-center py-16",children:[b.jsx(ex,{className:"h-10 w-10 text-blue-500 animate-spin mb-4"}),b.jsx("p",{className:"text-gray-400",children:"Running diagnostics..."}),b.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"This may take a few seconds."})]}),n&&!t&&b.jsxs(b.Fragment,{children:[b.jsxs("div",{className:"flex items-center gap-4 bg-gray-900 rounded-xl border border-gray-800 p-4",children:[b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx(uh,{className:"h-5 w-5 text-green-400"}),b.jsxs("span",{className:"text-sm text-white font-medium",children:[u," ",b.jsx("span",{className:"text-gray-400 font-normal",children:"ok"})]})]}),b.jsx("div",{className:"w-px h-5 bg-gray-700"}),b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx(Qp,{className:"h-5 w-5 text-yellow-400"}),b.jsxs("span",{className:"text-sm text-white font-medium",children:[f," ",b.jsxs("span",{className:"text-gray-400 font-normal",children:["warning",f!==1?"s":""]})]})]}),b.jsx("div",{className:"w-px h-5 bg-gray-700"}),b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx(Ip,{className:"h-5 w-5 text-red-400"}),b.jsxs("span",{className:"text-sm text-white font-medium",children:[d," ",b.jsxs("span",{className:"text-gray-400 font-normal",children:["error",d!==1?"s":""]})]})]}),b.jsx("div",{className:"ml-auto",children:d>0?b.jsx("span",{className:"inline-flex items-center gap-1.5 px-3 py-1 rounded-full text-xs font-medium bg-red-900/40 text-red-400 border border-red-700/50",children:"Issues Found"}):f>0?b.jsx("span",{className:"inline-flex items-center gap-1.5 px-3 py-1 rounded-full text-xs font-medium bg-yellow-900/40 text-yellow-400 border border-yellow-700/50",children:"Warnings"}):b.jsx("span",{className:"inline-flex items-center gap-1.5 px-3 py-1 rounded-full text-xs font-medium bg-green-900/40 text-green-400 border border-green-700/50",children:"All Clear"})})]}),Object.entries(p).sort(([y],[x])=>y.localeCompare(x)).map(([y,x])=>b.jsxs("div",{children:[b.jsx("h3",{className:"text-sm font-semibold text-gray-400 uppercase tracking-wider mb-3 capitalize",children:y}),b.jsx("div",{className:"space-y-2",children:x.map((S,w)=>b.jsxs("div",{className:`flex items-start gap-3 rounded-lg border p-3 ${cj(S.severity)} ${uj(S.severity)}`,children:[oj(S.severity),b.jsxs("div",{className:"min-w-0",children:[b.jsx("p",{className:"text-sm text-white",children:S.message}),b.jsx("p",{className:"text-xs text-gray-500 mt-0.5 capitalize",children:S.severity})]})]},`${y}-${w}`))})]},y))]}),!n&&!t&&!s&&b.jsxs("div",{className:"flex flex-col items-center justify-center py-16 text-gray-500",children:[b.jsx(Vm,{className:"h-12 w-12 text-gray-600 mb-4"}),b.jsx("p",{className:"text-lg font-medium",children:"System Diagnostics"}),b.jsx("p",{className:"text-sm mt-1",children:'Click "Run Diagnostics" to check your ZeroClaw installation.'})]})]})}const $k=M.createContext({locale:"tr",setAppLocale:n=>{}}),fj=()=>M.useContext($k);function dj({onPair:n}){const[e,t]=M.useState(""),[i,s]=M.useState(""),[a,o]=M.useState(!1),u=async f=>{f.preventDefault(),o(!0),s("");try{await n(e)}catch(d){s(d instanceof Error?d.message:"Pairing failed")}finally{o(!1)}};return b.jsx("div",{className:"min-h-screen bg-gray-950 flex items-center justify-center",children:b.jsxs("div",{className:"bg-gray-900 rounded-xl p-8 w-full max-w-md border border-gray-800",children:[b.jsxs("div",{className:"text-center mb-6",children:[b.jsx("h1",{className:"text-2xl font-bold text-white mb-2",children:"ZeroClaw"}),b.jsx("p",{className:"text-gray-400",children:"Enter the pairing code from your terminal"})]}),b.jsxs("form",{onSubmit:u,children:[b.jsx("input",{type:"text",value:e,onChange:f=>t(f.target.value),placeholder:"6-digit code",className:"w-full px-4 py-3 bg-gray-800 border border-gray-700 rounded-lg text-white text-center text-2xl tracking-widest focus:outline-none focus:border-blue-500 mb-4",maxLength:6,autoFocus:!0}),i&&b.jsx("p",{className:"text-red-400 text-sm mb-4 text-center",children:i}),b.jsx("button",{type:"submit",disabled:a||e.length<6,className:"w-full py-3 bg-blue-600 hover:bg-blue-700 disabled:bg-gray-700 disabled:text-gray-500 text-white rounded-lg font-medium transition-colors",children:a?"Pairing...":"Pair"})]})]})})}function mj(){const{isAuthenticated:n,loading:e,pair:t,logout:i}=X2(),[s,a]=M.useState("tr"),o=u=>{a(u),m3(u)};return M.useEffect(()=>{const u=()=>{i()};return window.addEventListener("zeroclaw-unauthorized",u),()=>window.removeEventListener("zeroclaw-unauthorized",u)},[i]),e?b.jsx("div",{className:"min-h-screen bg-gray-950 flex items-center justify-center",children:b.jsx("p",{className:"text-gray-400",children:"Connecting..."})}):n?b.jsx($k.Provider,{value:{locale:s,setAppLocale:o},children:b.jsx(EM,{children:b.jsxs(rn,{element:b.jsx(v3,{}),children:[b.jsx(rn,{path:"/",element:b.jsx(A3,{})}),b.jsx(rn,{path:"/agent",element:b.jsx(D3,{})}),b.jsx(rn,{path:"/tools",element:b.jsx(O3,{})}),b.jsx(rn,{path:"/cron",element:b.jsx(j3,{})}),b.jsx(rn,{path:"/integrations",element:b.jsx(B3,{})}),b.jsx(rn,{path:"/memory",element:b.jsx(V3,{})}),b.jsx(rn,{path:"/devices",element:b.jsx(U3,{})}),b.jsx(rn,{path:"/config",element:b.jsx(ej,{})}),b.jsx(rn,{path:"/cost",element:b.jsx(tj,{})}),b.jsx(rn,{path:"/logs",element:b.jsx(aj,{})}),b.jsx(rn,{path:"/doctor",element:b.jsx(hj,{})}),b.jsx(rn,{path:"*",element:b.jsx(AM,{to:"/",replace:!0})})]})})}):b.jsx(dj,{onPair:t})}function pj(){return b.jsx(y3,{children:b.jsx(mj,{})})}T4.createRoot(document.getElementById("root")).render(b.jsx(a2.StrictMode,{children:b.jsx($M,{basename:"/",children:b.jsx(pj,{})})}));
